<!DOCTYPE html>
<html><head><title>Issue2777.xaml.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(134);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Core.Windows.UITests/Issue2777.xaml.cs" target="_top">Issue2777.xaml.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Core.Windows.UITests" target="_top">Xamarin.Forms.Core.Windows.UITests\Xamarin.Forms.Core.Windows.UITests.csproj</a> (Xamarin.Forms.Core.Windows.UITests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">ObjectModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">CustomAttributes</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Internals</span>;
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">UITEST</span>
<b>using</b> <span class="i n">Xamarin</span>.<span class="i">UITest</span>;
<b>using</b> <span class="i">NUnit</span>.<span class="i">Framework</span>;
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
 
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Controls</span>.<span class="i n">Issues</span>
{
	[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
	[<a href="/Xamarin.Forms.CustomAttributes/A.html#ee8e16fdd2ff2815" class="t constructor">Issue</a> (<a href="/Xamarin.Forms.CustomAttributes/A.html#71fbc272a65cfefa" class="t t">IssueTracker</a>.<a href="/Xamarin.Forms.CustomAttributes/A.html#95167b8d420cde62" class="i field">Github</a>, 2777, <span class="s">&quot;When add GroupHeaderTemplate in XAML the group header does not show up&quot;</span>)]
	<b>public</b> <b>partial</b> <b>class</b> <a id="edaa69143e23870f" href="R/edaa69143e23870f.html" target="n" data-glyph="0,0" class="t t">Issue2777</a> : <a href="TestPages.cs.html#68092d82b8b3d7b5" class="t t">TestContentPage</a>
	{
		<b>public</b> <a id="94e95e7c2c96efdb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">Issue2777</a> ()
		{
			<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">APP</span>
<span class="e">			InitializeComponent ();
			var list = SetupList ();
			itemListView.ItemsSource = list;
</span>			<span class="k preprocess">#</span><span class="k preprocess">endif</span>
		
		}
 
		<b>protected override void</b> <a id="25f607e2751f84cc" href="R/25f607e2751f84cc.html" target="n" data-glyph="75,1" class="i method">Init</a> ()
		{
			
		}
 
		<b>internal void</b> <a id="1a1b0ab20e6107a2" href="R/../../0000000000.html" target="n" data-glyph="74,1" class="i method">OnItemTapped</a> (<b>object</b> <span id="r0 rd" class="r0 r">sender</span>, <a href="/Xamarin.Forms.Core/A.html#f0c61b52b61bccb5" class="t t">ItemTappedEventArgs</a> <span id="r1 rd" class="r1 r">ea</span>)
		{
			<a href="#f94f96268ff261af" class="k">var</a> <span id="r2 rd" class="r2 r">listItem</span> = (<a href="#f94f96268ff261af" class="t t">ListItemValue</a>)<span class="r1 r">ea</span>.<a href="/Xamarin.Forms.Core/A.html#4203d0cca4ed2941" class="i property">Item</a>;
			<a href="/Xamarin.Forms.Core/A.html#32f71e573cc89428" class="i method">DisplayAlert</a> (<span class="r2 r">listItem</span>.<a href="#24b8cd3b8b407078" class="i property">Name</a>, <span class="s">&quot;You tapped &quot;</span> + <span class="r2 r">listItem</span>.<a href="#24b8cd3b8b407078" class="i property">Name</a>, <span class="s">&quot;OK&quot;</span>, <span class="s">&quot;Cancel&quot;</span>);
		}
 
		<a href="@0@System/A.html#f63ea2601f5edbbb" class="t t">ObservableCollection</a>&lt;<a href="#9ebfb464c14c2a3e" class="t t">ListItemCollection</a>&gt; <a id="b42778eaf865b18f" href="R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">SetupList</a> ()
		{
			<a href="@0@System/A.html#f63ea2601f5edbbb" class="k">var</a> <span id="r3 rd" class="r3 r">allListItemGroups</span> = <b>new</b> <a href="@0@System/A.html#a0b7a0640c9feb02" class="t constructor">ObservableCollection</a>&lt;<a href="#9ebfb464c14c2a3e" class="t t">ListItemCollection</a>&gt; ();
 
			<b>foreach</b> (<a href="#f94f96268ff261af" class="k">var</a> <span id="r4 rd" class="r4 r">item</span> <b>in</b> <a href="#9ebfb464c14c2a3e" class="t t">ListItemCollection</a>.<a href="#c528e967e12203da" class="i method">GetSortedData</a>()) {
				<span class="c">// Attempt to find any existing groups where theg group title matches the first char of our ListItem&#39;s name.</span>
				<a href="#9ebfb464c14c2a3e" class="k">var</a> <span id="r5 rd" class="r5 r">listItemGroup</span> = <span class="r3 r">allListItemGroups</span>.<a href="@0@System.Core/A.html#b7e5965cab68b1cf" class="i method">FirstOrDefault</a> (<span id="r6 rd" class="r6 r">g</span> =&gt; <span class="r6 r">g</span>.<a href="#d9bba344d28367d5" class="i property">Title</a> == <span class="r4 r">item</span>.<a href="#2ca1314e77f646ad" class="i property">Label</a>);
 
				<span class="c">// If the list group does not exist, we create it.</span>
				<b>if</b> (<span class="r5 r">listItemGroup</span> == <b>null</b>) {
					<span class="r5 r">listItemGroup</span> = <b>new</b> <a href="#36761b7469df3a0c" class="t constructor">ListItemCollection</a> (<span class="r4 r">item</span>.<a href="#2ca1314e77f646ad" class="i property">Label</a>);
					<span class="r5 r">listItemGroup</span>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<span class="r4 r">item</span>);
					<span class="r3 r">allListItemGroups</span>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<span class="r5 r">listItemGroup</span>);
				} <b>else</b> { <span class="c">// If the group does exist, we simply add the demo to the existing group.</span>
					<span class="r5 r">listItemGroup</span>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<span class="r4 r">item</span>);
				}
			}
			<b>return</b> <span class="r3 r">allListItemGroups</span>;
		}
 
		<span class="c">// Represents a group of items in our list.</span>
		[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
		<b>public class</b> <a id="9ebfb464c14c2a3e" href="R/9ebfb464c14c2a3e.html" target="n" data-glyph="0,1" class="t t">ListItemCollection</a> : <a href="@0@System/A.html#f63ea2601f5edbbb" class="t t">ObservableCollection</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt;
		{
			<b>public string</b> <a id="d9bba344d28367d5" href="R/d9bba344d28367d5.html" target="n" data-glyph="102,2" class="i property">Title</a> { <b>get</b>; <b>private set</b>; }
 
			<b>public string</b> <a id="cf13ad70a9300085" href="R/../../0000000000.html" target="n" data-glyph="102,2" class="i property">LongTitle</a> { <b>get</b> { <b>return</b> <span class="s">&quot;The letter &quot;</span> + <a href="#d9bba344d28367d5" class="i property">Title</a>; } }
 
			<b>public</b> <a id="36761b7469df3a0c" href="R/36761b7469df3a0c.html" target="n" data-glyph="72,2" class="i constructor">ListItemCollection</a> (<b>string</b> <span id="r7 rd" class="r7 r">title</span>)
			{
				<a href="#d9bba344d28367d5" class="i property">Title</a> = <span class="r7 r">title</span>;
			}
 
			<b>public static</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt; <a id="c528e967e12203da" href="R/c528e967e12203da.html" target="n" data-glyph="72,2" class="i method">GetSortedData</a> ()
			{
				<a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r8 rd" class="r8 r">items</span> = <a href="#f1115615630dd5b7" class="i field">ListItems</a>;
				<span class="r8 r">items</span>.<a href="@0@mscorlib/A.html#2f4bb2904365726f" class="i method">Sort</a> ();
				<b>return</b> <span class="r8 r">items</span>;
			}
 
			<span class="c">// Data used to populate our list.</span>
			<b>static readonly</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt; <a id="f1115615630dd5b7" href="R/f1115615630dd5b7.html" target="n" data-glyph="46,2" class="i field">ListItems</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt; () {
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Babbage&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Boole&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Berners-Lee&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Atanasoff&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Allen&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Cormack&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Cray&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Dijkstra&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Dix&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Dewey&quot;</span>),
				<b>new</b> <a href="#6f43caa1bc67b7ca" class="t constructor">ListItemValue</a> (<span class="s">&quot;Erdős&quot;</span>),
			};
		}
 
		<span class="c">// Represents one item in our list.</span>
		[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
		<b>public class</b> <a id="f94f96268ff261af" href="R/f94f96268ff261af.html" target="n" data-glyph="0,1" class="t t">ListItemValue</a> : <a href="@0@mscorlib/A.html#3911354c40e0c30e" class="t t">IComparable</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt;
		{
			<b>public string</b> <a id="24b8cd3b8b407078" href="R/24b8cd3b8b407078.html" target="n" data-glyph="102,2" class="i property">Name</a> { <b>get</b>; <b>private set</b>; }
 
 
			<b>public</b> <a id="6f43caa1bc67b7ca" href="R/6f43caa1bc67b7ca.html" target="n" data-glyph="72,2" class="i constructor">ListItemValue</a> (<b>string</b> <span id="r9 rd" class="r9 r">name</span>)
			{
				<a href="#24b8cd3b8b407078" class="i property">Name</a> = <span class="r9 r">name</span>;
			}
 
			<b>int</b> <a href="@0@mscorlib/A.html#3911354c40e0c30e" class="t t">IComparable</a>&lt;<a href="#f94f96268ff261af" class="t t">ListItemValue</a>&gt;.<a href="@0@mscorlib/A.html#a2960726573f0256" class="i method">CompareTo</a> (<a href="#f94f96268ff261af" class="t t">ListItemValue</a> <span id="r10 rd" class="r10 r">value</span>)
			{
				<b>return</b> <a href="#24b8cd3b8b407078" class="i property">Name</a>.<a href="@0@mscorlib/A.html#141ddf57a009d676" class="i method">CompareTo</a> (<span class="r10 r">value</span>.<a href="#24b8cd3b8b407078" class="i property">Name</a>);
			}
 
			<b>public string</b> <a id="2ca1314e77f646ad" href="R/2ca1314e77f646ad.html" target="n" data-glyph="102,2" class="i property">Label</a> {
				<b>get</b> {
					<b>return</b> <a href="#24b8cd3b8b407078" class="i property">Name</a> [0].<a href="@0@mscorlib/A.html#8da116b4ffb677f2" class="i method">ToString</a> ();
				}
			}
		}
	
 
		<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">UITEST</span>
		[<span class="i">Test</span>]
		<b>public void</b> <a id="65faf9bb006bf3cc" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Issue2777Test</a> ()
		{
			<a href="TestPages.cs.html#4c064e8d618de9de" class="i property">RunningApp</a>.<span class="i">Screenshot</span> (<span class="s">&quot;I am at Issue 2965&quot;</span>);
			<a href="TestPages.cs.html#4c064e8d618de9de" class="i property">RunningApp</a>.<span class="i">WaitForElement</span> (<span id="r11 rd" class="r11 r">q</span> =&gt; <span class="r11 r">q</span>.<span class="i">Marked</span> (<span class="s">&quot;The letter A&quot;</span>));
		}
		<span class="k preprocess">#</span><span class="k preprocess">endif</span>
	}
}
 
</pre></td></tr></table></div></body></html>
