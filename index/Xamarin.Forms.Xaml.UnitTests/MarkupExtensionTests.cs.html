<!DOCTYPE html>
<html><head><title>MarkupExtensionTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(227);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Xaml.UnitTests/MarkupExtensionTests.cs" target="_top">MarkupExtensionTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Xaml.UnitTests" target="_top">Xamarin.Forms.Xaml.UnitTests\Xamarin.Forms.Xaml.UnitTests.csproj</a> (Xamarin.Forms.Xaml.UnitTests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i">NUnit</span>.<span class="i">Framework</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Xml</span>;
 
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Core</span>.<span class="i n">UnitTests</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Xaml</span>.<span class="i n">UnitTests</span>
{
	<b>public class</b> <a id="a718948150ffa895" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="b497cfea6fb544e0">FooMarkupExtension</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="7ffaf99e02f36db6" href="R/7ffaf99e02f36db6.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r0 rd" class="r0 r">serviceProvider</span>)
		{
			<b>return</b> <span class="s">&quot;Foo&quot;</span>;
		}
	}
 
	<b>public class</b> <a id="1510944984e896e0" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="cd08ca4203a9db95">AppendMarkupExtension</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="aa62341c7e8d0724" href="R/aa62341c7e8d0724.html" target="n" data-glyph="102,1" class="i property">Value0</a> { <b>get</b>; <b>set</b>; }
		<b>public object</b> <a id="46b0b808f386dbbc" href="R/46b0b808f386dbbc.html" target="n" data-glyph="102,1" class="i property">Value1</a> { <b>get</b>; <b>set</b>; }
 
		<b>public object</b> <a id="4f0ce0e222025a49" href="R/4f0ce0e222025a49.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r1 rd" class="r1 r">serviceProvider</span>)
		{
			<b>return</b> <a href="#aa62341c7e8d0724" class="i property">Value0</a>.<a href="@0@mscorlib/A.html#ff31a6bf27c58f89" class="i method">ToString</a> () + <a href="#46b0b808f386dbbc" class="i property">Value1</a>.<a href="@0@mscorlib/A.html#ff31a6bf27c58f89" class="i method">ToString</a> ();
		}
	}
 
	<b>public class</b> <a id="cea61fb4b0dae692" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="c0bc22d6f87acfeb">AccessServiceProviderExtension</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="7f6333b0cdca61f7" href="R/7f6333b0cdca61f7.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r2 rd" class="r2 r">serviceProvider</span>)
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r3 rd" class="r3 r">result</span> = <span class="s">&quot;&quot;</span>;
			<b>if</b> (<span class="r2 r">serviceProvider</span> != <b>null</b>) {
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r4 rd" class="r4 r">targetValueProvider</span> = <span class="r2 r">serviceProvider</span>.<a href="@0@mscorlib/A.html#1028f1a2c9e38d33" class="i method">GetService</a> (<b>typeof</b>(<a href="/Xamarin.Forms.Core/A.html#89e12b7a1b32f354" class="t t">IProvideValueTarget</a>));
				<span class="r3 r">result</span> += <span class="r4 r">targetValueProvider</span> != <b>null</b>;
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r5 rd" class="r5 r">xamlType</span> = <span class="r2 r">serviceProvider</span>.<a href="@0@mscorlib/A.html#1028f1a2c9e38d33" class="i method">GetService</a> (<b>typeof</b>(<a href="/Xamarin.Forms.Core/A.html#d05cb618ccf24dce" class="t t">IXamlTypeResolver</a>));
				<span class="r3 r">result</span> += <span class="r5 r">xamlType</span> != <b>null</b>;
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r6 rd" class="r6 r">rootObject</span> = <span class="r2 r">serviceProvider</span>.<a href="@0@mscorlib/A.html#1028f1a2c9e38d33" class="i method">GetService</a> (<b>typeof</b>(<a href="/Xamarin.Forms.Core/A.html#2a21b0a33a3fb9bb" class="t t">IRootObjectProvider</a>));
				<span class="r3 r">result</span> += <span class="r6 r">rootObject</span> != <b>null</b>;
			}
			<b>return</b> <span class="r3 r">result</span>;
		}
	}
 
	<b>public class</b> <a id="b2f206b607732721" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">ColorMarkup</a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public int</b> <a id="7ba9ea5889584afa" href="R/7ba9ea5889584afa.html" target="n" data-glyph="102,1" class="i property">R</a> { <b>get</b>; <b>set</b>; }
		<b>public int</b> <a id="46f4297168bf34a7" href="R/46f4297168bf34a7.html" target="n" data-glyph="102,1" class="i property">G</a> { <b>get</b>; <b>set</b>; }
		<b>public int</b> <a id="b834f9a4bc9915a4" href="R/b834f9a4bc9915a4.html" target="n" data-glyph="102,1" class="i property">B</a> { <b>get</b>; <b>set</b>; }
 
		<b>public</b> <a id="f2e0708108da57cd" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">ColorMarkup</a> ()
		{
		}
 
		<b>public object</b> <a id="f6082b4161b6f101" href="R/f6082b4161b6f101.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r7 rd" class="r7 r">serviceProvider</span>)
		{
			<b>return</b> <a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>.<a href="/Xamarin.Forms.Core/A.html#c61a1e54cac50b11" class="i method">FromRgb</a> (<a href="#7ba9ea5889584afa" class="i property">R</a>, <a href="#46f4297168bf34a7" class="i property">G</a>, <a href="#b834f9a4bc9915a4" class="i property">B</a>);
		}
	}
 
	<b>public class</b> <a id="5151f4f9e1e8f19f" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="f5e827b00e463880">FuuExtension</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="7fc08d6b5042bbc8" href="R/7fc08d6b5042bbc8.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r8 rd" class="r8 r">serviceProvider</span>)
		{
			<b>return</b> <span class="s">&quot;FuuExtension&quot;</span>;
		}
	}
 
	<b>public class</b> <a id="095908280e09e21f" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="8ae112d1fdf60164">Fuu</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="905e2a7768929914" href="R/905e2a7768929914.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r9 rd" class="r9 r">serviceProvider</span>)
		{
			<b>return</b> <span class="s">&quot;Fuu&quot;</span>;
		}
	}
 
	<b>public class</b> <a id="62cb718cd6ac228b" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="a0ee7dffd32c9bd5">BaaExtension</span></a> : <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>
	{
		<b>public object</b> <a id="a56ec69cf18f2f28" href="R/a56ec69cf18f2f28.html" target="n" data-glyph="72,1" class="i method">ProvideValue</a> (<a href="@0@mscorlib/A.html#03aa8a3a87219ddd" class="t t">IServiceProvider</a> <span id="r10 rd" class="r10 r">serviceProvider</span>)
		{
			<b>return</b> <span class="s">&quot;BaaExtension&quot;</span>;
		}
	}
 
	[<span class="i">TestFixture</span>]
	<b>public class</b> <a id="733d41291662f7a7" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="f5b0eab61f12bd7d">MarkupExtensionTests</span></a> : <a href="BaseTestFixture.cs.html#65806910ac46426e" class="t t">BaseTestFixture</a>
	{
		<a href="/Xamarin.Forms.Core/A.html#d05cb618ccf24dce" class="t t">IXamlTypeResolver</a> <a id="f29ede8359dab9e3" href="R/f29ede8359dab9e3.html" target="n" data-glyph="46,1" class="i field">typeResolver</a>;
 
		[<span class="i">SetUp</span>]
		<b>public override void</b> <a id="65e8e549c87d33cd" href="R/65e8e549c87d33cd.html" target="n" data-glyph="72,1" class="i method">Setup</a> ()
		{
			<a href="BaseTestFixture.cs.html#65806910ac46426e" class="k">base</a>.<a href="BaseTestFixture.cs.html#56e5a8a4d9d984c3" class="i method">Setup</a> ();
			<a href="@0@System.Xml/A.html#5fdaa3592f8f8845" class="k">var</a> <span id="r11 rd" class="r11 r">nsManager</span> = <b>new</b> <a href="@0@System.Xml/A.html#d871ffd6b8b1d783" class="t constructor">XmlNamespaceManager</a> (<b>new</b> <a href="@0@System.Xml/A.html#97fb8ece06b8f080" class="t constructor">NameTable</a> ());
			<span class="r11 r">nsManager</span>.<a href="@0@System.Xml/A.html#0076df28ae502757" class="i method">AddNamespace</a> (<span class="s">&quot;local&quot;</span>, <span class="s">&quot;clr-namespace:Xamarin.Forms.Xaml.UnitTests;assembly=Xamarin.Forms.Xaml.UnitTests&quot;</span>);
			<span class="r11 r">nsManager</span>.<a href="@0@System.Xml/A.html#0076df28ae502757" class="i method">AddNamespace</a> (<span class="s">&quot;x&quot;</span>, <span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span>);
 
			<a href="#f29ede8359dab9e3" class="i field">typeResolver</a> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#4adad2e61c07ebb7" class="t constructor">XamlTypeResolver</a> (<span class="r11 r">nsManager</span>, <a href="/Xamarin.Forms.Xaml/A.html#761f9f93317ccb07" class="t t">XamlParser</a>.<a href="/Xamarin.Forms.Xaml/A.html#860a8b316d6b0881" class="i method">GetElementType</a>, <a href="@0@mscorlib/A.html#73b5be5e9c2474b2" class="t t">Assembly</a>.<a href="@0@mscorlib/A.html#5eeb5fbee65fc470" class="i method">GetCallingAssembly</a> ());
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="13ad64f22f7e8759" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestSimpleExtension</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r12 rd" class="r12 r">markupString</span> = <span class="s">&quot;{local:FooMarkupExtension}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r13 rd" class="r13 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
			};
			<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r14 rd" class="r14 r">result</span> = (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r12 r">markupString</span>, <span class="r13 r">serviceProvider</span>);
 
			<span class="i">Assert</span>.<span class="i">That</span> (<span class="r14 r">result</span>, <span class="i">Is</span>.<span class="i">InstanceOf</span>&lt;<b>string</b>&gt; ());
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;Foo&quot;</span>, <span class="r14 r">result</span>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="8806ab97799aa882" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestExtensionWithParameters</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r15 rd" class="r15 r">markupString</span> = <span class="s">&quot;{local:AppendMarkupExtension Value0=Foo, Value1=Bar}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r16 rd" class="r16 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
			};
			<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r17 rd" class="r17 r">result</span> = (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r15 r">markupString</span>, <span class="r16 r">serviceProvider</span>);
 
			<span class="i">Assert</span>.<span class="i">That</span> (<span class="r17 r">result</span>, <span class="i">Is</span>.<span class="i">InstanceOf</span>&lt;<b>string</b>&gt; ());
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;FooBar&quot;</span>, <span class="r17 r">result</span>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="04f425c1f702f823" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestServiceProvider</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r18 rd" class="r18 r">markupString</span> = <span class="s">&quot;{local:AccessServiceProviderExtension}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r19 rd" class="r19 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#f1dbe573b48a017d" class="i property">IProvideValueTarget</a> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#55ff1c5ee0a45ad7" class="t constructor">XamlValueTargetProvider</a> (<b>null</b>, <b>null</b>, <b>null</b>, <b>null</b>),
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
				<a href="/Xamarin.Forms.Xaml/A.html#84ae69f44790ccc2" class="i property">IRootObjectProvider</a> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#34f6297b66ba8593" class="t constructor">XamlRootObjectProvider</a>(<b>null</b>),
			};
 
			<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r20 rd" class="r20 r">result</span> = (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r18 r">markupString</span>, <span class="r19 r">serviceProvider</span>);
 
			<span class="i">Assert</span>.<span class="i">That</span> (<span class="r20 r">result</span>, <span class="i">Is</span>.<span class="i">InstanceOf</span>&lt;<b>string</b>&gt; ());
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;TrueTrueTrue&quot;</span>, <span class="r20 r">result</span>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="f864d10191fb123a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestInXaml</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r21 rd" class="r21 r">xaml</span> = <span class="s">@&quot;
			&lt;Label 
				xmlns=&quot;&quot;http://xamarin.com/schemas/2014/forms&quot;&quot;
				xmlns:x=&quot;&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;&quot;
				xmlns:local=&quot;&quot;clr-namespace:Xamarin.Forms.Xaml.UnitTests;assembly=Xamarin.Forms.Xaml.UnitTests&quot;&quot;
				Text=&quot;&quot;{local:AppendMarkupExtension Value0=Foo, Value1=Bar}&quot;&quot;
			/&gt;&quot;</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#9467fb795433a9ba" class="k">var</a> <span id="r22 rd" class="r22 r">label</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a> ();
			<span class="r22 r">label</span>.<a href="/Xamarin.Forms.Xaml/A.html#14c853ccf3a6acaa" class="i method">LoadFromXaml</a> (<span class="r21 r">xaml</span>);
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;FooBar&quot;</span>, <span class="r22 r">label</span>.<a href="/Xamarin.Forms.Core/A.html#60b82bdc24dcbdf6" class="i property">Text</a>.<a href="@0@mscorlib/A.html#efa5e6c14683e022" class="i method">ToString</a> ());
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="46c2626ac98bedd6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestMarkupExtensionInDefaultNamespace</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r23 rd" class="r23 r">xaml</span> = <span class="s">@&quot;
			&lt;forms:Label 
				xmlns=&quot;&quot;clr-namespace:Xamarin.Forms.Xaml.UnitTests;assembly=Xamarin.Forms.Xaml.UnitTests&quot;&quot;
				xmlns:x=&quot;&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;&quot;
				xmlns:forms=&quot;&quot;http://xamarin.com/schemas/2014/forms&quot;&quot;
				Text=&quot;&quot;{AppendMarkupExtension Value0=Foo, Value1=Bar}&quot;&quot;
			/&gt;&quot;</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#9467fb795433a9ba" class="k">var</a> <span id="r24 rd" class="r24 r">label</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a>();
			<span class="r24 r">label</span>.<a href="/Xamarin.Forms.Xaml/A.html#14c853ccf3a6acaa" class="i method">LoadFromXaml</a>(<span class="r23 r">xaml</span>);
			<span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="s">&quot;FooBar&quot;</span>, <span class="r24 r">label</span>.<a href="/Xamarin.Forms.Core/A.html#60b82bdc24dcbdf6" class="i property">Text</a>.<a href="@0@mscorlib/A.html#efa5e6c14683e022" class="i method">ToString</a>());
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="641a5596cbd8875e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDocumentationCode</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r25 rd" class="r25 r">xaml</span> =<span class="s">@&quot;
			&lt;Label
				xmlns=&quot;&quot;http://xamarin.com/schemas/2014/forms&quot;&quot;
				xmlns:x=&quot;&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;&quot;
				xmlns:local=&quot;&quot;clr-namespace:Xamarin.Forms.Xaml.UnitTests;assembly=Xamarin.Forms.Xaml.UnitTests&quot;&quot;
				TextColor=&quot;&quot;{local:ColorMarkup R=100, G=80, B=60}&quot;&quot;/&gt;&quot;</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#9467fb795433a9ba" class="k">var</a> <span id="r26 rd" class="r26 r">label</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a> ().<a href="/Xamarin.Forms.Xaml/A.html#14c853ccf3a6acaa" class="i method">LoadFromXaml</a> (<span class="r25 r">xaml</span>);
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>.<a href="/Xamarin.Forms.Core/A.html#c61a1e54cac50b11" class="i method">FromRgb</a> (100, 80, 60), <span class="r26 r">label</span>.<a href="/Xamarin.Forms.Core/A.html#aaad449f55c3186b" class="i property">TextColor</a>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="2073403025ffa1e2" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLookupWithSuffix</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r27 rd" class="r27 r">markupString</span> = <span class="s">&quot;{local:Baa}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r28 rd" class="r28 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
			};
			<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r29 rd" class="r29 r">result</span> = (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r27 r">markupString</span>, <span class="r28 r">serviceProvider</span>);
 
			<span class="i">Assert</span>.<span class="i">That</span> (<span class="r29 r">result</span>, <span class="i">Is</span>.<span class="i">InstanceOf</span>&lt;<b>string</b>&gt; ());
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;BaaExtension&quot;</span>, <span class="r29 r">result</span>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="4a579e20de905fe4" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLookupOrder</a> ()
		{
			<span class="c">//The order of lookup is to look for the Extension-suffixed class name first and then look for the class name without the Extension suffix.</span>
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r30 rd" class="r30 r">markupString</span> = <span class="s">&quot;{local:Fuu}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r31 rd" class="r31 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
			};
			<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r32 rd" class="r32 r">result</span> = (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r30 r">markupString</span>, <span class="r31 r">serviceProvider</span>);
 
			<span class="i">Assert</span>.<span class="i">That</span> (<span class="r32 r">result</span>, <span class="i">Is</span>.<span class="i">InstanceOf</span>&lt;<b>string</b>&gt; ());
			<span class="i">Assert</span>.<span class="i">AreEqual</span> (<span class="s">&quot;FuuExtension&quot;</span>, <span class="r32 r">result</span>);
		}
 
		[<span class="i">Test</span>]
		<b>public void</b> <a id="3e103ab3fdb3d418" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowOnMarkupExtensionNotFound</a> ()
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r33 rd" class="r33 r">markupString</span> = <span class="s">&quot;{local:Missing}&quot;</span>;
			<a href="/Xamarin.Forms.Xaml/A.html#820a1bf30a03f150" class="k">var</a> <span id="r34 rd" class="r34 r">serviceProvider</span> = <b>new</b> <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Xaml/A.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a> (<b>null</b>, <b>null</b>) {
				<a href="/Xamarin.Forms.Xaml/A.html#4f64bdd3568a8040" class="i property">IXamlTypeResolver</a> = <a href="#f29ede8359dab9e3" class="i field">typeResolver</a>,
			};
			<span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Xamarin.Forms.Core/A.html#99c63f26760b949a" class="t t">XamlParseException</a>&gt; (()=&gt; (<b>new</b> <a href="/Xamarin.Forms.Xaml/A.html#adcbbc89f874e233" class="t constructor">MarkupExtensionParser</a> ()).<a href="/Xamarin.Forms.Xaml/A.html#5cf4bd4e7aa1c8be" class="i method">ParseExpression</a> (<b>ref</b> <span class="r33 r">markupString</span>, <span class="r34 r">serviceProvider</span>));
		}
	}
}</pre></td></tr></table></div></body></html>
