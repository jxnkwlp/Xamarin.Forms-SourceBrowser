<!DOCTYPE html>
<html><head><title>Bugzilla26501.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(150);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Controls/Bugzilla26501.cs" target="_top">Bugzilla26501.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Controls" target="_top">Xamarin.Forms.Controls\Xamarin.Forms.Controls.csproj</a> (Xamarin.Forms.Controls)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">CustomAttributes</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Internals</span>;
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">UITEST</span>
<span class="e">using NUnit.Framework;
using Xamarin.UITest;
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Controls</span>.<span class="i n">Issues</span>
{
	[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
	<b>public class</b> <a id="4da4543d39101dcf" href="R/4da4543d39101dcf.html" target="n" data-glyph="0,0" class="t t">FamilyViewModel</a>
	{
		<b>public</b> <a href="@1@System.Runtime/A.html#b622ef5f6b76c10a" class="t t">Guid</a> <a id="4bbd3fd052b29932" href="R/4bbd3fd052b29932.html" target="n" data-glyph="102,1" class="i property">ProfileId</a> { <b>get</b>; <b>set</b>; }
		<b>public string</b> <a id="f14f1c8454416768" href="R/f14f1c8454416768.html" target="n" data-glyph="102,1" class="i property">DisplayName</a> { <b>get</b>; <b>set</b>; }
		<b>public string</b> <a id="61a68c32978debdc" href="R/61a68c32978debdc.html" target="n" data-glyph="102,1" class="i property">ImageFilename</a> { <b>get</b>; <b>set</b>; }
		<b>public string</b> <a id="9cd46519a31b16b6" href="R/9cd46519a31b16b6.html" target="n" data-glyph="102,1" class="i property">BonusBalance</a> { <b>get</b>; <b>set</b>; }
		<b>public string</b> <a id="9c6fdb1bfbd21154" href="R/9c6fdb1bfbd21154.html" target="n" data-glyph="102,1" class="i property">MemberNo</a> { <b>get</b>; <b>set</b>; }
 
		<b>public</b> <a id="1c474a96f610a8b3" href="R/1c474a96f610a8b3.html" target="n" data-glyph="72,1" class="i constructor">FamilyViewModel</a> ()
		{
			<a href="#4bbd3fd052b29932" class="i property">ProfileId</a> = <a href="@1@System.Runtime/A.html#b622ef5f6b76c10a" class="t t">Guid</a>.<a href="@1@System.Runtime/A.html#13baca63417ef924" class="i field">Empty</a>;
			<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;&quot;</span>;
			<a href="#9cd46519a31b16b6" class="i property">BonusBalance</a> = <span class="s">&quot;&quot;</span>;
			<a href="#9c6fdb1bfbd21154" class="i property">MemberNo</a> = <span class="s">&quot;&quot;</span>;
			<a href="#61a68c32978debdc" class="i property">ImageFilename</a> = <span class="s">&quot;&quot;</span>;
		}
	}
 
	[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
	<b>public class</b> <a id="cf649f6b6a1979fb" href="R/cf649f6b6a1979fb.html" target="n" data-glyph="0,0" class="t t">FamilyCell</a> : <a href="/Xamarin.Forms.Core/A.html#080f860d2adf2a57" class="t t">ViewCell</a>
	{
		<b>public</b> <a href="/Xamarin.Forms.Core/A.html#9467fb795433a9ba" class="t t">Label</a> <a id="bbbc1b4fae5e8a73" href="R/bbbc1b4fae5e8a73.html" target="n" data-glyph="42,1" class="i field">FamilyLabel</a>;
 
		<b>public</b> <a id="5fb2b2d45fc956f2" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">FamilyCell</a> ()
		{
			<a href="#bbbc1b4fae5e8a73" class="i field">FamilyLabel</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a> ();
 
			<a href="/Xamarin.Forms.Core/A.html#276c24118564f5d7" class="k">var</a> <span id="r0 rd" class="r0 r">l1</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#32243234320a9b33" class="t constructor">RelativeLayout</a> ();
 
			<span class="r0 r">l1</span>.<a href="/Xamarin.Forms.Core/A.html#061ef9ad01040f5c" class="i property">Children</a>.<a href="/Xamarin.Forms.Core/A.html#8b55b803fdb770bc" class="i method">Add</a> (<a href="#bbbc1b4fae5e8a73" class="i field">FamilyLabel</a>,
			                 <a href="/Xamarin.Forms.Core/A.html#72214994f3f1d9d3" class="t t">Constraint</a>.<a href="/Xamarin.Forms.Core/A.html#4b9c9da7cbd2c52e" class="i method">Constant</a> (50),
			                 <a href="/Xamarin.Forms.Core/A.html#72214994f3f1d9d3" class="t t">Constraint</a>.<a href="/Xamarin.Forms.Core/A.html#4b9c9da7cbd2c52e" class="i method">Constant</a> (4),
			                 <a href="/Xamarin.Forms.Core/A.html#72214994f3f1d9d3" class="t t">Constraint</a>.<a href="/Xamarin.Forms.Core/A.html#84894b8cccd9fbac" class="i method">RelativeToParent</a> (<span id="r1 rd" class="r1 r">p</span> =&gt; <span class="r1 r">p</span>.<a href="/Xamarin.Forms.Core/A.html#4b4ff8e00e0429d0" class="i property">Width</a> - 10 - 50 - 85)
				);
 
 
			<a href="/Xamarin.Forms.Core/A.html#7e0120b037b3522c" class="i property">View</a> = <span class="r0 r">l1</span>;
 
			<a href="#bbbc1b4fae5e8a73" class="i field">FamilyLabel</a>.<a href="/Xamarin.Forms.Core/A.html#6da00f516fa898d7" class="i method">SetBinding</a> (<a href="/Xamarin.Forms.Core/A.html#9467fb795433a9ba" class="t t">Label</a>.<a href="/Xamarin.Forms.Core/A.html#208bde7cd8e27200" class="i field">TextProperty</a>, <span class="s">&quot;DisplayName&quot;</span>);
 
			<span class="c">// COMMENT LINE BELOW OUT TO MAKE IT WORK!</span>
			<a href="#53250ad2a03f273b" class="i method">AddContextActions</a> ();
		}
 
		<b>void</b> <a id="53250ad2a03f273b" href="R/53250ad2a03f273b.html" target="n" data-glyph="76,1" class="i method">AddContextActions</a> ()
		{
			<a href="/Xamarin.Forms.Core/A.html#df6ab09b8d06612c" class="i property">ContextActions</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a> (<b>new</b> <a href="/Xamarin.Forms.Core/A.html#36ded754cef116fb" class="t constructor">MenuItem</a> () {
				<a href="/Xamarin.Forms.Core/A.html#2e0c5c546b8a8b5b" class="i property">Text</a> = <span class="s">&quot;Delete&quot;</span>,
				<a href="/Xamarin.Forms.Core/A.html#8aed7bad1663b80d" class="i property">IsDestructive</a> = <b>true</b>,
				<a href="/Xamarin.Forms.Core/A.html#979dff5c213ee332" class="i property">Command</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#d3d443b93c84bcc3" class="t constructor">Command</a> (<a href="#b3f78d3f1fd13524" class="i method">Delete</a>)
			});
 
			<a href="/Xamarin.Forms.Core/A.html#df6ab09b8d06612c" class="i property">ContextActions</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a> (<b>new</b> <a href="/Xamarin.Forms.Core/A.html#36ded754cef116fb" class="t constructor">MenuItem</a> () {
				<a href="/Xamarin.Forms.Core/A.html#2e0c5c546b8a8b5b" class="i property">Text</a> = <span class="s">&quot;More&quot;</span>,
				<a href="/Xamarin.Forms.Core/A.html#8aed7bad1663b80d" class="i property">IsDestructive</a> = <b>false</b>,
				<a href="/Xamarin.Forms.Core/A.html#979dff5c213ee332" class="i property">Command</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#d3d443b93c84bcc3" class="t constructor">Command</a> (<a href="#12cc58bed2ace54a" class="i method">More</a>)
			});
		}
 
		<b>void</b> <a id="b3f78d3f1fd13524" href="R/b3f78d3f1fd13524.html" target="n" data-glyph="76,1" class="i method">Delete</a> ()
		{
		}
 
		<b>void</b> <a id="12cc58bed2ace54a" href="R/12cc58bed2ace54a.html" target="n" data-glyph="76,1" class="i method">More</a> ()
		{
		}
	}
 
	[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a> (<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a>=<b>true</b>)]
	[<a href="/Xamarin.Forms.CustomAttributes/A.html#7e3803f42297329b" class="t constructor">Issue</a> (<a href="/Xamarin.Forms.CustomAttributes/A.html#71fbc272a65cfefa" class="t t">IssueTracker</a>.<a href="/Xamarin.Forms.CustomAttributes/A.html#4c33f6b873a9476c" class="i field">Bugzilla</a>, 26501, <span class="s">&quot;BindingSource / Context action issue&quot;</span>, <a href="/Xamarin.Forms.CustomAttributes/A.html#e0966d88fdc6123d" class="t t">PlatformAffected</a>.<a href="/Xamarin.Forms.CustomAttributes/A.html#f84b70a5245316d6" class="i field">iOS</a>)]
	<b>public class</b> <a id="d852d8b6904151cd" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="22ebea5220f12d34">Bugzilla26501</span></a> : <a href="TestPages.cs.html#68092d82b8b3d7b5" class="t t">TestContentPage</a>
	{
		<b>protected override void</b> <a id="d2b0a9235cf82e1e" href="R/d2b0a9235cf82e1e.html" target="n" data-glyph="75,1" class="i method">Init</a> ()
		{
			<span class="c">//TODO: Multilanguage</span>
			<a href="/Xamarin.Forms.Core/A.html#25a9b5c9e8eb0d28" class="i property">Title</a> = <span class="s">&quot;Context Action Bug&quot;</span>;
 
			<a href="#25c258cf86cf8699" class="i field">_familyListView</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#6f349a8ce3b4362f" class="t constructor">ListView</a> () {
				<a href="/Xamarin.Forms.Core/A.html#873f0e107de1f075" class="i property">RowHeight</a> = 50,
				<a href="/Xamarin.Forms.Core/A.html#e714497888d14198" class="i property">ItemTemplate</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#63a215190345c160" class="t constructor">DataTemplate</a> (<b>typeof</b> (<a href="#cf649f6b6a1979fb" class="t t">FamilyCell</a>)),
				<a href="/Xamarin.Forms.Core/A.html#7d4655a3bc00be9b" class="i property">HasUnevenRows</a> = <b>true</b>
			};
 
			<span class="c">//TODO: Multilanguage</span>
			<a href="/Xamarin.Forms.Core/A.html#d2ac1f7009750d5f" class="i property">ToolbarItems</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a> (<b>new</b> <a href="/Xamarin.Forms.Core/A.html#d8918e910df83463" class="t constructor">ToolbarItem</a> (<span class="s">&quot;Refresh&quot;</span>, <span class="s">&quot;&quot;</span>, () =&gt; {
				<a href="#25c258cf86cf8699" class="i field">_familyListView</a>.<a href="/Xamarin.Forms.Core/A.html#5eab030fbef30e59" class="i property">ItemsSource</a> = <a href="#746f8908715ee690" class="i field">_demoDataSource2</a>;
			}));
 
 
			<a href="#25c258cf86cf8699" class="i field">_familyListView</a>.<a href="/Xamarin.Forms.Core/A.html#b7f2960fb90d27ad" class="i">ItemSelected</a> += (<span id="r2 rd" class="r2 r">sender</span>, <span id="r3 rd" class="r3 r">e</span>) =&gt; <a href="#25c258cf86cf8699" class="i field">_familyListView</a>.<a href="/Xamarin.Forms.Core/A.html#dfce6372456ec083" class="i property">SelectedItem</a> = <b>null</b>;
 
			<a href="/Xamarin.Forms.Core/A.html#3929eda3f5d3e80d" class="i property">Content</a> = <a href="#25c258cf86cf8699" class="i field">_familyListView</a>;
 
			<a href="#4e274469d288de89" class="i method">UpdateData</a> ();
		}
 
		<b>readonly</b> <a href="#4da4543d39101dcf" class="t t">FamilyViewModel</a>[] <a id="ed566a4da2f9e906" href="R/ed566a4da2f9e906.html" target="n" data-glyph="46,1" class="i field">_demoDataSource</a> = <b>new</b> <a href="#4da4543d39101dcf" class="t t">FamilyViewModel</a>[] {
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;ZOOMER robothund&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;FROST senget鴍&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;BEADOS Quick Dry designstation&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;Redningsstation i junglen&quot;</span>},
		};
 
		<b>readonly</b> <a href="#4da4543d39101dcf" class="t t">FamilyViewModel</a>[] <a id="746f8908715ee690" href="R/746f8908715ee690.html" target="n" data-glyph="46,1" class="i field">_demoDataSource2</a> = <b>new</b> <a href="#4da4543d39101dcf" class="t t">FamilyViewModel</a>[] {
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;ZOOMER robothund&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;FROST senget鴍&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;BEADOS Quick Dry designstation&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;Redningsstation i junglen&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;CHAMPIONS LEAGUE 2014/15 boosterpakke&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;NEW BORN BABY luksus鎠ke med dukke&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;FURBY Boom Festive Sweater elektronisk plysdyr&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;LEGO FRIENDS 41007 Heartlake hundesalon&quot;</span>},
			<b>new</b> <a href="#1c474a96f610a8b3" class="t constructor">FamilyViewModel</a> {<a href="#f14f1c8454416768" class="i property">DisplayName</a> = <span class="s">&quot;LEGO CITY 4204 Minen&quot;</span>}
		};
 
		<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <a id="25c258cf86cf8699" href="R/25c258cf86cf8699.html" target="n" data-glyph="46,1" class="i field">_familyListView</a>;
 
		<a href="@1@System.Collections/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="#4da4543d39101dcf" class="t t">FamilyViewModel</a>&gt; <a id="66f0121b740203a0" href="R/../../0000000000.html" target="n" data-glyph="46,1" class="i field">_itemSource</a>;
 
		<b>void</b> <a id="4e274469d288de89" href="R/4e274469d288de89.html" target="n" data-glyph="76,1" class="i method">UpdateData</a> ()
		{
			<a href="/Xamarin.Forms.Core/A.html#4809323d42d3030a" class="t t">Device</a>.<a href="/Xamarin.Forms.Core/A.html#c01f48f642e0b305" class="i method">BeginInvokeOnMainThread</a> (() =&gt; <a href="#25c258cf86cf8699" class="i field">_familyListView</a>.<a href="/Xamarin.Forms.Core/A.html#5eab030fbef30e59" class="i property">ItemsSource</a> = <a href="#ed566a4da2f9e906" class="i field">_demoDataSource</a>);
		}
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">UITEST</span>
<span class="e">		[Test]
		public void TestCellsShowAfterRefresh()
		{
			RunningApp.Tap (q =&gt; q.Marked (&quot;Refresh&quot;));
 
			// make sure the refresh has completed
			System.Threading.Thread.Sleep (1);
 
			RunningApp.WaitForElement (q =&gt; q.Marked (&quot;ZOOMER robothund&quot;));
		}
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
	}
}</pre></td></tr></table></div></body></html>
