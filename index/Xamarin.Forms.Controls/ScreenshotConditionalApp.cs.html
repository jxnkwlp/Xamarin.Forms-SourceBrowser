<!DOCTYPE html>
<html><head><title>ScreenshotConditionalApp.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(450);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Controls/ScreenshotConditionalApp.cs" target="_top">ScreenshotConditionalApp.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Controls" target="_top">Xamarin.Forms.Controls\Xamarin.Forms.Controls.csproj</a> (Xamarin.Forms.Controls)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">UITEST</span>
<span class="e">using System;
using System.IO;
using Xamarin.UITest;
using Xamarin.UITest.Queries;
 
namespace Xamarin.Forms.Controls
{
	/// &lt;summary&gt;
	/// Decorator for IApp which only takes screenshots if the SCREENSHOTS symbol  is specified
	/// &lt;/summary&gt;
	internal class ScreenshotConditionalApp : IApp
	{
		readonly IApp _app;
 
		public ScreenshotConditionalApp(IApp app)
		{
			_app = app;
		}
 
		public AppResult[] Query(Func&lt;AppQuery, AppQuery&gt; query = null)
		{
			return _app.Query(query);
		}
 
		public AppResult[] Query(string marked)
		{
			return _app.Query(marked);
		}
 
		public AppWebResult[] Query(Func&lt;AppQuery, AppWebQuery&gt; query)
		{
			return _app.Query(query);
		}
 
		public T[] Query&lt;T&gt;(Func&lt;AppQuery, AppTypedSelector&lt;T&gt;&gt; query)
		{
			return _app.Query(query);
		}
 
		public string[] Query(Func&lt;AppQuery, InvokeJSAppQuery&gt; query)
		{
			return _app.Query(query);
		}
 
		public AppResult[] Flash(Func&lt;AppQuery, AppQuery&gt; query = null)
		{
			return _app.Flash(query);
		}
 
		public AppResult[] Flash(string marked)
		{
			return _app.Flash(marked);
		}
 
		public void EnterText(string text)
		{
			_app.EnterText(text);
		}
 
		public void EnterText(Func&lt;AppQuery, AppQuery&gt; query, string text)
		{
			_app.EnterText(query, text);
		}
 
		public void EnterText(string marked, string text)
		{
			_app.EnterText(marked, text);
		}
 
		public void EnterText(Func&lt;AppQuery, AppWebQuery&gt; query, string text)
		{
			_app.EnterText(query, text);
		}
 
		public void ClearText(Func&lt;AppQuery, AppWebQuery&gt; query)
		{
			_app.ClearText(query);
		}
 
		public void ClearText(Func&lt;AppQuery, AppQuery&gt; query)
		{
			_app.ClearText(query);
		}
 
		public void ClearText(string marked)
		{
			_app.ClearText(marked);
		}
 
		public void ClearText()
		{
			_app.ClearText();
		}
 
		public void PressEnter()
		{
			_app.PressEnter();
		}
 
		public void DismissKeyboard()
		{
			_app.DismissKeyboard();
		}
 
		public void Tap(Func&lt;AppQuery, AppQuery&gt; query)
		{
			_app.Tap(query);
		}
 
		public void Tap(string marked)
		{
			_app.Tap(marked);
		}
 
		public void Tap(Func&lt;AppQuery, AppWebQuery&gt; query)
		{
			_app.Tap(query);
		}
 
		public void TapCoordinates(float x, float y)
		{
			_app.TapCoordinates(x, y);
		}
 
		public void TouchAndHold(Func&lt;AppQuery, AppQuery&gt; query)
		{
			_app.TouchAndHold(query);
		}
 
		public void TouchAndHold(string marked)
		{
			_app.TouchAndHold(marked);
		}
 
		public void TouchAndHoldCoordinates(float x, float y)
		{
			_app.TouchAndHoldCoordinates(x, y);
		}
 
		public void DoubleTap(Func&lt;AppQuery, AppQuery&gt; query)
		{
			_app.DoubleTap(query);
		}
 
		public void DoubleTap(string marked)
		{
			_app.DoubleTap(marked);
		}
 
		public void DoubleTapCoordinates(float x, float y)
		{
			_app.DoubleTapCoordinates(x, y);
		}
 
		public void PinchToZoomIn(Func&lt;AppQuery, AppQuery&gt; query, TimeSpan? duration = null)
		{
			_app.PinchToZoomIn(query, duration);
		}
 
		public void PinchToZoomIn(string marked, TimeSpan? duration = null)
		{
			_app.PinchToZoomIn(marked, duration);
		}
 
		public void PinchToZoomInCoordinates(float x, float y, TimeSpan? duration)
		{
			_app.PinchToZoomInCoordinates(x, y, duration);
		}
 
		public void PinchToZoomOut(Func&lt;AppQuery, AppQuery&gt; query, TimeSpan? duration = null)
		{
			_app.PinchToZoomOut(query, duration);
		}
 
		public void PinchToZoomOut(string marked, TimeSpan? duration = null)
		{
			_app.PinchToZoomOut(marked, duration);
		}
 
		public void PinchToZoomOutCoordinates(float x, float y, TimeSpan? duration)
		{
			_app.PinchToZoomOutCoordinates(x, y, duration);
		}
 
		public void WaitFor(Func&lt;bool&gt; predicate, string timeoutMessage = &quot;Timed out waiting...&quot;, TimeSpan? timeout = null,
			TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			_app.WaitFor(predicate, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public AppResult[] WaitForElement(Func&lt;AppQuery, AppQuery&gt; query, string timeoutMessage = &quot;Timed out waiting for element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			return _app.WaitForElement(query, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public AppResult[] WaitForElement(string marked, string timeoutMessage = &quot;Timed out waiting for element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			return _app.WaitForElement(marked, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public AppWebResult[] WaitForElement(Func&lt;AppQuery, AppWebQuery&gt; query, string timeoutMessage = &quot;Timed out waiting for element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			return _app.WaitForElement(query, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public void WaitForNoElement(Func&lt;AppQuery, AppQuery&gt; query, string timeoutMessage = &quot;Timed out waiting for no element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			_app.WaitForNoElement(query, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public void WaitForNoElement(string marked, string timeoutMessage = &quot;Timed out waiting for no element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			_app.WaitForNoElement(marked, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public void WaitForNoElement(Func&lt;AppQuery, AppWebQuery&gt; query, string timeoutMessage = &quot;Timed out waiting for no element...&quot;,
			TimeSpan? timeout = null, TimeSpan? retryFrequency = null, TimeSpan? postTimeout = null)
		{
			_app.WaitForNoElement(query, timeoutMessage, timeout, retryFrequency, postTimeout);
		}
 
		public FileInfo Screenshot(string title)
		{
</span><span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">SCREENSHOTS</span>
<span class="e">			return _app.Screenshot(title);
</span><span class="k preprocess">#</span><span class="k preprocess">else</span>
<span class="e">			return null;
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
<span class="e">		}
 
		public void SwipeRight()
		{
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> 618
<span class="e">			_app.SwipeRight();
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> 618
<span class="e">		}
 
		public void SwipeLeftToRight(double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeLeftToRight(swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeLeftToRight(string marked, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeLeftToRight(marked, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeLeft()
		{
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> 618
<span class="e">			_app.SwipeLeft();
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> 618
<span class="e">		}
 
		public void SwipeRightToLeft(double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeRightToLeft(swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeRightToLeft(string marked, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeRightToLeft(marked, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeLeftToRight(Func&lt;AppQuery, AppQuery&gt; query, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeLeftToRight(query, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeLeftToRight(Func&lt;AppQuery, AppWebQuery&gt; query, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeLeftToRight(query, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeRightToLeft(Func&lt;AppQuery, AppQuery&gt; query, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeRightToLeft(query, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void SwipeRightToLeft(Func&lt;AppQuery, AppWebQuery&gt; query, double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true)
		{
			_app.SwipeRightToLeft(query, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void ScrollUp(Func&lt;AppQuery, AppQuery&gt; query = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67, int swipeSpeed = 500,
			bool withInertia = true)
		{
			_app.ScrollUp(query, strategy, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void ScrollUp(string withinMarked, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67, int swipeSpeed = 500,
			bool withInertia = true)
		{
			_app.ScrollUp(withinMarked, strategy, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void ScrollDown(Func&lt;AppQuery, AppQuery&gt; withinQuery = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true)
		{
			_app.ScrollDown(withinQuery, strategy, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void ScrollDown(string withinMarked, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67, int swipeSpeed = 500,
			bool withInertia = true)
		{
			_app.ScrollDown(withinMarked, strategy, swipePercentage, swipeSpeed, withInertia);
		}
 
		public void ScrollTo(string toMarked, string withinMarked = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollTo(toMarked, withinMarked, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollUpTo(string toMarked, string withinMarked = null, ScrollStrategy strategy = ScrollStrategy.Auto,
			double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollUpTo(toMarked, withinMarked, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollUpTo(Func&lt;AppQuery, AppWebQuery&gt; toQuery, string withinMarked, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollUpTo(toQuery, withinMarked, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollDownTo(string toMarked, string withinMarked = null, ScrollStrategy strategy = ScrollStrategy.Auto,
			double swipePercentage = 0.67, int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollDownTo(toMarked, withinMarked, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollDownTo(Func&lt;AppQuery, AppWebQuery&gt; toQuery, string withinMarked, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollDownTo(toQuery, withinMarked, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollUpTo(Func&lt;AppQuery, AppQuery&gt; toQuery, Func&lt;AppQuery, AppQuery&gt; withinQuery = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollUpTo(toQuery, withinQuery, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollUpTo(Func&lt;AppQuery, AppWebQuery&gt; toQuery, Func&lt;AppQuery, AppQuery&gt; withinQuery = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollUpTo(toQuery, withinQuery, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollDownTo(Func&lt;AppQuery, AppQuery&gt; toQuery, Func&lt;AppQuery, AppQuery&gt; withinQuery = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollDownTo(toQuery, withinQuery, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void ScrollDownTo(Func&lt;AppQuery, AppWebQuery&gt; toQuery, Func&lt;AppQuery, AppQuery&gt; withinQuery = null, ScrollStrategy strategy = ScrollStrategy.Auto, double swipePercentage = 0.67,
			int swipeSpeed = 500, bool withInertia = true, TimeSpan? timeout = null)
		{
			_app.ScrollDownTo(toQuery, withinQuery, strategy, swipePercentage, swipeSpeed, withInertia, timeout);
		}
 
		public void SetOrientationPortrait()
		{
			_app.SetOrientationPortrait();
		}
 
		public void SetOrientationLandscape()
		{
			_app.SetOrientationLandscape();
		}
 
		public void Repl()
		{
			_app.Repl();
		}
 
		public void Back()
		{
			_app.Back();
		}
 
		public void PressVolumeUp()
		{
			_app.PressVolumeUp();
		}
 
		public void PressVolumeDown()
		{
			_app.PressVolumeDown();
		}
 
		public object Invoke(string methodName, object argument = null)
		{
			return _app.Invoke(methodName, argument);
		}
 
		public object Invoke(string methodName, object[] arguments)
		{
			return _app.Invoke(methodName, arguments);
		}
 
		public void DragCoordinates(float fromX, float fromY, float toX, float toY)
		{
			_app.DragCoordinates(fromX, fromY, toX, toY);
		}
 
		public void DragAndDrop(Func&lt;AppQuery, AppQuery&gt; @from, Func&lt;AppQuery, AppQuery&gt; to)
		{
			_app.DragAndDrop(@from, to);
		}
 
		public void DragAndDrop(string @from, string to)
		{
			_app.DragAndDrop(@from, to);
		}
 
		public void SetSliderValue(string marked, double value)
		{
			_app.SetSliderValue(marked, value);
		}
 
		public void SetSliderValue(Func&lt;AppQuery, AppQuery&gt; query, double value)
		{
			_app.SetSliderValue(query, value);
		}
 
		public AppPrintHelper Print
		{
			get { return _app.Print; }
		}
 
		public IDevice Device
		{
			get { return _app.Device; }
		}
 
		public ITestServer TestServer
		{
			get { return _app.TestServer; }
		}
	}
}
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span></pre></td></tr></table></div></body></html>
