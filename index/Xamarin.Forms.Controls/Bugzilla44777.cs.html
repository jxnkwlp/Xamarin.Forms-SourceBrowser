<!DOCTYPE html>
<html><head><title>Bugzilla44777.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(29);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Controls/Bugzilla44777.cs" target="_top">Bugzilla44777.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Controls" target="_top">Xamarin.Forms.Controls\Xamarin.Forms.Controls.csproj</a> (Xamarin.Forms.Controls)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">CustomAttributes</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Internals</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">PlatformConfiguration</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">PlatformConfiguration</span>.<span class="i n">iOSSpecific</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Controls</span>
{
	[<a href="/Xamarin.Forms.Core/A.html#86e8cd96f62aab08" class="t constructor">Preserve</a>(<a href="/Xamarin.Forms.Core/A.html#1bacf10dafd22c73" class="i field">AllMembers</a> = <b>true</b>)]
	[<a href="/Xamarin.Forms.CustomAttributes/A.html#ee8e16fdd2ff2815" class="t constructor">Issue</a>(<a href="/Xamarin.Forms.CustomAttributes/A.html#71fbc272a65cfefa" class="t t">IssueTracker</a>.<a href="/Xamarin.Forms.CustomAttributes/A.html#4c33f6b873a9476c" class="i field">Bugzilla</a>, 44777, <span class="s">&quot;BarTextColor changes color for more than just the Navigation page&quot;</span>)]
	<b>public class</b> <a id="3e70325bce124be1" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="a906f192b3004605">Bugzilla44777</span></a> : <a href="TestPages.cs.html#4ae41f4f74b7c9a6" class="t t">TestMasterDetailPage</a>
	{
		<b>protected override void</b> <a id="8b48bdcbdc13b1ab" href="R/8b48bdcbdc13b1ab.html" target="n" data-glyph="75,1" class="i method">Init</a>()
		{
			<a href="/Xamarin.Forms.Core/A.html#95e50e7ead12e7eb" class="i property">Master</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#2f77fd3b834f8534" class="t constructor">ContentPage</a>() { <a href="/Xamarin.Forms.Core/A.html#25a9b5c9e8eb0d28" class="i property">Title</a> = <span class="s">&quot;I am a master page&quot;</span> };
			<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#48764a2c1e3f755c" class="t constructor">NavigationPage</a>(<b>new</b> <a href="/Xamarin.Forms.Core/A.html#2f77fd3b834f8534" class="t constructor">ContentPage</a> { <a href="/Xamarin.Forms.Core/A.html#3929eda3f5d3e80d" class="i property">Content</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a> { <a href="/Xamarin.Forms.Core/A.html#60b82bdc24dcbdf6" class="i property">Text</a> = <span class="s">&quot;The status bar text color on this page should be white on blue. When you show the Master page fully, the status bar text should be black on white. If the status bar text remains white when the Master page is fully presented, this test has failed.&quot;</span> } });
			((<a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>)<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a>).<a href="/Xamarin.Forms.Core/A.html#26d7f33d727e3892" class="i property">BarBackgroundColor</a> = <a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>.<a href="/Xamarin.Forms.Core/A.html#0b58e2031b66a065" class="i field">Blue</a>;
			((<a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>)<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a>).<a href="/Xamarin.Forms.Core/A.html#3f896d8b0da33504" class="i property">BarTextColor</a> = <a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>.<a href="/Xamarin.Forms.Core/A.html#a6c01880a405bde1" class="i field">White</a>;
 
			<a href="/Xamarin.Forms.Core/A.html#427c8be6bccb2954" class="i">IsPresentedChanged</a> += (<span id="r0 rd" class="r0 r">sender</span>, <span id="r1 rd" class="r1 r">e</span>) =&gt;
			{
				<a href="/Xamarin.Forms.Core/A.html#187368fc14858e81" class="k">var</a> <span id="r2 rd" class="r2 r">mp</span> = <span class="r0 r">sender</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#187368fc14858e81" class="t t">MasterDetailPage</a>;
				<b>if</b> (<span class="r2 r">mp</span>.<a href="/Xamarin.Forms.Core/A.html#59f4de40953f21a2" class="i property">IsPresented</a>)
					((<a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>)<span class="r2 r">mp</span>.<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a>).<a href="/Xamarin.Forms.Core/A.html#78e44da6315eff5f" class="i method">On</a>&lt;<a href="/Xamarin.Forms.Core/A.html#ce50eb548079ddaa" class="t t">iOS</a>&gt;().<a href="/Xamarin.Forms.Core/A.html#30df3fe52898eb6a" class="i method">SetStatusBarTextColorMode</a>(<a href="/Xamarin.Forms.Core/A.html#2b3e761c90a7a3eb" class="t t">StatusBarTextColorMode</a>.<a href="/Xamarin.Forms.Core/A.html#562d8598173d1075" class="i field">DoNotAdjust</a>);
				<b>else</b>
					((<a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>)<span class="r2 r">mp</span>.<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a>).<a href="/Xamarin.Forms.Core/A.html#78e44da6315eff5f" class="i method">On</a>&lt;<a href="/Xamarin.Forms.Core/A.html#ce50eb548079ddaa" class="t t">iOS</a>&gt;().<a href="/Xamarin.Forms.Core/A.html#30df3fe52898eb6a" class="i method">SetStatusBarTextColorMode</a>(<a href="/Xamarin.Forms.Core/A.html#2b3e761c90a7a3eb" class="t t">StatusBarTextColorMode</a>.<a href="/Xamarin.Forms.Core/A.html#5a2ddd4b3e781bce" class="i field">MatchNavigationBarTextLuminosity</a>);
			};
		}
	}
}</pre></td></tr></table></div></body></html>
