<!DOCTYPE html>
<html><head><title>BaseViewContainerRemoteAndroid.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(49);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Core.Android.UITests/BaseViewContainerRemoteAndroid.cs" target="_top">BaseViewContainerRemoteAndroid.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Core.Android.UITests" target="_top">Xamarin.Forms.Core.Android.UITests\Xamarin.Forms.Core.Android.UITests.csproj</a> (Xamarin.Forms.Core.Android.UITests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Core</span>.<span class="i n">UITests</span>
{
	<b>internal abstract</b> <a href="P/578ea6bbc329ac7a.html" target="s" class="k">partial</a> <b>class</b> <a id="578ea6bbc329ac7a" href="R/578ea6bbc329ac7a.html" target="n" data-glyph="2,0" class="t t">BaseViewContainerRemote</a>
	{
		<b>bool</b> <a id="b957c059173c29e2" href="R/b957c059173c29e2.html" target="n" data-glyph="76,1" class="i method">TryConvertViewScale</a>&lt;<span id="r0 rd t" class="r0 r t">T</span>&gt;(<a href="/Xamarin.Forms.Core/A.html#743d6dd5177e1828" class="t t">BindableProperty</a> <span id="r1 rd" class="r1 r">formProperty</span>, <b>string</b> <span id="r2 rd" class="r2 r">query</span>, <b>out</b> <span class="r0 r t">T</span> <span id="r3 rd" class="r3 r">result</span>)
		{
			<span class="r3 r">result</span> = <b>default</b>(<span class="r0 r t">T</span>);
 
			<b>if</b> (<span class="r1 r">formProperty</span> == <a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="t t">View</a>.<a href="/Xamarin.Forms.Core/A.html#7101c14ebc333e1d" class="i field">ScaleProperty</a>) {
 
				<a href="@0@mscorlib/A.html#1806cf6634f5a371" class="t t">Tuple</a>&lt;<b>string</b>[], <b>bool</b>&gt; <span id="r4 rd" class="r4 r">property</span> = <span class="r1 r">formProperty</span>.<a href="BaseViewContainerRemote.cs.html#98f730f0a9a03428" class="i method">GetPlatformPropertyQuery</a>();
				<b>string</b>[] <span id="r5 rd" class="r5 r">propertyPath</span> = <span class="r4 r">property</span>.<a href="@0@mscorlib/A.html#d1922db1cf9dcd03" class="i property">Item1</a>;
 
				<a href="NumericExtensions.cs.html#4c924d82f94ffb1f" class="k">var</a> <span id="r6 rd" class="r6 r">matrix</span> = <b>new</b> <a href="NumericExtensions.cs.html#4c924d82f94ffb1f" class="t constructor">Matrix</a> ();
				<span class="r6 r">matrix</span>.<a href="NumericExtensions.cs.html#677596954bebe697" class="i field">M00</a> = <a href="BaseViewContainerRemote.cs.html#2f36da898b73a067" class="i property">App</a>.<span class="i">Query</span> (<span id="r7 rd" class="r7 r">q</span> =&gt; <span class="r7 r">q</span>.<span class="i">Raw</span> (<span class="r2 r">query</span>).<span class="i">Invoke</span> (<span class="r5 r">propertyPath</span>[0]).<span class="i">Value</span>&lt;<b>float</b>&gt; ()).<span class="i">First</span> ();
				<span class="r6 r">matrix</span>.<a href="NumericExtensions.cs.html#06d7a9bdf90905ce" class="i field">M11</a> = <a href="BaseViewContainerRemote.cs.html#2f36da898b73a067" class="i property">App</a>.<span class="i">Query</span> (<span id="r8 rd" class="r8 r">q</span> =&gt; <span class="r8 r">q</span>.<span class="i">Raw</span> (<span class="r2 r">query</span>).<span class="i">Invoke</span> (<span class="r5 r">propertyPath</span>[1]).<span class="i">Value</span>&lt;<b>float</b>&gt; ()).<span class="i">First</span> ();
				<span class="r6 r">matrix</span>.<a href="NumericExtensions.cs.html#7ea7904069986acd" class="i field">M22</a> = 0.5f;
				<span class="r6 r">matrix</span>.<a href="NumericExtensions.cs.html#a23a56d4e430b6ef" class="i field">M33</a> = 1.0f;
				<span class="r3 r">result</span> = (<span class="r0 r t">T</span>)((<b>object</b>)<span class="r6 r">matrix</span>);
				<b>return true</b>;
			}
 
			<b>return false</b>;
		}
 
		<b>string</b> <a id="0329049043c89e2c" href="R/0329049043c89e2c.html" target="n" data-glyph="76,1" class="i method">AccountForFastRenderers</a>(<b>string</b> <span id="r9 rd" class="r9 r">query</span>)
		{
			<span class="c">// If we&#39;re testing the fast renderers, we don&#39;t want to check the parent control for</span>
			<span class="c">// this property (despite `isOnParentRenderer` being true); if we&#39;re testing a legacy</span>
			<span class="c">// renderer, then we *do* need to check the parent control for the property</span>
			<span class="c">// So we query the control&#39;s parent and see if it&#39;s a Container (legacy); if so, </span>
			<span class="c">// we adjust the query to look at the parent of the current control</span>
			<b>var</b> <span id="r10 rd" class="r10 r">parent</span> = <a href="BaseViewContainerRemote.cs.html#2f36da898b73a067" class="i property">App</a>.<span class="i">Query</span>(<span id="r11 rd" class="r11 r">appQuery</span> =&gt; <span class="r11 r">appQuery</span>.<span class="i">Raw</span>(<a href="BaseViewContainerRemote.cs.html#b97a3a37bb8825ca" class="i property">ViewQuery</a> + <span class="s">&quot; parent * index:0&quot;</span>));
			<b>if</b> (<span class="r10 r">parent</span>.<span class="i">Length</span> &gt; 0 &amp;&amp; <span class="r10 r">parent</span>[0].<span class="i">Label</span>.<span class="i">EndsWith</span>(<a href="BaseViewContainerRemote.cs.html#1c3a1c5e393d5675" class="i property">ContainerLabel</a>))
			{
				<span class="r9 r">query</span> = <span class="r9 r">query</span> + <span class="s">&quot; parent * index:0&quot;</span>;
			}
 
			<b>return</b> <span class="r9 r">query</span>;
		}
	}
}
</pre></td></tr></table></div></body></html>
