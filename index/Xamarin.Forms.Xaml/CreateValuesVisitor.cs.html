<!DOCTYPE html>
<html><head><title>CreateValuesVisitor.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(382);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Xaml/CreateValuesVisitor.cs" target="_top">CreateValuesVisitor.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Xaml" target="_top">Xamarin.Forms.Xaml\Xamarin.Forms.Xaml.csproj</a> (Xamarin.Forms.Xaml)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Xml</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Internals</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Xaml</span>.<span class="i n">Internals</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Xaml</span>
{
	<b>internal class</b> <a id="c3206fff12b944ab" href="R/c3206fff12b944ab.html" target="n" data-glyph="2,0" class="t t">CreateValuesVisitor</a> : <a href="XamlNodeVisitor.cs.html#b541306a207eb42e" class="t t">IXamlNodeVisitor</a>
	{
		<b>public</b> <a id="347bbc7ebd23b0a3" href="R/347bbc7ebd23b0a3.html" target="n" data-glyph="72,1" class="i constructor">CreateValuesVisitor</a>(<a href="HydrationContext.cs.html#30eb9f712f99d66c" class="t t">HydrationContext</a> <span id="r0 rd" class="r0 r">context</span>)
		{
			<a href="#10a2552e1174e2c4" class="i property">Context</a> = <span class="r0 r">context</span>;
		}
 
		<a href="@1@System.Collections/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a>, <b>object</b>&gt; <a id="a18bb8a8a8c1ef53" href="R/a18bb8a8a8c1ef53.html" target="n" data-glyph="106,1" class="i property">Values</a>
		{
			<b>get</b> { <b>return</b> <a href="#10a2552e1174e2c4" class="i property">Context</a>.<a href="HydrationContext.cs.html#f7f6ecfaaac2a343" class="i property">Values</a>; }
		}
 
		<a href="HydrationContext.cs.html#30eb9f712f99d66c" class="t t">HydrationContext</a> <a id="10a2552e1174e2c4" href="R/10a2552e1174e2c4.html" target="n" data-glyph="106,1" class="i property">Context</a> { <b>get</b>; }
 
		<b>public</b> <a href="XamlNodeVisitor.cs.html#9d9e9e5a3534fb33" class="t t">TreeVisitingMode</a> <a id="b2d8422008aa6410" href="R/b2d8422008aa6410.html" target="n" data-glyph="102,1" class="i property">VisitingMode</a> =&gt; <a href="XamlNodeVisitor.cs.html#9d9e9e5a3534fb33" class="t t">TreeVisitingMode</a>.<a href="XamlNodeVisitor.cs.html#0b6fe56bad8bf80b" class="i field">BottomUp</a>;
		<b>public bool</b> <a id="e33315214997236f" href="R/e33315214997236f.html" target="n" data-glyph="102,1" class="i property">StopOnDataTemplate</a> =&gt; <b>true</b>;
		<b>public bool</b> <a id="8857d8a4138d8ceb" href="R/8857d8a4138d8ceb.html" target="n" data-glyph="102,1" class="i property">StopOnResourceDictionary</a> =&gt; <b>false</b>;
		<b>public bool</b> <a id="5b5ef073353a1c75" href="R/5b5ef073353a1c75.html" target="n" data-glyph="102,1" class="i property">VisitNodeOnDataTemplate</a> =&gt; <b>false</b>;
 
		<b>public void</b> <a id="672f8a96572e6d5e" href="R/672f8a96572e6d5e.html" target="n" data-glyph="72,1" class="i method">Visit</a>(<a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a> <span id="r1 rd" class="r1 r">node</span>, <a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r2 rd" class="r2 r">parentNode</span>)
		{
			<a href="#a18bb8a8a8c1ef53" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r1 r">node</span>] = <span class="r1 r">node</span>.<a href="XamlNode.cs.html#5fa72a93b49782e1" class="i property">Value</a>;
		}
 
		<b>public void</b> <a id="dd928975b2792400" href="R/dd928975b2792400.html" target="n" data-glyph="72,1" class="i method">Visit</a>(<a href="XamlNode.cs.html#429a1b2e0cd22849" class="t t">MarkupNode</a> <span id="r3 rd" class="r3 r">node</span>, <a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r4 rd" class="r4 r">parentNode</span>)
		{
		}
 
		<b>public void</b> <a id="a91bebc2f14f5c66" href="R/a91bebc2f14f5c66.html" target="n" data-glyph="72,1" class="i method">Visit</a>(<a href="XamlNode.cs.html#6162566191bf011a" class="t t">ElementNode</a> <span id="r5 rd" class="r5 r">node</span>, <a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r6 rd" class="r6 r">parentNode</span>)
		{
			<b>object</b> <span id="r7 rd" class="r7 r">value</span> = <b>null</b>;
 
			<a href="/Xamarin.Forms.Core/A.html#99c63f26760b949a" class="t t">XamlParseException</a> <span id="r8 rd" class="r8 r">xpe</span>;
			<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="k">var</a> <span id="r9 rd" class="r9 r">type</span> = <a href="XamlParser.cs.html#761f9f93317ccb07" class="t t">XamlParser</a>.<a href="XamlParser.cs.html#860a8b316d6b0881" class="i method">GetElementType</a>(<span class="r5 r">node</span>.<a href="XamlNode.cs.html#8505373ce60c6127" class="i property">XmlType</a>, <span class="r5 r">node</span>, <a href="#10a2552e1174e2c4" class="i property">Context</a>.<a href="HydrationContext.cs.html#85e0c98e31a53ea0" class="i property">RootElement</a>?.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>().<span class="i method">GetTypeInfo</span>().<span class="i property">Assembly</span>,
				<b>out</b> <span class="r8 r">xpe</span>);
			<b>if</b> (<span class="r8 r">xpe</span> != <b>null</b>)
				<b>throw</b> <span class="r8 r">xpe</span>;
 
			<a href="#10a2552e1174e2c4" class="i property">Context</a>.<a href="HydrationContext.cs.html#8088dfe15231d08f" class="i property">Types</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r5 r">node</span>] = <span class="r9 r">type</span>;
			<b>string</b> <span id="r10 rd" class="r10 r">ctorargname</span>;
			<b>if</b> (<a href="#bb6002f644f21657" class="i method">IsXaml2009LanguagePrimitive</a>(<span class="r5 r">node</span>))
				<span class="r7 r">value</span> = <a href="#18d5ae6c1bf0691b" class="i method">CreateLanguagePrimitive</a>(<span class="r9 r">type</span>, <span class="r5 r">node</span>);
			<b>else if</b> (<span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#22fd7cd7408aed6e" class="i method">ContainsKey</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#ba25f468d9c4f81b" class="i field">xArguments</a>) || <span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#22fd7cd7408aed6e" class="i method">ContainsKey</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#2c33b8fa36839efb" class="i field">xFactoryMethod</a>))
				<span class="r7 r">value</span> = <a href="#349e839a7cae8ea6" class="i method">CreateFromFactory</a>(<span class="r9 r">type</span>, <span class="r5 r">node</span>);
			<b>else if</b> (
				<span class="r9 r">type</span>.<span class="i method">GetTypeInfo</span>()
					.<span class="i property">DeclaredConstructors</span>.<span class="i method">Any</span>(
						<span id="r11 rd" class="r11 r">ci</span> =&gt;
							<span class="r11 r">ci</span>.<span class="i property">IsPublic</span> &amp;&amp; <span class="r11 r">ci</span>.<span class="i method">GetParameters</span>().<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a> != 0 &amp;&amp;
							<span class="r11 r">ci</span>.<span class="i method">GetParameters</span>().<span class="i method">All</span>(<span id="r12 rd" class="r12 r">pi</span> =&gt; <span class="r12 r">pi</span>.<span class="i property">CustomAttributes</span>.<span class="i method">Any</span>(<span id="r13 rd" class="r13 r">attr</span> =&gt; <span class="r13 r">attr</span>.<span class="i property">AttributeType</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#5927ac6c88f59648" class="t t">ParameterAttribute</a>)))) &amp;&amp;
				<a href="#cce976fa331827d1" class="i method">ValidateCtorArguments</a>(<span class="r9 r">type</span>, <span class="r5 r">node</span>, <b>out</b> <span class="r10 r">ctorargname</span>))
				<span class="r7 r">value</span> = <a href="#f448c5fc7891aeaa" class="i method">CreateFromParameterizedConstructor</a>(<span class="r9 r">type</span>, <span class="r5 r">node</span>);
			<b>else if</b> (!<span class="r9 r">type</span>.<span class="i method">GetTypeInfo</span>().<span class="i property">DeclaredConstructors</span>.<span class="i method">Any</span>(<span id="r14 rd" class="r14 r">ci</span> =&gt; <span class="r14 r">ci</span>.<span class="i property">IsPublic</span> &amp;&amp; <span class="r14 r">ci</span>.<span class="i method">GetParameters</span>().<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a> == 0) &amp;&amp;
			         !<a href="#cce976fa331827d1" class="i method">ValidateCtorArguments</a>(<span class="r9 r">type</span>, <span class="r5 r">node</span>, <b>out</b> <span class="r10 r">ctorargname</span>))
			{
				<b>throw</b> <b>new</b> <a href="/Xamarin.Forms.Core/A.html#40567081c8b7dfe0" class="t constructor">XamlParseException</a>(<span class="s">$&quot;</span><span class="s">The Property </span>{<span class="r10 r">ctorargname</span>}<span class="s"> is required to create a </span>{<span class="r9 r">type</span>.<a href="@1@System.Runtime/A.html#976443bb39dc37cd" class="i property">FullName</a>}<span class="s"> object.</span><span class="s">&quot;</span>, <span class="r5 r">node</span>);
			}
			<b>else</b>
			{
				<span class="c">//this is a trick as the DataTemplate parameterless ctor is internal, and we can&#39;t CreateInstance(..., false) on WP7</span>
				<b>try</b>
				{
					<b>if</b> (<span class="r9 r">type</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#8bb08c0913bdfc63" class="t t">DataTemplate</a>))
						<span class="r7 r">value</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#cf408e1ea1dbb8fd" class="t constructor">DataTemplate</a>();
					<b>if</b> (<span class="r9 r">type</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#3b9f9a1ffdbc2fe0" class="t t">ControlTemplate</a>))
						<span class="r7 r">value</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#f2f55d460812a47e" class="t constructor">ControlTemplate</a>();
					<b>if</b> (<span class="r7 r">value</span> == <b>null</b> &amp;&amp; <span class="r5 r">node</span>.<a href="XamlNode.cs.html#339c6ad4140ad10f" class="i property">CollectionItems</a>.<span class="i method">Any</span>() &amp;&amp; <span class="r5 r">node</span>.<a href="XamlNode.cs.html#339c6ad4140ad10f" class="i property">CollectionItems</a>.<span class="i method">First</span>() <b>is</b> <a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a>)
					{
						<a href="XamlServiceProvider.cs.html#820a1bf30a03f150" class="k">var</a> <span id="r15 rd" class="r15 r">serviceProvider</span> = <b>new</b> <a href="XamlServiceProvider.cs.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a>(<span class="r5 r">node</span>, <a href="#10a2552e1174e2c4" class="i property">Context</a>);
						<a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r16 rd" class="r16 r">converted</span> = ((<a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a>)<span class="r5 r">node</span>.<a href="XamlNode.cs.html#339c6ad4140ad10f" class="i property">CollectionItems</a>.<span class="i method">First</span>()).<a href="XamlNode.cs.html#5fa72a93b49782e1" class="i property">Value</a>.<a href="/Xamarin.Forms.Core/A.html#85616d28c3af8095" class="i method">ConvertTo</a>(<span class="r9 r">type</span>, () =&gt; <span class="r9 r">type</span>.<span class="i method">GetTypeInfo</span>(),
							<span class="r15 r">serviceProvider</span>);
						<b>if</b> (<span class="r16 r">converted</span> != <b>null</b> &amp;&amp; <span class="r16 r">converted</span>.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>() == <span class="r9 r">type</span>)
							<span class="r7 r">value</span> = <span class="r16 r">converted</span>;
					}
					<b>if</b> (<span class="r7 r">value</span> == <b>null</b>)
						<span class="r7 r">value</span> = <a href="@1@System.Runtime/A.html#955a7437554c8efc" class="t t">Activator</a>.<a href="@1@System.Runtime/A.html#4c7b92371a93f246" class="i method">CreateInstance</a>(<span class="r9 r">type</span>);
				}
				<b>catch</b> (<span class="t t">TargetInvocationException</span> <span id="r17 rd" class="r17 r">e</span>)
				{
					<b>if</b> (<span class="r17 r">e</span>.<a href="@1@System.Runtime/A.html#89c20b39fb04108b" class="i property">InnerException</a> <b>is</b> <a href="/Xamarin.Forms.Core/A.html#99c63f26760b949a" class="t t">XamlParseException</a> || <span class="r17 r">e</span>.<a href="@1@System.Runtime/A.html#89c20b39fb04108b" class="i property">InnerException</a> <b>is</b> <span class="t t">XmlException</span>)
						<b>throw</b> <span class="r17 r">e</span>.<a href="@1@System.Runtime/A.html#89c20b39fb04108b" class="i property">InnerException</a>;
					<b>throw</b>;
				}
			}
 
			<a href="#a18bb8a8a8c1ef53" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r5 r">node</span>] = <span class="r7 r">value</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="k">var</a> <span id="r18 rd" class="r18 r">markup</span> = <span class="r7 r">value</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#dc3b63a88853ac8b" class="t t">IMarkupExtension</a>;
			<b>if</b> (<span class="r18 r">markup</span> != <b>null</b> &amp;&amp; (<span class="r7 r">value</span> <b>is</b> <a href="MarkupExtensions/TypeExtension.cs.html#1d49ff8ccd8f7ea8" class="t t">TypeExtension</a> || <span class="r7 r">value</span> <b>is</b> <a href="MarkupExtensions/StaticExtension.cs.html#669014c953568e4e" class="t t">StaticExtension</a> || <span class="r7 r">value</span> <b>is</b> <a href="MarkupExtensions/ArrayExtension.cs.html#484d5a52019b8ed6" class="t t">ArrayExtension</a>))
			{
				<a href="XamlServiceProvider.cs.html#820a1bf30a03f150" class="k">var</a> <span id="r19 rd" class="r19 r">serviceProvider</span> = <b>new</b> <a href="XamlServiceProvider.cs.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a>(<span class="r5 r">node</span>, <a href="#10a2552e1174e2c4" class="i property">Context</a>);
 
				<a href="ApplyPropertiesVisitor.cs.html#515768b28c4a51c5" class="k">var</a> <span id="r20 rd" class="r20 r">visitor</span> = <b>new</b> <a href="ApplyPropertiesVisitor.cs.html#7dd9e338884703ef" class="t constructor">ApplyPropertiesVisitor</a>(<a href="#10a2552e1174e2c4" class="i property">Context</a>);
				<b>foreach</b> (<a href="XamlNode.cs.html#9697de7bafb1de38" class="k">var</a> <span id="r21 rd" class="r21 r">cnode</span> <b>in</b> <span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#4367dd1e300ae797" class="i property">Values</a>.<span class="i method">ToList</span>())
					<span class="r21 r">cnode</span>.<a href="XamlNode.cs.html#4ef492041d2c00e5" class="i method">Accept</a>(<span class="r20 r">visitor</span>, <span class="r5 r">node</span>);
				<b>foreach</b> (<a href="XamlNode.cs.html#9697de7bafb1de38" class="k">var</a> <span id="r22 rd" class="r22 r">cnode</span> <b>in</b> <span class="r5 r">node</span>.<a href="XamlNode.cs.html#339c6ad4140ad10f" class="i property">CollectionItems</a>)
					<span class="r22 r">cnode</span>.<a href="XamlNode.cs.html#4ef492041d2c00e5" class="i method">Accept</a>(<span class="r20 r">visitor</span>, <span class="r5 r">node</span>);
 
				<span class="r7 r">value</span> = <span class="r18 r">markup</span>.<a href="/Xamarin.Forms.Core/A.html#8111528a12164a21" class="i method">ProvideValue</a>(<span class="r19 r">serviceProvider</span>);
 
				<a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r23 rd" class="r23 r">xKey</span>;
				<b>if</b> (!<span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#ce88fd5516a3db5c" class="i field">xKey</a>, <b>out</b> <span class="r23 r">xKey</span>))
					<span class="r23 r">xKey</span> = <b>null</b>;
				
				<span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#36b30e4c0708a88c" class="i method">Clear</a>();
				<span class="r5 r">node</span>.<a href="XamlNode.cs.html#339c6ad4140ad10f" class="i property">CollectionItems</a>.<a href="@1@System.Collections/A.html#ca7bce81a50b0aeb" class="i method">Clear</a>();
 
				<b>if</b> (<span class="r23 r">xKey</span> != <b>null</b>)
					<span class="r5 r">node</span>.<a href="XamlNode.cs.html#5ee5fe5a808d6839" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#a7861da7aaa500fe" class="i method">Add</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#ce88fd5516a3db5c" class="i field">xKey</a>, <span class="r23 r">xKey</span>);
 
				<a href="#a18bb8a8a8c1ef53" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r5 r">node</span>] = <span class="r7 r">value</span>;
			}
 
			<b>if</b> (<span class="r7 r">value</span> <b>is</b> <a href="/Xamarin.Forms.Core/A.html#804aed41f6e6b7c8" class="t t">BindableObject</a>)
				<a href="/Xamarin.Forms.Core/A.html#70f946ab5204918a" class="t t">NameScope</a>.<a href="/Xamarin.Forms.Core/A.html#d308971fb5609fda" class="i method">SetNameScope</a>(<span class="r7 r">value</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#804aed41f6e6b7c8" class="t t">BindableObject</a>, <span class="r5 r">node</span>.<a href="XamlNode.cs.html#d69b70d41895fdc3" class="i property">Namescope</a>);
		}
 
		<b>public void</b> <a id="df89de7257519237" href="R/df89de7257519237.html" target="n" data-glyph="72,1" class="i method">Visit</a>(<a href="XamlNode.cs.html#539c4bdaedfa22a3" class="t t">RootNode</a> <span id="r24 rd" class="r24 r">node</span>, <a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r25 rd" class="r25 r">parentNode</span>)
		{
			<a href="XamlLoader.cs.html#96b692eafc6667a6" class="k">var</a> <span id="r26 rd" class="r26 r">rnode</span> = (<a href="XamlLoader.cs.html#7971f26b0b433914" class="t t">XamlLoader</a>.<a href="XamlLoader.cs.html#96b692eafc6667a6" class="t t">RuntimeRootNode</a>)<span class="r24 r">node</span>;
			<a href="#a18bb8a8a8c1ef53" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r24 r">node</span>] = <span class="r26 r">rnode</span>.<a href="XamlLoader.cs.html#370b1b0a9734c6e9" class="i property">Root</a>;
			<a href="#10a2552e1174e2c4" class="i property">Context</a>.<a href="HydrationContext.cs.html#8088dfe15231d08f" class="i property">Types</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r24 r">node</span>] = <span class="r26 r">rnode</span>.<a href="XamlLoader.cs.html#370b1b0a9734c6e9" class="i property">Root</a>.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>();
			<a href="/Xamarin.Forms.Core/A.html#804aed41f6e6b7c8" class="k">var</a> <span id="r27 rd" class="r27 r">bindableRoot</span> = <span class="r26 r">rnode</span>.<a href="XamlLoader.cs.html#370b1b0a9734c6e9" class="i property">Root</a> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#804aed41f6e6b7c8" class="t t">BindableObject</a>;
			<b>if</b> (<span class="r27 r">bindableRoot</span> != <b>null</b>)
				<a href="/Xamarin.Forms.Core/A.html#70f946ab5204918a" class="t t">NameScope</a>.<a href="/Xamarin.Forms.Core/A.html#d308971fb5609fda" class="i method">SetNameScope</a>(<span class="r27 r">bindableRoot</span>, <span class="r24 r">node</span>.<a href="XamlNode.cs.html#d69b70d41895fdc3" class="i property">Namescope</a>);
		}
 
		<b>public void</b> <a id="804b7d47a51d6d84" href="R/804b7d47a51d6d84.html" target="n" data-glyph="72,1" class="i method">Visit</a>(<a href="XamlNode.cs.html#0a483d0bd41cadb6" class="t t">ListNode</a> <span id="r28 rd" class="r28 r">node</span>, <a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r29 rd" class="r29 r">parentNode</span>)
		{
			<span class="c">//this is a gross hack to keep ListNode alive. ListNode must go in favor of Properties</span>
			<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a> <span id="r30 rd" class="r30 r">name</span>;
			<b>if</b> (<a href="ApplyPropertiesVisitor.cs.html#515768b28c4a51c5" class="t t">ApplyPropertiesVisitor</a>.<a href="ApplyPropertiesVisitor.cs.html#3615d7bd660c2085" class="i method">TryGetPropertyName</a>(<span class="r28 r">node</span>, <span class="r29 r">parentNode</span>, <b>out</b> <span class="r30 r">name</span>))
				<span class="r28 r">node</span>.<a href="XamlNode.cs.html#a635d7a84b783b78" class="i property">XmlName</a> = <span class="r30 r">name</span>;
		}
 
		<b>bool</b> <a id="cce976fa331827d1" href="R/cce976fa331827d1.html" target="n" data-glyph="76,1" class="i method">ValidateCtorArguments</a>(<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r31 rd" class="r31 r">nodeType</span>, <a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r32 rd" class="r32 r">node</span>, <b>out string</b> <span id="r33 rd" class="r33 r">missingArgName</span>)
		{
			<span class="r33 r">missingArgName</span> = <b>null</b>;
			<b>var</b> <span id="r34 rd" class="r34 r">ctorInfo</span> =
				<span class="r31 r">nodeType</span>.<span class="i method">GetTypeInfo</span>()
					.<span class="i property">DeclaredConstructors</span>.<span class="i method">FirstOrDefault</span>(
						<span id="r35 rd" class="r35 r">ci</span> =&gt;
							<span class="r35 r">ci</span>.<span class="i method">GetParameters</span>().<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a> != 0 &amp;&amp; <span class="r35 r">ci</span>.<span class="i property">IsPublic</span> &amp;&amp;
							<span class="r35 r">ci</span>.<span class="i method">GetParameters</span>().<span class="i method">All</span>(<span id="r36 rd" class="r36 r">pi</span> =&gt; <span class="r36 r">pi</span>.<span class="i property">CustomAttributes</span>.<span class="i method">Any</span>(<span id="r37 rd" class="r37 r">attr</span> =&gt; <span class="r37 r">attr</span>.<span class="i property">AttributeType</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#5927ac6c88f59648" class="t t">ParameterAttribute</a>))));
			<b>if</b> (<span class="r34 r">ctorInfo</span> == <b>null</b>)
				<b>return true</b>;
			<b>foreach</b> (<b>var</b> <span id="r38 rd" class="r38 r">parameter</span> <b>in</b> <span class="r34 r">ctorInfo</span>.<span class="i method">GetParameters</span>())
			{
				<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r39 rd" class="r39 r">propname</span> =
					<span class="r38 r">parameter</span>.<span class="i property">CustomAttributes</span>.<span class="i method">First</span>(<span id="r40 rd" class="r40 r">ca</span> =&gt; <span class="r40 r">ca</span>.<span class="i property">AttributeType</span>.<a href="@1@System.Runtime/A.html#976443bb39dc37cd" class="i property">FullName</a> == <span class="s">&quot;Xamarin.Forms.ParameterAttribute&quot;</span>)
						.<span class="i property">ConstructorArguments</span>.<span class="i method">First</span>()
						.<span class="i property">Value</span> <b>as string</b>;
				<b>if</b> (!<span class="r32 r">node</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#22fd7cd7408aed6e" class="i method">ContainsKey</a>(<b>new</b> <a href="XmlName.cs.html#655d78af446a108a" class="t constructor">XmlName</a>(<span class="s">&quot;&quot;</span>, <span class="r39 r">propname</span>)))
				{
					<span class="r33 r">missingArgName</span> = <span class="r39 r">propname</span>;
					<b>return false</b>;
				}
			}
 
			<b>return true</b>;
		}
 
		<b>public object</b> <a id="f448c5fc7891aeaa" href="R/f448c5fc7891aeaa.html" target="n" data-glyph="72,1" class="i method">CreateFromParameterizedConstructor</a>(<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r41 rd" class="r41 r">nodeType</span>, <a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r42 rd" class="r42 r">node</span>)
		{
			<b>var</b> <span id="r43 rd" class="r43 r">ctorInfo</span> =
				<span class="r41 r">nodeType</span>.<span class="i method">GetTypeInfo</span>()
					.<span class="i property">DeclaredConstructors</span>.<span class="i method">FirstOrDefault</span>(
						<span id="r44 rd" class="r44 r">ci</span> =&gt;
							<span class="r44 r">ci</span>.<span class="i method">GetParameters</span>().<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a> != 0 &amp;&amp; <span class="r44 r">ci</span>.<span class="i property">IsPublic</span> &amp;&amp;
							<span class="r44 r">ci</span>.<span class="i method">GetParameters</span>().<span class="i method">All</span>(<span id="r45 rd" class="r45 r">pi</span> =&gt; <span class="r45 r">pi</span>.<span class="i property">CustomAttributes</span>.<span class="i method">Any</span>(<span id="r46 rd" class="r46 r">attr</span> =&gt; <span class="r46 r">attr</span>.<span class="i property">AttributeType</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#5927ac6c88f59648" class="t t">ParameterAttribute</a>))));
			<b>object</b>[] <span id="r47 rd" class="r47 r">arguments</span> = <a href="#b4d97efa4061eb7e" class="i method">CreateArgumentsArray</a>(<span class="r42 r">node</span>, <span class="r43 r">ctorInfo</span>);
			<b>return</b> <span class="r43 r">ctorInfo</span>.<span class="i method">Invoke</span>(<span class="r47 r">arguments</span>);
		}
 
		<b>public object</b> <a id="349e839a7cae8ea6" href="R/349e839a7cae8ea6.html" target="n" data-glyph="72,1" class="i method">CreateFromFactory</a>(<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r48 rd" class="r48 r">nodeType</span>, <a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r49 rd" class="r49 r">node</span>)
		{
			<b>object</b>[] <span id="r50 rd" class="r50 r">arguments</span> = <a href="#aac91bd94402b110" class="i method">CreateArgumentsArray</a>(<span class="r49 r">node</span>);
 
			<b>if</b> (!<span class="r49 r">node</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#22fd7cd7408aed6e" class="i method">ContainsKey</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#2c33b8fa36839efb" class="i field">xFactoryMethod</a>))
			{
				<span class="c">//non-default ctor</span>
				<b>return</b> <a href="@1@System.Runtime/A.html#955a7437554c8efc" class="t t">Activator</a>.<a href="@1@System.Runtime/A.html#f6b936ab5a27846a" class="i method">CreateInstance</a>(<span class="r48 r">nodeType</span>, <span class="r50 r">arguments</span>);
			}
 
			<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r51 rd" class="r51 r">factoryMethod</span> = ((<b>string</b>)((<a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a>)<span class="r49 r">node</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#2c33b8fa36839efb" class="i field">xFactoryMethod</a>]).<a href="XamlNode.cs.html#5fa72a93b49782e1" class="i property">Value</a>);
			<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a>[] <span id="r52 rd" class="r52 r">types</span> = <span class="r50 r">arguments</span> == <b>null</b> ? <b>new</b> <a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a>[0] : <span class="r50 r">arguments</span>.<span class="i method">Select</span>(<span id="r53 rd" class="r53 r">a</span> =&gt; <span class="r53 r">a</span>.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>()).<span class="i method">ToArray</span>();
			<a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<span class="t t">MethodInfo</span>, <b>bool</b>&gt; <span id="r54 rd" class="r54 r">isMatch</span> = <span id="r55 rd" class="r55 r">m</span> =&gt; {
				<b>if</b> (<span class="r55 r">m</span>.<span class="i property">Name</span> != <span class="r51 r">factoryMethod</span>)
					<b>return false</b>;
				<b>var</b> <span id="r56 rd" class="r56 r">p</span> = <span class="r55 r">m</span>.<span class="i method">GetParameters</span>();
				<b>if</b> (<span class="r56 r">p</span>.<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a> != <span class="r52 r">types</span>.<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a>)
					<b>return false</b>;
				<b>if</b> (!<span class="r55 r">m</span>.<span class="i property">IsStatic</span>)
					<b>return false</b>;
				<b>for</b> (<a href="@1@System.Runtime/A.html#225942ed7b7a3252" class="k">var</a> <span id="r57 rd" class="r57 r">i</span> = 0; <span class="r57 r">i</span> &lt; <span class="r56 r">p</span>.<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a>; <span class="r57 r">i</span>++) {
					<b>if</b> ((<span class="r56 r">p</span> [<span class="r57 r">i</span>].<span class="i property">ParameterType</span>.<a href="/Xamarin.Forms.Core/A.html#4aeb7fed02b54bd2" class="i method">IsAssignableFrom</a>(<span class="r52 r">types</span> [<span class="r57 r">i</span>])))
						<b>continue</b>;
					<b>var</b> <span id="r58 rd" class="r58 r">op_impl</span> = <span class="r56 r">p</span> [<span class="r57 r">i</span>].<span class="i property">ParameterType</span>.<span class="i method">GetRuntimeMethod</span>(<span class="s">&quot;op_Implicit&quot;</span>, <b>new</b> [] { <span class="r52 r">types</span> [<span class="r57 r">i</span>]});
					<b>if</b> (<span class="r58 r">op_impl</span> == <b>null</b>)
						<b>return false</b>;
					<span class="r50 r">arguments</span> [<span class="r57 r">i</span>] = <span class="r58 r">op_impl</span>.<span class="i method">Invoke</span>(<b>null</b>, <b>new</b> [] { <span class="r50 r">arguments</span> [<span class="r57 r">i</span>]});
				}
				<b>return true</b>;
			};
			<b>var</b> <span id="r59 rd" class="r59 r">mi</span> = <span class="r48 r">nodeType</span>.<span class="i method">GetRuntimeMethods</span>().<span class="i method">FirstOrDefault</span>(<span class="r54 r">isMatch</span>);
			<b>if</b> (<span class="r59 r">mi</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@1@System.Runtime/A.html#3c371b619c36fec1" class="t constructor">MissingMemberException</a>(<span class="s">$&quot;</span><span class="s">No static method found for </span>{<span class="r48 r">nodeType</span>.<a href="@1@System.Runtime/A.html#976443bb39dc37cd" class="i property">FullName</a>}<span class="s">::</span>{<span class="r51 r">factoryMethod</span>}<span class="s"> (</span>{<b>string</b>.<a href="@1@System.Runtime/A.html#fa961ce440526a4d" class="i method">Join</a>(<span class="s">&quot;, &quot;</span>, <span class="r52 r">types</span>.<span class="i method">Select</span>(<span id="r60 rd" class="r60 r">t</span> =&gt; <span class="r60 r">t</span>.<a href="@1@System.Runtime/A.html#976443bb39dc37cd" class="i property">FullName</a>))}<span class="s">)</span><span class="s">&quot;</span>);
			<b>return</b> <span class="r59 r">mi</span>.<span class="i method">Invoke</span>(<b>null</b>, <span class="r50 r">arguments</span>);
		}
 
		<b>public object</b>[] <a id="aac91bd94402b110" href="R/aac91bd94402b110.html" target="n" data-glyph="72,1" class="i method">CreateArgumentsArray</a>(<a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r61 rd" class="r61 r">enode</span>)
		{
			<b>if</b> (!<span class="r61 r">enode</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#22fd7cd7408aed6e" class="i method">ContainsKey</a>(<a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#ba25f468d9c4f81b" class="i field">xArguments</a>))
				<b>return null</b>;
			<a href="XamlNode.cs.html#9697de7bafb1de38" class="k">var</a> <span id="r62 rd" class="r62 r">node</span> = <span class="r61 r">enode</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><a href="XmlName.cs.html#78eee6e8b684a76e" class="t t">XmlName</a>.<a href="XmlName.cs.html#ba25f468d9c4f81b" class="i field">xArguments</a>];
			<a href="XamlNode.cs.html#6162566191bf011a" class="k">var</a> <span id="r63 rd" class="r63 r">elementNode</span> = <span class="r62 r">node</span> <b>as</b> <a href="XamlNode.cs.html#6162566191bf011a" class="t t">ElementNode</a>;
			<b>if</b> (<span class="r63 r">elementNode</span> != <b>null</b>)
			{
				<b>var</b> <span id="r64 rd" class="r64 r">array</span> = <b>new</b> <b>object</b>[1];
				<span class="r64 r">array</span>[0] = <a href="#a18bb8a8a8c1ef53" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r63 r">elementNode</span>];
				<b>return</b> <span class="r64 r">array</span>;
			}
 
			<a href="XamlNode.cs.html#0a483d0bd41cadb6" class="k">var</a> <span id="r65 rd" class="r65 r">listnode</span> = <span class="r62 r">node</span> <b>as</b> <a href="XamlNode.cs.html#0a483d0bd41cadb6" class="t t">ListNode</a>;
			<b>if</b> (<span class="r65 r">listnode</span> != <b>null</b>)
			{
				<b>var</b> <span id="r66 rd" class="r66 r">array</span> = <b>new</b> <b>object</b>[<span class="r65 r">listnode</span>.<a href="XamlNode.cs.html#15655416e007c334" class="i property">CollectionItems</a>.<a href="@1@System.Collections/A.html#78a69d857716bc68" class="i property">Count</a>];
				<b>for</b> (<a href="@1@System.Runtime/A.html#225942ed7b7a3252" class="k">var</a> <span id="r67 rd" class="r67 r">i</span> = 0; <span class="r67 r">i</span> &lt; <span class="r65 r">listnode</span>.<a href="XamlNode.cs.html#15655416e007c334" class="i property">CollectionItems</a>.<a href="@1@System.Collections/A.html#78a69d857716bc68" class="i property">Count</a>; <span class="r67 r">i</span>++)
					<span class="r66 r">array</span>[<span class="r67 r">i</span>] = <a href="#a18bb8a8a8c1ef53" class="i property">Values</a>[(<a href="XamlNode.cs.html#6162566191bf011a" class="t t">ElementNode</a>)<span class="r65 r">listnode</span>.<a href="XamlNode.cs.html#15655416e007c334" class="i property">CollectionItems</a><a href="@1@System.Collections/A.html#0c65bec4d3fac21e">[</a><span class="r67 r">i</span>]];
				<b>return</b> <span class="r66 r">array</span>;
			}
			<b>return null</b>;
		}
 
		<b>public object</b>[] <a id="b4d97efa4061eb7e" href="R/b4d97efa4061eb7e.html" target="n" data-glyph="72,1" class="i method">CreateArgumentsArray</a>(<a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r68 rd" class="r68 r">enode</span>, <span class="t t">ConstructorInfo</span> <span id="r69 rd" class="r69 r">ctorInfo</span>)
		{
			<a href="@1@System.Runtime/A.html#225942ed7b7a3252" class="k">var</a> <span id="r70 rd" class="r70 r">n</span> = <span class="r69 r">ctorInfo</span>.<span class="i method">GetParameters</span>().<a href="@1@System.Runtime/A.html#42e9b7616956cf94" class="i property">Length</a>;
			<b>var</b> <span id="r71 rd" class="r71 r">array</span> = <b>new</b> <b>object</b>[<span class="r70 r">n</span>];
			<b>for</b> (<a href="@1@System.Runtime/A.html#225942ed7b7a3252" class="k">var</a> <span id="r72 rd" class="r72 r">i</span> = 0; <span class="r72 r">i</span> &lt; <span class="r70 r">n</span>; <span class="r72 r">i</span>++)
			{
				<b>var</b> <span id="r73 rd" class="r73 r">parameter</span> = <span class="r69 r">ctorInfo</span>.<span class="i method">GetParameters</span>()[<span class="r72 r">i</span>];
				<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r74 rd" class="r74 r">propname</span> =
					<span class="r73 r">parameter</span>.<span class="i property">CustomAttributes</span>.<span class="i method">First</span>(<span id="r75 rd" class="r75 r">attr</span> =&gt; <span class="r75 r">attr</span>.<span class="i property">AttributeType</span> == <b>typeof</b> (<a href="/Xamarin.Forms.Core/A.html#5927ac6c88f59648" class="t t">ParameterAttribute</a>))
						.<span class="i property">ConstructorArguments</span>.<span class="i method">First</span>()
						.<span class="i property">Value</span> <b>as string</b>;
				<a href="XmlName.cs.html#78eee6e8b684a76e" class="k">var</a> <span id="r76 rd" class="r76 r">name</span> = <b>new</b> <a href="XmlName.cs.html#655d78af446a108a" class="t constructor">XmlName</a>(<span class="s">&quot;&quot;</span>, <span class="r74 r">propname</span>);
				<a href="XamlNode.cs.html#9697de7bafb1de38" class="t t">INode</a> <span id="r77 rd" class="r77 r">node</span>;
				<b>if</b> (!<span class="r68 r">enode</span>.<a href="XamlNode.cs.html#ca11b3b288ccdec1" class="i property">Properties</a>.<a href="@1@System.Collections/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<span class="r76 r">name</span>, <b>out</b> <span class="r77 r">node</span>))
				{
					<b>throw</b> <b>new</b> <a href="/Xamarin.Forms.Core/A.html#40567081c8b7dfe0" class="t constructor">XamlParseException</a>(
						<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@1@System.Runtime/A.html#ad9f5b0b214ae8f3" class="i method">Format</a>(<span class="s">&quot;The Property {0} is required to create a {1} object.&quot;</span>, <span class="r74 r">propname</span>, <span class="r69 r">ctorInfo</span>.<span class="i property">DeclaringType</span>.<a href="@1@System.Runtime/A.html#976443bb39dc37cd" class="i property">FullName</a>),
						<span class="r68 r">enode</span> <b>as</b> <span class="t t">IXmlLineInfo</span>);
				}
				<b>if</b> (!<span class="r68 r">enode</span>.<a href="XamlNode.cs.html#153777a0650db791" class="i property">SkipProperties</a>.<a href="@1@System.Collections/A.html#521b9f7129105e15" class="i method">Contains</a>(<span class="r76 r">name</span>))
					<span class="r68 r">enode</span>.<a href="XamlNode.cs.html#153777a0650db791" class="i property">SkipProperties</a>.<a href="@1@System.Collections/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r76 r">name</span>);
				<a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r78 rd" class="r78 r">value</span> = <a href="#10a2552e1174e2c4" class="i property">Context</a>.<a href="HydrationContext.cs.html#f7f6ecfaaac2a343" class="i property">Values</a><a href="@1@System.Collections/A.html#49962975508e2d83">[</a><span class="r77 r">node</span>];
				<a href="XamlServiceProvider.cs.html#820a1bf30a03f150" class="k">var</a> <span id="r79 rd" class="r79 r">serviceProvider</span> = <b>new</b> <a href="XamlServiceProvider.cs.html#c50940b0b669a5c2" class="t constructor">XamlServiceProvider</a>(<span class="r68 r">enode</span>, <a href="#10a2552e1174e2c4" class="i property">Context</a>);
				<a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r80 rd" class="r80 r">convertedValue</span> = <span class="r78 r">value</span>.<a href="/Xamarin.Forms.Core/A.html#3b9fa9018b616600" class="i method">ConvertTo</a>(<span class="r73 r">parameter</span>.<span class="i property">ParameterType</span>, () =&gt; <span class="r73 r">parameter</span>, <span class="r79 r">serviceProvider</span>);
				<span class="r71 r">array</span>[<span class="r72 r">i</span>] = <span class="r80 r">convertedValue</span>;
			}
 
			<b>return</b> <span class="r71 r">array</span>;
		}
 
		<b>static bool</b> <a id="bb6002f644f21657" href="R/bb6002f644f21657.html" target="n" data-glyph="76,1" class="i method">IsXaml2009LanguagePrimitive</a>(<a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r81 rd" class="r81 r">node</span>)
		{
			<b>return</b> <span class="r81 r">node</span>.<a href="XamlNode.cs.html#3d69442fa39dc0af" class="i property">NamespaceURI</a> == <a href="XamlParser.cs.html#761f9f93317ccb07" class="t t">XamlParser</a>.<a href="XamlParser.cs.html#80b6c43c81971ca4" class="i field">X2009Uri</a>;
		}
 
		<b>static object</b> <a id="18d5ae6c1bf0691b" href="R/18d5ae6c1bf0691b.html" target="n" data-glyph="76,1" class="i method">CreateLanguagePrimitive</a>(<a href="@1@System.Runtime/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r82 rd" class="r82 r">nodeType</span>, <a href="XamlNode.cs.html#0395ca46ae80839a" class="t t">IElementNode</a> <span id="r83 rd" class="r83 r">node</span>)
		{
			<b>object</b> <span id="r84 rd" class="r84 r">value</span> = <b>null</b>;
			<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<b>string</b>))
				<span class="r84 r">value</span> = <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
			<b>else if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<a href="@1@System.Runtime/A.html#991565dd25f47c90" class="t t">Uri</a>))
				<span class="r84 r">value</span> = <b>null</b>;
			<b>else</b>
				<span class="r84 r">value</span> = <a href="@1@System.Runtime/A.html#955a7437554c8efc" class="t t">Activator</a>.<a href="@1@System.Runtime/A.html#4c7b92371a93f246" class="i method">CreateInstance</a>(<span class="r82 r">nodeType</span>);
 
			<b>if</b> (<span class="r83 r">node</span>.<a href="XamlNode.cs.html#fb3a9fc1d07f233b" class="i property">CollectionItems</a>.<a href="@1@System.Collections/A.html#78a69d857716bc68" class="i property">Count</a> == 1 &amp;&amp; <span class="r83 r">node</span>.<a href="XamlNode.cs.html#fb3a9fc1d07f233b" class="i property">CollectionItems</a>[0] <b>is</b> <a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a> &amp;&amp;
			    ((<a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a>)<span class="r83 r">node</span>.<a href="XamlNode.cs.html#fb3a9fc1d07f233b" class="i property">CollectionItems</a>[0]).<a href="XamlNode.cs.html#5fa72a93b49782e1" class="i property">Value</a> <b>is string</b>)
			{
				<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r85 rd" class="r85 r">valuestring</span> = ((<a href="XamlNode.cs.html#8154936e25abda05" class="t t">ValueNode</a>)<span class="r83 r">node</span>.<a href="XamlNode.cs.html#fb3a9fc1d07f233b" class="i property">CollectionItems</a>[0]).<a href="XamlNode.cs.html#5fa72a93b49782e1" class="i property">Value</a> <b>as string</b>;
 
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#85a269e3de1e7b9d" class="t t">SByte</a>)) {
					<b>sbyte</b> <span id="r86 rd" class="r86 r">retval</span>;
					<b>if</b> (<b>sbyte</b>.<a href="@1@System.Runtime/A.html#824d2f59cb12e26a" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r86 r">retval</span>))
						<b>return</b> <span class="r86 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#4f2f28ae4cd2bc79" class="t t">Int16</a>)) {
					<b>short</b> <span id="r87 rd" class="r87 r">retval</span>;
					<b>if</b> (<b>short</b>.<a href="@1@System.Runtime/A.html#bf10d7b4dc3f0fb0" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r87 r">retval</span>))
						<b>return</b> <span class="r87 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#225942ed7b7a3252" class="t t">Int32</a>)) {
					<b>int</b> <span id="r88 rd" class="r88 r">retval</span>;
					<b>if</b> (<b>int</b>.<a href="@1@System.Runtime/A.html#8a837c18485f9041" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r88 r">retval</span>))
						<b>return</b> <span class="r88 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#e566178cce890c36" class="t t">Int64</a>)) {
					<b>long</b> <span id="r89 rd" class="r89 r">retval</span>;
					<b>if</b> (<b>long</b>.<a href="@1@System.Runtime/A.html#10e2d1bed36c76f3" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r89 r">retval</span>))
						<b>return</b> <span class="r89 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#3933aebb80415ce0" class="t t">Byte</a>)) {
					<b>byte</b> <span id="r90 rd" class="r90 r">retval</span>;
					<b>if</b> (<b>byte</b>.<a href="@1@System.Runtime/A.html#00f7845dff674b83" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r90 r">retval</span>))
						<b>return</b> <span class="r90 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#fb226f61047a07ff" class="t t">UInt16</a>)) {
					<b>ushort</b> <span id="r91 rd" class="r91 r">retval</span>;
					<b>if</b> (<b>ushort</b>.<a href="@1@System.Runtime/A.html#41a82aa6da1c33fe" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r91 r">retval</span>))
						<b>return</b> <span class="r91 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#0cd3c987eff5ef85" class="t t">UInt32</a>)) {
					<b>uint</b> <span id="r92 rd" class="r92 r">retval</span>;
					<b>if</b> (<b>uint</b>.<a href="@1@System.Runtime/A.html#7bd4c23bba969fa8" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r92 r">retval</span>))
						<b>return</b> <span class="r92 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#4c2dfeca03143bfd" class="t t">UInt64</a>)) {
					<b>ulong</b> <span id="r93 rd" class="r93 r">retval</span>;
					<b>if</b> (<b>ulong</b>.<a href="@1@System.Runtime/A.html#170ba58c1f4d9d8c" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r93 r">retval</span>))
						<b>return</b> <span class="r93 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#dda909df0f8d2fd0" class="t t">Single</a>)) {
					<b>float</b> <span id="r94 rd" class="r94 r">retval</span>;
					<b>if</b> (<b>float</b>.<a href="@1@System.Runtime/A.html#6e35784760d42b23" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r94 r">retval</span>))
						<b>return</b> <span class="r94 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#1a65cbdb09544ba1" class="t t">Double</a>)) {
					<b>double</b> <span id="r95 rd" class="r95 r">retval</span>;
					<b>if</b> (<b>double</b>.<a href="@1@System.Runtime/A.html#4decccd0a1012765" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r95 r">retval</span>))
						<b>return</b> <span class="r95 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<a href="@1@System.Runtime/A.html#f1b135ff6c380b37" class="t t">Boolean</a>))
				{
					<b>bool</b> <span id="r96 rd" class="r96 r">outbool</span>;
					<b>if</b> (<b>bool</b>.<a href="@1@System.Runtime/A.html#c8d4e2d26d59f9d0" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <b>out</b> <span class="r96 r">outbool</span>))
						<b>return</b> <span class="r96 r">outbool</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b>(<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>)) {
					<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r97 rd" class="r97 r">retval</span>;
					<b>if</b> (<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#0a67a1cad8ddcdd5" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r97 r">retval</span>))
						<b>return</b> <span class="r97 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<b>char</b>))
				{
					<b>char</b> <span id="r98 rd" class="r98 r">retval</span>;
					<b>if</b> (<b>char</b>.<a href="@1@System.Runtime/A.html#67bc62de6869d77b" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <b>out</b> <span class="r98 r">retval</span>))
						<b>return</b> <span class="r98 r">retval</span>;
				}
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<b>string</b>))
					<b>return</b> <span class="r85 r">valuestring</span>;
				<b>if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<b>decimal</b>))
				{
					<b>decimal</b> <span id="r99 rd" class="r99 r">retval</span>;
					<b>if</b> (<b>decimal</b>.<a href="@1@System.Runtime/A.html#b98a5fce4b17eb2a" class="i method">TryParse</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#4523c5163ff35e41" class="t t">NumberStyles</a>.<a href="@1@System.Runtime/A.html#cf3733616e2bd9e9" class="i field">Number</a>, <span class="t t">CultureInfo</span>.<span class="i property">InvariantCulture</span>, <b>out</b> <span class="r99 r">retval</span>))
						<b>return</b> <span class="r99 r">retval</span>;
				}
 
				<b>else if</b> (<span class="r82 r">nodeType</span> == <b>typeof</b> (<a href="@1@System.Runtime/A.html#991565dd25f47c90" class="t t">Uri</a>))
				{
					<a href="@1@System.Runtime/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r100 rd" class="r100 r">retval</span>;
					<b>if</b> (<a href="@1@System.Runtime/A.html#991565dd25f47c90" class="t t">Uri</a>.<a href="@1@System.Runtime/A.html#49754736d6982eb6" class="i method">TryCreate</a>(<span class="r85 r">valuestring</span>, <a href="@1@System.Runtime/A.html#ac43655101ad74be" class="t t">UriKind</a>.<a href="@1@System.Runtime/A.html#2a5de88dbfa86f1b" class="i field">RelativeOrAbsolute</a>, <b>out</b> <span class="r100 r">retval</span>))
						<b>return</b> <span class="r100 r">retval</span>;
				}
			}
			<b>return</b> <span class="r84 r">value</span>;
		}
	}
}</pre></td></tr></table></div></body></html>
