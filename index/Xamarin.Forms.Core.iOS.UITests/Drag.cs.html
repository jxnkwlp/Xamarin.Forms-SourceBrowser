<!DOCTYPE html>
<html><head><title>Drag.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(171);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Core.iOS.UITests/Drag.cs" target="_top">Drag.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Core.iOS.UITests" target="_top">Xamarin.Forms.Core.iOS.UITests\Xamarin.Forms.Core.iOS.UITests.csproj</a> (Xamarin.Forms.Core.iOS.UITests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Xamarin</span>.<span class="i">UITest</span>.<span class="i">Queries</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Core</span>.<span class="i n">UITests</span>
{
	<b>internal class</b> <a id="115ab17343344b4f" href="R/115ab17343344b4f.html" target="n" data-glyph="2,0" class="t t">Drag</a>
	{
		<b>internal enum</b> <a id="9b422551b33c6ce1" href="R/9b422551b33c6ce1.html" target="n" data-glyph="20,1" class="t t"><span id="639673b13ca3a604">DragLength</span></a>
		{
			<a id="878dd119791ddc39" href="R/878dd119791ddc39.html" target="n" data-glyph="24,2" class="i field">Long</a>,
			<a id="7caa3583a8041e59" href="R/7caa3583a8041e59.html" target="n" data-glyph="24,2" class="i field">Medium</a>,
			<a id="8782a4cfcf6af21a" href="R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">Short</a>
		}
 
		<b>internal enum</b> <a id="8fc03a929736664b" href="R/8fc03a929736664b.html" target="n" data-glyph="20,1" class="t t"><span id="37d71670f9642c80">Direction</span></a>
		{
			<a id="10c77a3a5a3d8ff0" href="R/10c77a3a5a3d8ff0.html" target="n" data-glyph="24,2" class="i field">TopToBottom</a>,
			<a id="5839299bc71a93ef" href="R/5839299bc71a93ef.html" target="n" data-glyph="24,2" class="i field">BottomToTop</a>,
			<a id="2a73b9a5274a64af" href="R/2a73b9a5274a64af.html" target="n" data-glyph="24,2" class="i field">RightToLeft</a>,
			<a id="c5d37706487ade45" href="R/c5d37706487ade45.html" target="n" data-glyph="24,2" class="i field">LeftToRight</a>
		}
 
		<span class="i">AppRect</span> <a id="80ef93500ff058a9" href="R/80ef93500ff058a9.html" target="n" data-glyph="46,1" class="i field">dragBounds</a>;
		<b>float</b> <a id="a34f28bd9b1f6951" href="R/a34f28bd9b1f6951.html" target="n" data-glyph="46,1" class="i field">xStart</a>;
		<b>float</b> <a id="cba78da9b4c4d8c3" href="R/cba78da9b4c4d8c3.html" target="n" data-glyph="46,1" class="i field">yStart</a>;
		<b>float</b> <a id="df73e3a612ab41d2" href="R/df73e3a612ab41d2.html" target="n" data-glyph="46,1" class="i field">xEnd</a>;
		<b>float</b> <a id="44287f16324127c7" href="R/44287f16324127c7.html" target="n" data-glyph="46,1" class="i field">yEnd</a>;
		<a href="#8fc03a929736664b" class="t t">Direction</a> <a id="a737014f25b7339d" href="R/a737014f25b7339d.html" target="n" data-glyph="46,1" class="i field">dragDirection</a>;
		<a href="#8fc03a929736664b" class="t t">Direction</a> <a id="c813b11e354c30d9" href="R/c813b11e354c30d9.html" target="n" data-glyph="46,1" class="i field">oppositeDirection</a>;
		<a href="#9b422551b33c6ce1" class="t t">DragLength</a> <a id="786f313382a504af" href="R/786f313382a504af.html" target="n" data-glyph="46,1" class="i field">dragLength</a>;
 
		<b>public</b> <a id="7fad57565826388f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">Drag</a> (<span class="i">AppRect</span> <span id="r0 rd" class="r0 r">dragbounds</span>, <b>float</b> <span id="r1 rd" class="r1 r">xStart</span>, <b>float</b> <span id="r2 rd" class="r2 r">yStart</span>, <b>float</b> <span id="r3 rd" class="r3 r">xEnd</span>, <b>float</b> <span id="r4 rd" class="r4 r">yEnd</span>, <a href="#8fc03a929736664b" class="t t">Direction</a> <span id="r5 rd" class="r5 r">direction</span>)
		{
			<a href="#80ef93500ff058a9" class="i field">dragBounds</a> = <span class="r0 r">dragbounds</span>;
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#a34f28bd9b1f6951" class="i field">xStart</a> = <span class="r1 r">xStart</span>;
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#cba78da9b4c4d8c3" class="i field">yStart</a> = <span class="r2 r">yStart</span>;
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#df73e3a612ab41d2" class="i field">xEnd</a> = <span class="r3 r">xEnd</span>;
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#44287f16324127c7" class="i field">yEnd</a> = <span class="r4 r">yEnd</span>;
			<a href="#a737014f25b7339d" class="i field">dragDirection</a> = <span class="r5 r">direction</span>;
			<a href="#c813b11e354c30d9" class="i field">oppositeDirection</a> = <a href="#36395539e366d3e1" class="i method">GetOppositeDirection</a> (<span class="r5 r">direction</span>);
		}
 
		<b>public</b> <a id="318f3517baa33d0c" href="R/318f3517baa33d0c.html" target="n" data-glyph="72,1" class="i constructor">Drag</a> (<span class="i">AppRect</span> <span id="r6 rd" class="r6 r">dragBounds</span>, <a href="#8fc03a929736664b" class="t t">Direction</a> <span id="r7 rd" class="r7 r">direction</span>, <a href="#9b422551b33c6ce1" class="t t">DragLength</a> <span id="r8 rd" class="r8 r">dragLength</span>)
		{
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#80ef93500ff058a9" class="i field">dragBounds</a> = <span class="r6 r">dragBounds</span>;
			<a href="#a737014f25b7339d" class="i field">dragDirection</a> = <span class="r7 r">direction</span>;
			<a href="#115ab17343344b4f" class="k">this</a>.<a href="#786f313382a504af" class="i field">dragLength</a> = <span class="r8 r">dragLength</span>;
			<a href="#b7c189da830e2872" class="i method">SetDragForBounds</a> (<a href="#a737014f25b7339d" class="i field">dragDirection</a>, <span class="r8 r">dragLength</span>);
		}
 
		<b>void</b> <a id="b7c189da830e2872" href="R/b7c189da830e2872.html" target="n" data-glyph="76,1" class="i method">SetDragForBounds</a> (<a href="#8fc03a929736664b" class="t t">Direction</a> <span id="r9 rd" class="r9 r">direction</span>, <a href="#9b422551b33c6ce1" class="t t">DragLength</a> <span id="r10 rd" class="r10 r">dragLength</span>)
		{
			<span class="c">// percentage of bounds to scroll centered in element</span>
			<b>float</b> <span id="r11 rd" class="r11 r">scrollPercentage</span>;
 
			<b>switch</b> (<span class="r10 r">dragLength</span>) {
				<b>case</b> <a href="#9b422551b33c6ce1" class="t t">DragLength</a>.<a href="#878dd119791ddc39" class="i field">Long</a>:
					<span class="r11 r">scrollPercentage</span> = 0.8f;
					<b>break</b>;
				<b>case</b> <a href="#9b422551b33c6ce1" class="t t">DragLength</a>.<a href="#7caa3583a8041e59" class="i field">Medium</a>:
					<span class="r11 r">scrollPercentage</span> = 0.5f;
					<b>break</b>;
				<b>default</b>:
					<span class="r11 r">scrollPercentage</span> = 0.2f;
					<b>break</b>;
			}
 
			<b>if</b> (<span class="r9 r">direction</span> == <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#c5d37706487ade45" class="i field">LeftToRight</a>) {
				<a href="#cba78da9b4c4d8c3" class="i field">yStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span>;
				<a href="#44287f16324127c7" class="i field">yEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span>;
				<b>float</b> <span id="r12 rd" class="r12 r">xDisplacement</span> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Width</span> / 2)) - <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">X</span>;
				<b>float</b> <span id="r13 rd" class="r13 r">insetForScroll</span> = (<span class="r12 r">xDisplacement</span> - (<span class="r12 r">xDisplacement</span> * <span class="r11 r">scrollPercentage</span>)) / 2;
				<a href="#a34f28bd9b1f6951" class="i field">xStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">X</span> + <span class="r13 r">insetForScroll</span>;
				<a href="#df73e3a612ab41d2" class="i field">xEnd</a> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Width</span> / 2)) - <span class="r13 r">insetForScroll</span>;
			} <b>else if</b> (<span class="r9 r">direction</span> == <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#2a73b9a5274a64af" class="i field">RightToLeft</a>) {
				<a href="#cba78da9b4c4d8c3" class="i field">yStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span>;
				<a href="#44287f16324127c7" class="i field">yEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span>;
				<b>float</b> <span id="r14 rd" class="r14 r">xDisplacement</span> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Width</span> / 2)) - <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">X</span>;
				<b>float</b> <span id="r15 rd" class="r15 r">insetForScroll</span> = (<span class="r14 r">xDisplacement</span> - (<span class="r14 r">xDisplacement</span> * <span class="r11 r">scrollPercentage</span>)) / 2;
				<a href="#a34f28bd9b1f6951" class="i field">xStart</a> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Width</span> / 2)) - <span class="r15 r">insetForScroll</span>;
				<a href="#df73e3a612ab41d2" class="i field">xEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">X</span> + <span class="r15 r">insetForScroll</span>;
			} <b>else if</b> (<span class="r9 r">direction</span> == <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#10c77a3a5a3d8ff0" class="i field">TopToBottom</a>) {
				<a href="#a34f28bd9b1f6951" class="i field">xStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span>;
				<a href="#df73e3a612ab41d2" class="i field">xEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span>;
				<b>float</b> <span id="r16 rd" class="r16 r">yDisplacement</span> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Height</span> / 2)) - <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Y</span>;
				<b>float</b> <span id="r17 rd" class="r17 r">insetForScroll</span> = (<span class="r16 r">yDisplacement</span> - (<span class="r16 r">yDisplacement</span> * <span class="r11 r">scrollPercentage</span>)) / 2;
				<a href="#cba78da9b4c4d8c3" class="i field">yStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Y</span> + <span class="r17 r">insetForScroll</span>;
				<a href="#44287f16324127c7" class="i field">yEnd</a> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Height</span> / 2)) - <span class="r17 r">insetForScroll</span>;
			} <b>else if</b> (<span class="r9 r">direction</span> == <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#5839299bc71a93ef" class="i field">BottomToTop</a>) {
				<a href="#a34f28bd9b1f6951" class="i field">xStart</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span>;
				<a href="#df73e3a612ab41d2" class="i field">xEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterX</span>;
				<b>float</b> <span id="r18 rd" class="r18 r">yDisplacement</span> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Height</span> / 2)) - <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Y</span>;
				<b>float</b> <span id="r19 rd" class="r19 r">insetForScroll</span> = (<span class="r18 r">yDisplacement</span> - (<span class="r18 r">yDisplacement</span> * <span class="r11 r">scrollPercentage</span>)) / 2;
				<a href="#cba78da9b4c4d8c3" class="i field">yStart</a> = (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">CenterY</span> + (<a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Height</span> / 2)) - <span class="r19 r">insetForScroll</span>;
				<a href="#44287f16324127c7" class="i field">yEnd</a> = <a href="#80ef93500ff058a9" class="i field">dragBounds</a>.<span class="i">Y</span> + <span class="r19 r">insetForScroll</span>;
 
			}
		}
 
		<a href="#8fc03a929736664b" class="t t">Direction</a> <a id="36395539e366d3e1" href="R/36395539e366d3e1.html" target="n" data-glyph="76,1" class="i method">GetOppositeDirection</a> (<a href="#8fc03a929736664b" class="t t">Direction</a> <span id="r20 rd" class="r20 r">direction</span>)
		{
			<b>switch</b> (<span class="r20 r">direction</span>) {
				<b>case</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#10c77a3a5a3d8ff0" class="i field">TopToBottom</a>:
					<b>return</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#5839299bc71a93ef" class="i field">BottomToTop</a>;
				<b>case</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#5839299bc71a93ef" class="i field">BottomToTop</a>:
					<b>return</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#10c77a3a5a3d8ff0" class="i field">TopToBottom</a>;
				<b>case</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#2a73b9a5274a64af" class="i field">RightToLeft</a>:
					<b>return</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#c5d37706487ade45" class="i field">LeftToRight</a>;
				<b>case</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#c5d37706487ade45" class="i field">LeftToRight</a>:
					<b>return</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#2a73b9a5274a64af" class="i field">RightToLeft</a>;
				<b>default</b>:
					<b>return</b> <a href="#8fc03a929736664b" class="t t">Direction</a>.<a href="#10c77a3a5a3d8ff0" class="i field">TopToBottom</a>;
			}
		}
 
		<b>public</b> <span class="i">AppRect</span> <a id="cd6c4e7fb23cdf4a" href="R/cd6c4e7fb23cdf4a.html" target="n" data-glyph="102,1" class="i property">DragBounds</a>
		{
			<b>get</b> { <b>return</b> <a href="#80ef93500ff058a9" class="i field">dragBounds</a>; }
		}
 
		<b>public float</b> <a id="c7b11acdb326e3ea" href="R/c7b11acdb326e3ea.html" target="n" data-glyph="102,1" class="i property">XStart</a>
		{
			<b>get</b> { <b>return</b> <a href="#a34f28bd9b1f6951" class="i field">xStart</a>; }
		}
 
		<b>public float</b> <a id="810bb8a01e12b994" href="R/810bb8a01e12b994.html" target="n" data-glyph="102,1" class="i property">YStart</a>
		{
			<b>get</b> { <b>return</b> <a href="#cba78da9b4c4d8c3" class="i field">yStart</a>; }
		}
 
		<b>public float</b> <a id="bbc7b4a602fc0295" href="R/bbc7b4a602fc0295.html" target="n" data-glyph="102,1" class="i property">XEnd</a>
		{
			<b>get</b> { <b>return</b> <a href="#df73e3a612ab41d2" class="i field">xEnd</a>; }
		}
 
		<b>public float</b> <a id="04706b47b67ff2be" href="R/04706b47b67ff2be.html" target="n" data-glyph="102,1" class="i property">YEnd</a>
		{
			<b>get</b> { <b>return</b> <a href="#44287f16324127c7" class="i field">yEnd</a>; }
		}
 
		<b>public</b> <a href="#8fc03a929736664b" class="t t">Direction</a> <a id="220b1bbcc5d26071" href="R/220b1bbcc5d26071.html" target="n" data-glyph="102,1" class="i property">DragDirection</a>
		{
			<b>get</b> { <b>return</b> <a href="#a737014f25b7339d" class="i field">dragDirection</a>; }
			<b>set</b>
			{
				<b>if</b> (<a href="#a737014f25b7339d" class="i field">dragDirection</a> == <b>value</b>)
					<b>return</b>;
 
				<a href="#a737014f25b7339d" class="i field">dragDirection</a> = <b>value</b>;
				<a href="#c813b11e354c30d9" class="i field">oppositeDirection</a> = <a href="#36395539e366d3e1" class="i method">GetOppositeDirection</a> (<a href="#a737014f25b7339d" class="i field">dragDirection</a>);
				<a href="#9b303ae6fb549bf8" class="i method">OnDragDirectionChanged</a> ();
			}
		}
 
		<b>void</b> <a id="9b303ae6fb549bf8" href="R/9b303ae6fb549bf8.html" target="n" data-glyph="76,1" class="i method">OnDragDirectionChanged</a> ()
		{
			<a href="#b7c189da830e2872" class="i method">SetDragForBounds</a> (<a href="#a737014f25b7339d" class="i field">dragDirection</a>, <a href="#786f313382a504af" class="i field">dragLength</a>);
		}
 
		<b>public</b> <a href="#8fc03a929736664b" class="t t">Direction</a> <a id="c1f852f345224da3" href="R/c1f852f345224da3.html" target="n" data-glyph="102,1" class="i property">OppositeDirection</a>
		{
			<b>get</b> { <b>return</b> <a href="#c813b11e354c30d9" class="i field">oppositeDirection</a>; }
			<b>private set</b>
			{
				<b>if</b> (<a href="#c813b11e354c30d9" class="i field">oppositeDirection</a> == <b>value</b>)
					<b>return</b>;
				
				<a href="#c813b11e354c30d9" class="i field">oppositeDirection</a> = <b>value</b>;
			}
		}
	}
}</pre></td></tr></table></div></body></html>
