<!DOCTYPE html>
<html><head><title>PreApplicationClassActivity.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(54);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.ControlGallery.Android/PreApplicationClassActivity.cs" target="_top">PreApplicationClassActivity.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.ControlGallery.Android" target="_top">Xamarin.Forms.ControlGallery.Android\Xamarin.Forms.ControlGallery.Android.csproj</a> (Xamarin.Forms.ControlGallery.Android)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">PRE_APPLICATION_CLASS</span>
<span class="e">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
 
using Android.App;
using Android.Content;
using Android.Content.PM;
using Android.OS;
using Android.Runtime;
using Android.Views;
using Android.Widget;
using Xamarin.Forms.Controls;
using Xamarin.Forms.Platform.Android;
 
namespace Xamarin.Forms.ControlGallery.Android
{
	[Activity (Label = &quot;Control Gallery&quot;, 
			   Icon = &quot;@drawable/icon&quot;,
			   MainLauncher = true, 
			   HardwareAccelerated = true, 
			   ConfigurationChanges = ConfigChanges.ScreenSize | ConfigChanges.Orientation)]
	public class Activity1 : AndroidActivity
	{
		protected override void OnCreate (Bundle bundle)
		{
			base.OnCreate (bundle);
			
			Forms.Init (this, bundle);
			FormsMaps.Init (this, bundle);
 
			SetPage (FormsApp.GetFormsApp ());
 
			MessagingCenter.Subscribe&lt;RootPagesGallery, Type&gt; (this, Messages.ChangeRoot, (sender, pageType) =&gt; {
				var page = ((Page)Activator.CreateInstance (pageType));
				SetPage (page);
			});
 
			MessagingCenter.Subscribe&lt;RootPagesGallery, Type&gt; (this, Messages.ChangeRoot, (sender, pageType) =&gt; {
				var page = ((Page)Activator.CreateInstance (pageType));
				SetPage (page);
			});
 
			MessagingCenter.Subscribe&lt;HomeButton&gt; (this, Messages.GoHome, (sender) =&gt; {
				var screen = FormsApp.GetFormsApp ();
				SetPage (screen);
 			});
		}
	}
}
 
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span></pre></td></tr></table></div></body></html>
