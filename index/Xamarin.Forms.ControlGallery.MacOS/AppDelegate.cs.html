<!DOCTYPE html>
<html><head><title>AppDelegate.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(247);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.ControlGallery.MacOS/AppDelegate.cs" target="_top">AppDelegate.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.ControlGallery.MacOS" target="_top">Xamarin.Forms.ControlGallery.MacOS\Xamarin.Forms.ControlGallery.MacOS.csproj</a> (Xamarin.Forms.ControlGallery.MacOS)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
<b>using</b> <span class="i n">AppKit</span>;
<b>using</b> <span class="i n">CoreGraphics</span>;
<b>using</b> <span class="i n">Foundation</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Controls</span>.<span class="i n">Issues</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Platform</span>.<span class="i n">MacOS</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">ControlGallery</span>.<span class="i n">MacOS</span>
{
	[<span class="t constructor">Register</span>(<span class="s">&quot;AppDelegate&quot;</span>)]
	<b>public class</b> <a id="9cad2bce710861e6" href="R/9cad2bce710861e6.html" target="n" data-glyph="0,0" class="t t">AppDelegate</a> : <a href="/Xamarin.Forms.Platform.macOS/A.html#76e122892c341848" class="t t">FormsApplicationDelegate</a>
	{
 
		<span class="t t">NSWindow</span> <a id="2ebf2763825af9e7" href="R/2ebf2763825af9e7.html" target="n" data-glyph="46,1" class="i field">_window</a>;
		<b>public</b> <a id="47342f7d9b51a07f" href="R/47342f7d9b51a07f.html" target="n" data-glyph="72,1" class="i constructor">AppDelegate</a>()
		{
			<span class="i n">ObjCRuntime</span>.<span class="t t">Runtime</span>.<span class="i">MarshalManagedException</span> += (<span id="r0 rd" class="r0 r">sender</span>, <span id="r1 rd" class="r1 r">args</span>) =&gt;
			{
				<a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="r1 r">args</span>.<span class="i property">Exception</span>.<a href="@0@mscorlib/A.html#e2e19f4ed8da81aa" class="i method">ToString</a>());
			};
 
			<b>var</b> <span id="r2 rd" class="r2 r">style</span> = <span class="t t">NSWindowStyle</span>.<span class="i field">Closable</span> | <span class="t t">NSWindowStyle</span>.<span class="i field">Resizable</span> | <span class="t t">NSWindowStyle</span>.<span class="i field">Titled</span>;
 
			<b>var</b> <span id="r3 rd" class="r3 r">rect</span> = <b>new</b> <span class="i n">CoreGraphics</span>.<span class="t constructor">CGRect</span>(200, 1000, 1024, 768);
			<span class="c">//var rect = NSWindow.FrameRectFor(NSScreen.MainScreen.Frame, style);</span>
			<a href="#2ebf2763825af9e7" class="i field">_window</a> = <b>new</b> <span class="t constructor">NSWindow</span>(<span class="r3 r">rect</span>, <span class="r2 r">style</span>, <span class="t t">NSBackingStore</span>.<span class="i field">Buffered</span>, <b>false</b>);
			<a href="#2ebf2763825af9e7" class="i field">_window</a>.<span class="i property">Title</span> = <span class="s">&quot;Twitter XF Mac&quot;</span>;
			<a href="#2ebf2763825af9e7" class="i field">_window</a>.<span class="i property">TitleVisibility</span> = <span class="t t">NSWindowTitleVisibility</span>.<span class="i field">Hidden</span>;
		}
 
		<b>public override</b> <span class="t t">NSWindow</span> <a id="391409676b64a1cd" href="R/391409676b64a1cd.html" target="n" data-glyph="102,1" class="i property">MainWindow</a>
		{
			<b>get</b> { <b>return</b> <a href="#2ebf2763825af9e7" class="i field">_window</a>; }
		}
 
		<b>public override void</b> <a id="77ccee39a73f626f" href="R/77ccee39a73f626f.html" target="n" data-glyph="72,1" class="i method">DidFinishLaunching</a>(<span class="t t">NSNotification</span> <span id="r4 rd" class="r4 r">notification</span>)
		{
			<a href="/Xamarin.Forms.Platform.macOS/A.html#eb8800bb7e650425" class="t t">Forms</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#0b1d4e3d5e00be78" class="i method">Init</a>();
			<a href="/Xamarin.Forms.Maps.macOS/A.html#c79f0e51c842c8ba" class="t t">FormsMaps</a>.<a href="/Xamarin.Forms.Maps.macOS/A.html#f87a2b4944a6702f" class="i method">Init</a>();
 
			<a href="/Xamarin.Forms.Controls/A.html#12ba9bfb7ddfe7df" class="k">var</a> <span id="r5 rd" class="r5 r">app</span> = <b>new</b> <a href="/Xamarin.Forms.Controls/A.html#8a4cbe078d445ecd" class="t constructor">App</a>();
			<span class="c">// When the native control gallery loads up, it&#39;ll let us know so we can add the nested native controls</span>
			<a href="/Xamarin.Forms.Core/A.html#68162056f69c1f2c" class="t t">MessagingCenter</a>.<a href="/Xamarin.Forms.Core/A.html#7ebf351ca27b09c5" class="i method">Subscribe</a>&lt;<a href="/Xamarin.Forms.Controls/A.html#e84c069f0d08c612" class="t t">NestedNativeControlGalleryPage</a>&gt;(<a href="#9cad2bce710861e6" class="k">this</a>, <a href="/Xamarin.Forms.Controls/A.html#e84c069f0d08c612" class="t t">NestedNativeControlGalleryPage</a>.<a href="/Xamarin.Forms.Controls/A.html#d2482e2aa47f8a81" class="i field">ReadyForNativeControlsMessage</a>, <a href="#b147b3abd109fd32" class="i method">AddNativeControls</a>);
			<a href="/Xamarin.Forms.Core/A.html#68162056f69c1f2c" class="t t">MessagingCenter</a>.<a href="/Xamarin.Forms.Core/A.html#7ebf351ca27b09c5" class="i method">Subscribe</a>&lt;<a href="/Xamarin.Forms.Controls/A.html#4d96c232edd4b993" class="t t">Bugzilla40911</a>&gt;(<a href="#9cad2bce710861e6" class="k">this</a>, <a href="/Xamarin.Forms.Controls/A.html#4d96c232edd4b993" class="t t">Bugzilla40911</a>.<a href="/Xamarin.Forms.Controls/A.html#8e8ad6affe81d2d0" class="i field">ReadyToSetUp40911Test</a>, <a href="#5152cb10688604d3" class="i method">SetUp40911Test</a>);
 
			<span class="c">// When the native binding gallery loads up, it&#39;ll let us know so we can set up the native bindings</span>
			<a href="/Xamarin.Forms.Core/A.html#68162056f69c1f2c" class="t t">MessagingCenter</a>.<a href="/Xamarin.Forms.Core/A.html#7ebf351ca27b09c5" class="i method">Subscribe</a>&lt;<a href="/Xamarin.Forms.Controls/A.html#0ebf3b0d6d57e852" class="t t">NativeBindingGalleryPage</a>&gt;(<a href="#9cad2bce710861e6" class="k">this</a>, <a href="/Xamarin.Forms.Controls/A.html#0ebf3b0d6d57e852" class="t t">NativeBindingGalleryPage</a>.<a href="/Xamarin.Forms.Controls/A.html#e443e305b18cab25" class="i field">ReadyForNativeBindingsMessage</a>, <a href="#4ec69bc7cbab7098" class="i method">AddNativeBindings</a>);
 
			<a href="/Xamarin.Forms.Platform.macOS/A.html#4b0f956a77893b30" class="i method">LoadApplication</a>(<span class="r5 r">app</span>);
			<a href="/Xamarin.Forms.Platform.macOS/A.html#76e122892c341848" class="k">base</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#97367ebe8cff5ad5" class="i method">DidFinishLaunching</a>(<span class="r4 r">notification</span>);
		}
 
		<b>void</b> <a id="b147b3abd109fd32" href="R/b147b3abd109fd32.html" target="n" data-glyph="76,1" class="i method">AddNativeControls</a>(<a href="/Xamarin.Forms.Controls/A.html#e84c069f0d08c612" class="t t">NestedNativeControlGalleryPage</a> <span id="r6 rd" class="r6 r">page</span>)
		{
			<b>if</b> (<span class="r6 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#aacf172416d19c6d" class="i property">NativeControlsAdded</a>)
			{
				<b>return</b>;
			}
 
			<a href="/Xamarin.Forms.Core/A.html#5c88f1e97bd1f520" class="t t">StackLayout</a> <span id="r7 rd" class="r7 r">sl</span> = <span class="r6 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#a397c931c6a6bc0f" class="i property">Layout</a>;
 
			<span class="c">// Create and add a native UILabel</span>
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r8 rd" class="r8 r">originalText</span> = <span class="s">&quot;I am a native UILabel&quot;</span>;
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r9 rd" class="r9 r">longerText</span> =
				<span class="s">&quot;I am a native UILabel with considerably more text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;</span>;
 
			<b>var</b> <span id="r10 rd" class="r10 r">uilabel</span> = <b>new</b> <span class="t constructor">NSTextField</span>
			{
				<span class="i property">StringValue</span> = <span class="r8 r">originalText</span>,
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 24f)
			};
 
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r10 r">uilabel</span>);
 
			<span class="c">// Create and add a native Button </span>
			<b>var</b> <span id="r11 rd" class="r11 r">uibutton</span> = <a href="/Xamarin.Forms.Platform.macOS/A.html#033b75ad3ab30514" class="t t">NSButtonExtensions</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#1fcf996a1c414503" class="i method">CreateButton</a>(<span class="s">&quot;Toggle Text Amount&quot;</span>, () =&gt;
			{
				<span class="r10 r">uilabel</span>.<span class="i property">StringValue</span> = <span class="r10 r">uilabel</span>.<span class="i property">StringValue</span> == <span class="r8 r">originalText</span> ? <span class="r9 r">longerText</span> : <span class="r8 r">originalText</span>;
				<span class="r10 r">uilabel</span>.<span class="i method">SizeToFit</span>();
			});
			<span class="r11 r">uibutton</span>.<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f);
 
 
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r11 r">uibutton</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#e4bf5f3756f4292b" class="i method">ToView</a>());
 
			<span class="c">// Create some control which we know don&#39;t behave correctly with regard to measurement</span>
			<a href="BrokenNativeControl.cs.html#5523f1ea02f53b0d" class="k">var</a> <span id="r12 rd" class="r12 r">difficultControl0</span> = <b>new</b> <a href="BrokenNativeControl.cs.html#5523f1ea02f53b0d" class="t constructor">BrokenNativeControl</a>
			{
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f),
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<a href="BrokenNativeControl.cs.html#ada3e1ec02814cd9" class="i property">StringValue</a> = <span class="s">&quot;Doesn&#39;t play nice with sizing. That&#39;s why there&#39;s a big gap around it.&quot;</span>
			};
 
			<a href="BrokenNativeControl.cs.html#5523f1ea02f53b0d" class="k">var</a> <span id="r13 rd" class="r13 r">difficultControl1</span> = <b>new</b> <a href="BrokenNativeControl.cs.html#5523f1ea02f53b0d" class="t constructor">BrokenNativeControl</a>
			{
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f),
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<a href="BrokenNativeControl.cs.html#ada3e1ec02814cd9" class="i property">StringValue</a> = <span class="s">&quot;Custom size fix specified. No gaps.&quot;</span>
			};
 
			<b>var</b> <span id="r14 rd" class="r14 r">explanation0</span> = <b>new</b> <span class="t constructor">NSTextField</span>
			{
				<span class="i property">StringValue</span> = <span class="s">&quot;The next control is a customized label with a bad SizeThatFits implementation.&quot;</span>,
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f),
			};
 
			<b>var</b> <span id="r15 rd" class="r15 r">explanation1</span> = <b>new</b> <span class="t constructor">NSTextField</span>
			{
				<span class="i property">StringValue</span> = <span class="s">&quot;The next control is the same broken class as above, but we pass in an override to the GetDesiredSize method.&quot;</span>,
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f),
			};
 
			<span class="c">// Add a misbehaving control</span>
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r14 r">explanation0</span>);
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r12 r">difficultControl0</span>);
 
			<span class="c">// Add the misbehaving control with a custom delegate for FixSize</span>
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r15 r">explanation1</span>);
			<span class="r7 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r13 r">difficultControl1</span>, <a href="#264e78b87937f6c8" class="i method">FixSize</a>);
 
			<span class="r6 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#aacf172416d19c6d" class="i property">NativeControlsAdded</a> = <b>true</b>;
		}
 
		<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="t t">SizeRequest</a>? <a id="264e78b87937f6c8" href="R/264e78b87937f6c8.html" target="n" data-glyph="76,1" class="i method">FixSize</a>(<a href="/Xamarin.Forms.Platform.macOS/A.html#1e6037c7d340e894" class="t t">NativeViewWrapperRenderer</a> <span id="r16 rd" class="r16 r">renderer</span>, <b>double</b> <span id="r17 rd" class="r17 r">width</span>, <b>double</b> <span id="r18 rd" class="r18 r">height</span>)
		{
			<b>var</b> <span id="r19 rd" class="r19 r">uiView</span> = <span class="r16 r">renderer</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#6ac65d1b95974b16" class="i property">Control</a>;
			<a href="/Xamarin.Forms.Platform.macOS/A.html#0f61fbbaddef76d1" class="k">var</a> <span id="r20 rd" class="r20 r">view</span> = <span class="r16 r">renderer</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#225f1aeff609b751" class="i property">Element</a>;
 
			<b>if</b> (<span class="r19 r">uiView</span> == <b>null</b> || <span class="r20 r">view</span> == <b>null</b>)
			{
				<b>return null</b>;
			}
 
			<b>var</b> <span id="r21 rd" class="r21 r">constraint</span> = <b>new</b> <span class="t constructor">CGSize</span>(<span class="r17 r">width</span>, <span class="r18 r">height</span>);
 
			<span class="c">// Let the BrokenNativeControl determine its size (which we know will be wrong)</span>
			<b>var</b> <span id="r22 rd" class="r22 r">badRect</span> = <span class="r19 r">uiView</span>.<span class="i property">FittingSize</span>;
 
			<span class="c">// And we&#39;ll use the width (which is fine) and substitute our own height</span>
			<b>return</b> <b>new</b> <a href="/Xamarin.Forms.Core/A.html#86a9b63d20bf2e1e" class="t constructor">SizeRequest</a>(<b>new</b> <a href="/Xamarin.Forms.Core/A.html#1727209bca650e71" class="t constructor">Size</a>(<span class="r22 r">badRect</span>.<span class="i property">Width</span>, 20));
		}
 
		<b>void</b> <a id="4ec69bc7cbab7098" href="R/4ec69bc7cbab7098.html" target="n" data-glyph="76,1" class="i method">AddNativeBindings</a>(<a href="/Xamarin.Forms.Controls/A.html#0ebf3b0d6d57e852" class="t t">NativeBindingGalleryPage</a> <span id="r23 rd" class="r23 r">page</span>)
		{
			<b>if</b> (<span class="r23 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#6fda383a93d625a4" class="i property">NativeControlsAdded</a>)
				<b>return</b>;
 
			<a href="/Xamarin.Forms.Core/A.html#5c88f1e97bd1f520" class="t t">StackLayout</a> <span id="r24 rd" class="r24 r">sl</span> = <span class="r23 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#379ae7922bf377a9" class="i property">Layout</a>;
 
			<b>int</b> <span id="r25 rd" class="r25 r">width</span> = 200;
			<b>int</b> <span id="r26 rd" class="r26 r">heightCustomLabelView</span> = 100;
 
			<b>var</b> <span id="r27 rd" class="r27 r">uilabel</span> = <b>new</b> <span class="t constructor">NSTextField</span>(<b>new</b> <span class="t constructor">CGRect</span>(0, 0, <span class="r25 r">width</span>, <span class="r26 r">heightCustomLabelView</span>))
			{
				<span class="i property">BackgroundColor</span> = <span class="t t">NSColor</span>.<span class="i property">Clear</span>,
				<span class="i property">Editable</span> = <b>false</b>,
				<span class="i property">Bezeled</span> = <b>false</b>,
				<span class="i property">DrawsBackground</span> = <b>false</b>,
				<span class="i property">MaximumNumberOfLines</span> = 0,
				<span class="i property">LineBreakMode</span> = <span class="t t">NSLineBreakMode</span>.<span class="i field">ByWordWrapping</span>,
				<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 24f),
				<span class="i property">StringValue</span> = <span class="s">&quot;DefaultText&quot;</span>
			};
 
			<b>var</b> <span id="r28 rd" class="r28 r">uibuttonColor</span> = <a href="/Xamarin.Forms.Platform.macOS/A.html#033b75ad3ab30514" class="t t">NSButtonExtensions</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#1fcf996a1c414503" class="i method">CreateButton</a>(<span class="s">&quot;Toggle Text Color Binding&quot;</span>, () =&gt; <span class="r27 r">uilabel</span>.<span class="i property">TextColor</span> = <span class="t t">NSColor</span>.<span class="i property">Blue</span>);
			<span class="r28 r">uibuttonColor</span>.<span class="i property">Font</span> = <span class="t t">NSFont</span>.<span class="i method">FromFontName</span>(<span class="s">&quot;Helvetica&quot;</span>, 14f);
 
			<span class="r27 r">uilabel</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#b24d1e0fe962ad1e" class="i method">SetBinding</a>(<span class="s">&quot;StringValue&quot;</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#c79f6c91a3606a34" class="t constructor">Binding</a>(<span class="s">&quot;NativeLabel&quot;</span>));
			<span class="r27 r">uilabel</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#b24d1e0fe962ad1e" class="i method">SetBinding</a>(<b>nameof</b>(<span class="r27 r">uilabel</span>.<span class="i property">TextColor</span>), <b>new</b> <a href="/Xamarin.Forms.Core/A.html#c79f6c91a3606a34" class="t constructor">Binding</a>(<span class="s">&quot;NativeLabelColor&quot;</span>, <span class="r29 r">converter</span>: <b>new</b> <a href="#85fa76acb5e06680" class="t constructor">ColorConverter</a>()));
 
			<span class="r24 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#63105b7483787522" class="i method">Add</a>(<span class="r27 r">uilabel</span>);
			<span class="r24 r">sl</span>?.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r28 r">uibuttonColor</span>.<a href="/Xamarin.Forms.Platform.macOS/A.html#e4bf5f3756f4292b" class="i method">ToView</a>());
			<span class="c">//var colorPicker = new NSColorWell();</span>
			<span class="c">//colorPicker.SetBinding(&quot;SelectedColor&quot;, new Binding(&quot;NativeLabelColor&quot;, BindingMode.TwoWay, new ColorConverter()), &quot;ColorPicked&quot;);</span>
			<span class="c">//sl?.Children.Add(colorPicker);</span>
			<span class="r23 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#6fda383a93d625a4" class="i property">NativeControlsAdded</a> = <b>true</b>;
		}
 
		<span class="k preprocess">#</span><span class="k preprocess">region</span> Stuff for repro of Bugzilla case 40911
 
		<b>void</b> <a id="5152cb10688604d3" href="R/5152cb10688604d3.html" target="n" data-glyph="76,1" class="i method">SetUp40911Test</a>(<a href="/Xamarin.Forms.Controls/A.html#4d96c232edd4b993" class="t t">Bugzilla40911</a> <span id="r30 rd" class="r30 r">page</span>)
		{
			<a href="/Xamarin.Forms.Core/A.html#c68e8cba3f0e63a3" class="k">var</a> <span id="r31 rd" class="r31 r">button</span> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#c9ccc9248166aa0f" class="t constructor">Button</a> { <a href="/Xamarin.Forms.Core/A.html#259ea62d7aa7ac0a" class="i property">Text</a> = <span class="s">&quot;Start&quot;</span> };
 
			<span class="r31 r">button</span>.<a href="/Xamarin.Forms.Core/A.html#2f35d86af34f02f3" class="i">Clicked</a> += (<span id="r32 rd" class="r32 r">s</span>, <span id="r33 rd" class="r33 r">e</span>) =&gt;
			{
				<a href="#6b4a356ba50075b8" class="i method">StartPressed40911</a>();
			};
 
			<span class="r30 r">page</span>.<a href="/Xamarin.Forms.Controls/A.html#2656f3fc4f8c1335" class="i property">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#5049824abac2f58c" class="i property">Children</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r31 r">button</span>);
		}
 
		<b>public void</b> <a id="6b4a356ba50075b8" href="R/6b4a356ba50075b8.html" target="n" data-glyph="72,1" class="i method">StartPressed40911</a>()
		{
			<b>var</b> <span id="r34 rd" class="r34 r">loginViewController</span> = <b>new</b> <span class="t constructor">NSViewController</span> { <span class="i property">View</span> = { } };
			<b>var</b> <span id="r35 rd" class="r35 r">button</span> = <a href="/Xamarin.Forms.Platform.macOS/A.html#033b75ad3ab30514" class="t t">NSButtonExtensions</a>.<a href="/Xamarin.Forms.Platform.macOS/A.html#1fcf996a1c414503" class="i method">CreateButton</a>(<span class="s">&quot;Login&quot;</span>, () =&gt;
			{
				<span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#05ea728f56cd3ad5" class="t t">Application</a>.<a href="/Xamarin.Forms.Core/A.html#f64242468de64fbc" class="i property">Current</a>.<a href="/Xamarin.Forms.Core/A.html#05719483fad2d5f5" class="i property">MainPage</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#2f77fd3b834f8534" class="t constructor">ContentPage</a> { <a href="/Xamarin.Forms.Core/A.html#3929eda3f5d3e80d" class="i property">Content</a> = <b>new</b> <a href="/Xamarin.Forms.Core/A.html#aa576bf63d926ee6" class="t constructor">Label</a> { <a href="/Xamarin.Forms.Core/A.html#60b82bdc24dcbdf6" class="i property">Text</a> = <span class="s">&quot;40911 Success&quot;</span> } };
				<span class="c">//loginViewController.DismissViewController()true, null);</span>
 
			});
 
			<span class="r35 r">button</span>.<span class="i property">Frame</span> = <b>new</b> <span class="t constructor">CGRect</span>(20, 100, 200, 44);
			<span class="r34 r">loginViewController</span>.<span class="i property">View</span>.<span class="i method">AddSubview</span>(<span class="r35 r">button</span>);
 
			<b>var</b> <span id="r36 rd" class="r36 r">window</span> = <span class="t t">NSApplication</span>.<span class="i property">SharedApplication</span>.<span class="i property">KeyWindow</span>;
			<b>var</b> <span id="r37 rd" class="r37 r">vc</span> = <span class="r36 r">window</span>.<span class="i property">ContentViewController</span>;
			<b>while</b> (<span class="r37 r">vc</span>.<span class="i property">PresentedViewControllers</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 0)
			{
				<span class="r37 r">vc</span> = <span class="r37 r">vc</span>.<span class="i property">PresentedViewControllers</span>[0];
			}
 
			<span class="c">//vc.PresentViewController(loginViewController, new NSViewControllerPresentationAnimator();</span>
		}
 
		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
		<b>public class</b> <a id="85fa76acb5e06680" href="R/85fa76acb5e06680.html" target="n" data-glyph="0,1" class="t t"><span id="b180e902f07d11fc">ColorConverter</span></a> : <a href="/Xamarin.Forms.Core/A.html#8c54b2166c66ec65" class="t t">IValueConverter</a>
		{
			<b>public object</b> <a id="f7fc21e90a8467a4" href="R/f7fc21e90a8467a4.html" target="n" data-glyph="72,2" class="i method">Convert</a>(<b>object</b> <span id="r38 rd" class="r38 r">value</span>, <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r39 rd" class="r39 r">targetType</span>, <b>object</b> <span id="r40 rd" class="r40 r">parameter</span>, <a href="@0@mscorlib/A.html#e319c6636909012f" class="t t">CultureInfo</a> <span id="r41 rd" class="r41 r">culture</span>)
			{
				<b>if</b> (<span class="r38 r">value</span> <b>is</b> <a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>)
					<b>return</b> ((<a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="t t">Color</a>)<span class="r38 r">value</span>).<a href="/Xamarin.Forms.Platform.macOS/A.html#315625aceeb93f91" class="i method">ToNSColor</a>();
				<b>return</b> <span class="r38 r">value</span>;
			}
 
			<b>public object</b> <a id="cd7dcb793fccfb3c" href="R/cd7dcb793fccfb3c.html" target="n" data-glyph="72,2" class="i method">ConvertBack</a>(<b>object</b> <span id="r42 rd" class="r42 r">value</span>, <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r43 rd" class="r43 r">targetType</span>, <b>object</b> <span id="r44 rd" class="r44 r">parameter</span>, <a href="@0@mscorlib/A.html#e319c6636909012f" class="t t">CultureInfo</a> <span id="r45 rd" class="r45 r">culture</span>)
			{
				<b>if</b> (<span class="r42 r">value</span> <b>is</b> <span class="t t">NSColor</span>)
					<b>return</b> ((<span class="t t">NSColor</span>)<span class="r42 r">value</span>).<a href="/Xamarin.Forms.Platform.macOS/A.html#35c5b384386b77d3" class="i method">ToColor</a>();
				<b>return</b> <span class="r42 r">value</span>;
			}
		}
	}
}
 
</pre></td></tr></table></div></body></html>
