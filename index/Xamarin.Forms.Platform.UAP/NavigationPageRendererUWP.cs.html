<!DOCTYPE html>
<html><head><title>NavigationPageRendererUWP.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(98);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Platform.UAP/NavigationPageRendererUWP.cs" target="_top">NavigationPageRendererUWP.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Platform.UAP" target="_top">Xamarin.Forms.Platform.UAP\Xamarin.Forms.Platform.UAP.csproj</a> (Xamarin.Forms.Platform.UAP)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Xaml</span>;
<b>using</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Xaml</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Xaml</span>.<span class="i n">Data</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">PlatformConfiguration</span>.<span class="i n">WindowsSpecific</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Platform</span>.<span class="i n">UWP</span>
{
	<b>public</b> <a href="P/aa061f4e7226a485.html" target="s" class="k">partial</a> <b>class</b> <a id="aa061f4e7226a485" href="R/aa061f4e7226a485.html" target="n" data-glyph="0,0" class="t t"><span id="e68742b4516ff27a">NavigationPageRenderer</span></a> : <a href="IToolBarForegroundBinder.cs.html#eeaab3d3388810b0" class="t t">IToolBarForegroundBinder</a>
	{
		<span class="t t">SystemNavigationManager</span> <a id="d06e245f43a1be1e" href="R/d06e245f43a1be1e.html" target="n" data-glyph="46,1" class="i field">_navManager</a>;
 
		<b>public void</b> <a id="21faf47d7e656607" href="R/21faf47d7e656607.html" target="n" data-glyph="72,1" class="i method">BindForegroundColor</a>(<span class="t t">AppBar</span> <span id="r0 rd" class="r0 r">appBar</span>)
		{
			<a href="#c3290432f65b29ef" class="i method">SetAppBarForegroundBinding</a>(<span class="r0 r">appBar</span>);
		}
 
		<b>public void</b> <a id="4cf716bba914a4b8" href="R/4cf716bba914a4b8.html" target="n" data-glyph="72,1" class="i method">BindForegroundColor</a>(<span class="t t">AppBarButton</span> <span id="r1 rd" class="r1 r">button</span>)
		{
			<a href="#c3290432f65b29ef" class="i method">SetAppBarForegroundBinding</a>(<span class="r1 r">button</span>);
		}
 
		<b>void</b> <a id="c3290432f65b29ef" href="R/c3290432f65b29ef.html" target="n" data-glyph="76,1" class="i method">SetAppBarForegroundBinding</a>(<span class="t t">FrameworkElement</span> <span id="r2 rd" class="r2 r">element</span>)
		{
			<span class="r2 r">element</span>.<span class="i">SetBinding</span>(<span class="t t">Control</span>.<span class="i property">ForegroundProperty</span>,
				<b>new</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Xaml</span>.<span class="i n">Data</span>.<span class="t">Binding</span> { <span class="i">Path</span> = <b>new</b> <span class="t">PropertyPath</span>(<span class="s">&quot;TitleBrush&quot;</span>), <span class="i property">Source</span> = <a href="NavigationPageRenderer.cs.html#5523322079c77fc1" class="i field">_container</a>, <span class="i">RelativeSource</span> = <b>new</b> <span class="t">RelativeSource</span> { <span class="i property">Mode</span> = <span class="t t">RelativeSourceMode</span>.<span class="i field">TemplatedParent</span> } });
		}
 
		<b>void</b> <a id="ec57c0800a8311f2" href="R/ec57c0800a8311f2.html" target="n" data-glyph="76,1" class="i method">UpdateToolbarPlacement</a>()
		{
			<b>if</b> (<a href="NavigationPageRenderer.cs.html#5523322079c77fc1" class="i field">_container</a> == <b>null</b>)
			{
				<b>return</b>;
			}
 
			<a href="NavigationPageRenderer.cs.html#5523322079c77fc1" class="i field">_container</a>.<a href="PageControl.cs.html#3df955de90402b2e" class="i property">ToolbarPlacement</a> = <a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a>.<a href="PlatformConfigurationExtensions.cs.html#b19f040258388849" class="i method">OnThisPlatform</a>().<a href="/Xamarin.Forms.Core/A.html#7566148426ebed68" class="i method">GetToolbarPlacement</a>();
		}
 
		<b>void</b> <a id="3e8719fb35bf1df5" href="R/3e8719fb35bf1df5.html" target="n" data-glyph="76,1" class="i method">UpdateShowTitle</a>()
		{
			((<a href="ITitleProvider.cs.html#4d5fac609712dc35" class="t t">ITitleProvider</a>)<a href="P/aa061f4e7226a485.html#aa061f4e7226a485" class="k">this</a>).<a href="ITitleProvider.cs.html#d35d3e494170d3cc" class="i property">ShowTitle</a> = <a href="NavigationPageRenderer.cs.html#d5a014fdc71fc257" class="i field">_parentTabbedPage</a> == <b>null</b> &amp;&amp; <a href="NavigationPageRenderer.cs.html#21e2a4c7b9a7d1c2" class="i field">_parentMasterDetailPage</a> == <b>null</b>;
		}
 
		<b>static object</b> <a id="cc11b969acbb21ab" href="R/cc11b969acbb21ab.html" target="n" data-glyph="76,1" class="i method">GetDefaultColor</a>()
		{
			<b>return</b> <span class="i n">Windows</span>.<span class="i n">UI</span>.<span class="i n">Xaml</span>.<span class="t t">Application</span>.<span class="i property">Current</span>.<span class="i property">Resources</span>[<span class="s">&quot;SystemControlBackgroundChromeMediumLowBrush&quot;</span>];
		}
 
		<b>void</b> <a id="31c62c594aa41fce" href="R/31c62c594aa41fce.html" target="n" data-glyph="76,1" class="i method">UpdateBackButton</a>()
		{
			<b>bool</b> <span id="r3 rd" class="r3 r">showBackButton</span> = <a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#b6c1b388330fbf04" class="i property">InternalChildren</a>.<span class="i">Count</span> &gt; 1 &amp;&amp; <a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>.<span class="i">GetHasBackButton</span>(<a href="NavigationPageRenderer.cs.html#674b9824cbac2b19" class="i field">_currentPage</a>);
			<a href="NavigationPageRenderer.cs.html#5523322079c77fc1" class="i field">_container</a>.<a href="PageControl.cs.html#59e3cd199a3a4000" class="i property">ShowBackButton</a> = <span class="r3 r">showBackButton</span>;
 
			<b>if</b> (<a href="#d06e245f43a1be1e" class="i field">_navManager</a> != <b>null</b>)
			{
				<a href="#d06e245f43a1be1e" class="i field">_navManager</a>.<span class="i property">AppViewBackButtonVisibility</span> = <span class="r3 r">showBackButton</span> ? <span class="t t">AppViewBackButtonVisibility</span>.<span class="i field">Visible</span> : <span class="t t">AppViewBackButtonVisibility</span>.<span class="i field">Collapsed</span>;
			}
		}
 
		<b>async void</b> <a id="254525cefaad8d0b" href="R/254525cefaad8d0b.html" target="n" data-glyph="76,1" class="i method">UpdateTitleOnParents</a>()
		{
			<b>if</b> (<a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a> == <b>null</b>)
				<b>return</b>;
 
			<a href="ITitleProvider.cs.html#4d5fac609712dc35" class="t t">ITitleProvider</a> <span id="r4 rd" class="r4 r">render</span> = <b>null</b>;
			<b>if</b> (<a href="NavigationPageRenderer.cs.html#d5a014fdc71fc257" class="i field">_parentTabbedPage</a> != <b>null</b>)
			{
				<span class="r4 r">render</span> = <a href="P/8d41bb27f92ac214.html#8d41bb27f92ac214" class="t t">Platform</a>.<a href="Platform.cs.html#57cd4e7e3d7ffb95" class="i method">GetRenderer</a>(<a href="NavigationPageRenderer.cs.html#d5a014fdc71fc257" class="i field">_parentTabbedPage</a>) <b>as</b> <a href="ITitleProvider.cs.html#4d5fac609712dc35" class="t t">ITitleProvider</a>;
				<b>if</b> (<span class="r4 r">render</span> != <b>null</b>)
					<span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#d35d3e494170d3cc" class="i property">ShowTitle</a> = (<a href="NavigationPageRenderer.cs.html#d5a014fdc71fc257" class="i field">_parentTabbedPage</a>.<a href="/Xamarin.Forms.Core/A.html#ffbdb21cfc058aa9" class="i property">CurrentPage</a> == <a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a>) &amp;&amp; <a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>.<span class="i">GetHasNavigationBar</span>(<a href="NavigationPageRenderer.cs.html#674b9824cbac2b19" class="i field">_currentPage</a>);
			}
 
			<b>if</b> (<a href="NavigationPageRenderer.cs.html#21e2a4c7b9a7d1c2" class="i field">_parentMasterDetailPage</a> != <b>null</b>)
			{
				<span class="r4 r">render</span> = <a href="P/8d41bb27f92ac214.html#8d41bb27f92ac214" class="t t">Platform</a>.<a href="Platform.cs.html#57cd4e7e3d7ffb95" class="i method">GetRenderer</a>(<a href="NavigationPageRenderer.cs.html#21e2a4c7b9a7d1c2" class="i field">_parentMasterDetailPage</a>) <b>as</b> <a href="ITitleProvider.cs.html#4d5fac609712dc35" class="t t">ITitleProvider</a>;
				<b>if</b> (<span class="r4 r">render</span> != <b>null</b>)
					<span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#d35d3e494170d3cc" class="i property">ShowTitle</a> = (<a href="NavigationPageRenderer.cs.html#21e2a4c7b9a7d1c2" class="i field">_parentMasterDetailPage</a>.<a href="/Xamarin.Forms.Core/A.html#f1d01a371fd01303" class="i property">Detail</a> == <a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a>) &amp;&amp; <a href="/Xamarin.Forms.Core/A.html#055bf34ca2fc9b1a" class="t t">NavigationPage</a>.<span class="i">GetHasNavigationBar</span>(<a href="NavigationPageRenderer.cs.html#674b9824cbac2b19" class="i field">_currentPage</a>);
			}
 
			<b>if</b> (<span class="r4 r">render</span> != <b>null</b> &amp;&amp; <span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#d35d3e494170d3cc" class="i property">ShowTitle</a>)
			{
				<span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#f6cd7c74d64902e4" class="i property">Title</a> = <a href="NavigationPageRenderer.cs.html#674b9824cbac2b19" class="i field">_currentPage</a>.<a href="/Xamarin.Forms.Core/A.html#25a9b5c9e8eb0d28" class="i property">Title</a>;
				<span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#0063206370e6177a" class="i property">BarBackgroundBrush</a> = <a href="NavigationPageRenderer.cs.html#8baf21757463b7ed" class="i method">GetBarBackgroundBrush</a>();
				<span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#80926ce109c60563" class="i property">BarForegroundBrush</a> = <a href="NavigationPageRenderer.cs.html#0773457257a571c0" class="i method">GetBarForegroundBrush</a>();
			}
 
			<b>if</b> (<a href="NavigationPageRenderer.cs.html#0439d3c093cd1feb" class="i field">_showTitle</a> || (<span class="r4 r">render</span> != <b>null</b> &amp;&amp; <span class="r4 r">render</span>.<a href="ITitleProvider.cs.html#d35d3e494170d3cc" class="i property">ShowTitle</a>))
			{
				<a href="P/8d41bb27f92ac214.html#8d41bb27f92ac214" class="k">var</a> <span id="r5 rd" class="r5 r">platform</span> = <a href="NavigationPageRenderer.cs.html#a8f6a4358cfadab8" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="P/8d41bb27f92ac214.html#8d41bb27f92ac214" class="t t">Platform</a>;
				<b>if</b> (<span class="r5 r">platform</span> != <b>null</b>)
				{
					<b>await</b> <span class="r5 r">platform</span>.<a href="PlatformUWP.cs.html#9361371762cd264f" class="i method">UpdateToolbarItems</a>();
				}
			}
		}
	}
}
</pre></td></tr></table></div></body></html>
