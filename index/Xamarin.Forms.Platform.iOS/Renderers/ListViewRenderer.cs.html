<!DOCTYPE html>
<html><head><title>ListViewRenderer.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(1337);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="Xamarin.Forms.Platform.iOS/Renderers/ListViewRenderer.cs" target="_top">Renderers\ListViewRenderer.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xamarin.Forms.Platform.iOS" target="_top">Xamarin.Forms.Platform.iOS\Xamarin.Forms.Platform.iOS.csproj</a> (Xamarin.Forms.Platform.iOS)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Concurrent</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Specialized</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Foundation</span>;
<b>using</b> <span class="i n">UIKit</span>;
<b>using</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Internals</span>;
<b>using</b> <span class="t">RectangleF</span> = <span class="i n">CoreGraphics</span>.<span class="t t">CGRect</span>;
<b>using</b> <span class="t">SizeF</span> = <span class="i n">CoreGraphics</span>.<span class="t t">CGSize</span>;
 
<b>namespace</b> <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<span class="i n">Platform</span>.<span class="i n">iOS</span>
{
	<b>public class</b> <a id="32fec0055ca88fab" href="../R/32fec0055ca88fab.html" target="n" data-glyph="0,0" class="t t"><span id="a95fa37985fde09a">ListViewRenderer</span></a> : <a href="../ViewRenderer.cs.html#a26bff279160b03e" class="t t">ViewRenderer</a>&lt;<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>, <span class="t t">UITableView</span>&gt;
	{
		<b>const int</b> <a id="ba350f0742658c97" href="../R/ba350f0742658c97.html" target="n" data-glyph="10,1" class="i field">DefaultRowHeight</a> = 44;
		<a href="#d75234352b46fdca" class="t t">ListViewDataSource</a> <a id="c12934e201626564" href="../R/c12934e201626564.html" target="n" data-glyph="46,1" class="i field">_dataSource</a>;
		<b>bool</b> <a id="46ce8b719c781f2d" href="../R/46ce8b719c781f2d.html" target="n" data-glyph="46,1" class="i field">_estimatedRowHeight</a>;
		<a href="../IVisualElementRenderer.cs.html#222fbc88c8a624f8" class="t t">IVisualElementRenderer</a> <a id="1f9b6d5101f0570f" href="../R/1f9b6d5101f0570f.html" target="n" data-glyph="46,1" class="i field">_headerRenderer</a>;
		<a href="../IVisualElementRenderer.cs.html#222fbc88c8a624f8" class="t t">IVisualElementRenderer</a> <a id="6b96ee103264770a" href="../R/6b96ee103264770a.html" target="n" data-glyph="46,1" class="i field">_footerRenderer</a>;
 
		<a href="KeyboardInsetTracker.cs.html#33fbb10dfa84ca05" class="t t">KeyboardInsetTracker</a> <a id="bfc9ddd622655501" href="../R/bfc9ddd622655501.html" target="n" data-glyph="46,1" class="i field">_insetTracker</a>;
		<span class="t t">RectangleF</span> <a id="f35f36b29d2ca939" href="../R/f35f36b29d2ca939.html" target="n" data-glyph="46,1" class="i field">_previousFrame</a>;
		<a href="/Xamarin.Forms.Core/A.html#f03c2a98424144b5" class="t t">ScrollToRequestedEventArgs</a> <a id="2e421c14a0fddfd9" href="../R/2e421c14a0fddfd9.html" target="n" data-glyph="46,1" class="i field">_requestedScroll</a>;
 
		<a href="#eb7baaa7afc31c61" class="t t">FormsUITableViewController</a> <a id="f1bc8eab47cab74e" href="../R/f1bc8eab47cab74e.html" target="n" data-glyph="46,1" class="i field">_tableViewController</a>;
		<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <a id="96507d7e1046fa5b" href="../R/96507d7e1046fa5b.html" target="n" data-glyph="106,1" class="i property">ListView</a> =&gt; <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>;
		<a href="/Xamarin.Forms.Core/A.html#7d7c0ddfee2f7ca3" class="t t">ITemplatedItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt; <a id="5a77fad844f2d068" href="../R/5a77fad844f2d068.html" target="n" data-glyph="106,1" class="i property">TemplatedItemsView</a> =&gt; <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>;
		<b>public override</b> <span class="t t">UIViewController</span> <a id="b995ea659e238e64" href="../R/b995ea659e238e64.html" target="n" data-glyph="102,1" class="i property">ViewController</a> =&gt; <a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>;
		<b>bool</b> <a id="4d415e9667d080f7" href="../R/4d415e9667d080f7.html" target="n" data-glyph="46,1" class="i field">_disposed</a>;
		<b>protected</b> <span class="t t">UITableViewRowAnimation</span> <a id="5f2ba7a706c3bb93" href="../R/5f2ba7a706c3bb93.html" target="n" data-glyph="105,1" class="i property">InsertRowsAnimation</a> { <b>get</b>; <b>set</b>; } = <span class="t t">UITableViewRowAnimation</span>.<span class="i field">Automatic</span>;
		<b>protected</b> <span class="t t">UITableViewRowAnimation</span> <a id="1b7f69ba818fc400" href="../R/1b7f69ba818fc400.html" target="n" data-glyph="105,1" class="i property">DeleteRowsAnimation</a> { <b>get</b>; <b>set</b>; } = <span class="t t">UITableViewRowAnimation</span>.<span class="i field">Automatic</span>;
		<b>protected</b> <span class="t t">UITableViewRowAnimation</span> <a id="cc2249ba73747482" href="../R/cc2249ba73747482.html" target="n" data-glyph="105,1" class="i property">ReloadRowsAnimation</a> { <b>get</b>; <b>set</b>; } = <span class="t t">UITableViewRowAnimation</span>.<span class="i field">Automatic</span>;
		<b>protected</b> <span class="t t">UITableViewRowAnimation</span> <a id="e58a1fd070fa1e70" href="../R/../../0000000000.html" target="n" data-glyph="105,1" class="i property">ReloadSectionsAnimation</a>
		{
			<b>get</b> { <b>return</b> <a href="#c12934e201626564" class="i field">_dataSource</a>.<a href="#552d1797cea2f244" class="i property">ReloadSectionsAnimation</a>; }
			<b>set</b> { <a href="#c12934e201626564" class="i field">_dataSource</a>.<a href="#552d1797cea2f244" class="i property">ReloadSectionsAnimation</a> = <b>value</b>; }
		}
 
		<b>public override</b> <a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="t t">SizeRequest</a> <a id="f6170d3b02e585c3" href="../R/f6170d3b02e585c3.html" target="n" data-glyph="72,1" class="i method">GetDesiredSize</a>(<b>double</b> <span id="r0 rd" class="r0 r">widthConstraint</span>, <b>double</b> <span id="r1 rd" class="r1 r">heightConstraint</span>)
		{
			<b>return</b> <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<a href="../Extensions/UIViewExtensions.cs.html#c981fc7314706e11" class="i method">GetSizeRequest</a>(<span class="r0 r">widthConstraint</span>, <span class="r1 r">heightConstraint</span>, <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>, <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>);
		}
 
		<b>public override void</b> <a id="b43ce0b151ad9e38" href="../R/b43ce0b151ad9e38.html" target="n" data-glyph="72,1" class="i method">LayoutSubviews</a>()
		{
			<a href="../ViewRenderer.cs.html#a26bff279160b03e" class="k">base</a>.<a href="../ViewRenderer.cs.html#2ad1b7012b4c455f" class="i method">LayoutSubviews</a>();
 
			<b>double</b> <span id="r2 rd" class="r2 r">height</span> = <span class="i property">Bounds</span>.<span class="i property">Height</span>;
			<b>double</b> <span id="r3 rd" class="r3 r">width</span> = <span class="i property">Bounds</span>.<span class="i property">Width</span>;
			<b>if</b> (<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> != <b>null</b>)
			{
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r4 rd" class="r4 r">e</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>;
				<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r5 rd" class="r5 r">request</span> = <span class="r4 r">e</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r3 r">width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
 
				<span class="c">// Time for another story with Jason. Gather round children because the following Math.Ceiling will look like it&#39;s completely useless.</span>
				<span class="c">// You will remove it and test and find everything is fiiiiiine, but it is not fine, no it is far from fine. See iOS, or at least iOS 8</span>
				<span class="c">// has an issue where-by if the TableHeaderView happens to NOT be an integer height, it will add padding to the space between the content</span>
				<span class="c">// of the UITableView and the TableHeaderView to the tune of the difference between Math.Ceiling (height) - height. Now this seems fine</span>
				<span class="c">// and when you test it will be, EXCEPT that it does this every time you toggle the visibility of the UITableView causing the spacing to </span>
				<span class="c">// grow a little each time, which you weren&#39;t testing at all were you? So there you have it, the stupid reason we integer align here.</span>
				<span class="c">//</span>
				<span class="c">// The same technically applies to the footer, though that could hardly matter less. We just do it for fun.</span>
				<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r4 r">e</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r3 r">width</span>, <a href="@0@mscorlib/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@0@mscorlib/A.html#1841a5ce24ed9fb3" class="i method">Ceiling</a>(<span class="r5 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>)));
 
				<a href="/Xamarin.Forms.Core/A.html#4809323d42d3030a" class="t t">Device</a>.<a href="/Xamarin.Forms.Core/A.html#c01f48f642e0b305" class="i method">BeginInvokeOnMainThread</a>(() =&gt;
				{
					<b>if</b> (<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> != <b>null</b>)
						<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableHeaderView</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
				});
			}
 
			<b>if</b> (<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> != <b>null</b>)
			{
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r6 rd" class="r6 r">e</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>;
				<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r7 rd" class="r7 r">request</span> = <span class="r6 r">e</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r3 r">width</span>, <span class="r2 r">height</span>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
				<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r6 r">e</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r3 r">width</span>, <a href="@0@mscorlib/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@0@mscorlib/A.html#1841a5ce24ed9fb3" class="i method">Ceiling</a>(<span class="r7 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>)));
 
				<a href="/Xamarin.Forms.Core/A.html#4809323d42d3030a" class="t t">Device</a>.<a href="/Xamarin.Forms.Core/A.html#c01f48f642e0b305" class="i method">BeginInvokeOnMainThread</a>(() =&gt;
				{
					<b>if</b> (<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> != <b>null</b>)
						<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableFooterView</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
				});
			}
 
			<b>if</b> (<a href="#2e421c14a0fddfd9" class="i field">_requestedScroll</a> != <b>null</b> &amp;&amp; <span class="i property">Superview</span> != <b>null</b>)
			{
				<a href="/Xamarin.Forms.Core/A.html#f03c2a98424144b5" class="k">var</a> <span id="r8 rd" class="r8 r">request</span> = <a href="#2e421c14a0fddfd9" class="i field">_requestedScroll</a>;
				<a href="#2e421c14a0fddfd9" class="i field">_requestedScroll</a> = <b>null</b>;
				<a href="#05651047338f3d3d" class="i method">OnScrollToRequested</a>(<a href="#32fec0055ca88fab" class="k">this</a>, <span class="r8 r">request</span>);
			}
 
			<b>if</b> (<a href="#f35f36b29d2ca939" class="i field">_previousFrame</a> != <span class="i property">Frame</span>)
			{
				<a href="#f35f36b29d2ca939" class="i field">_previousFrame</a> = <span class="i property">Frame</span>;
				<a href="#bfc9ddd622655501" class="i field">_insetTracker</a>?.<a href="KeyboardInsetTracker.cs.html#749b9d94f8d41bd6" class="i method">UpdateInsets</a>();
			}
		}
 
		<b>void</b> <a id="0e48fd26e6e2b802" href="../R/0e48fd26e6e2b802.html" target="n" data-glyph="76,1" class="i method">DisposeSubviews</a>(<span class="t t">UIView</span> <span id="r9 rd" class="r9 r">view</span>)
		{
			<b>foreach</b> (<span class="t t">UIView</span> <span id="r10 rd" class="r10 r">subView</span> <b>in</b> <span class="r9 r">view</span>.<span class="i property">Subviews</span>)
				<a href="#0e48fd26e6e2b802" class="i method">DisposeSubviews</a>(<span class="r10 r">subView</span>);
 
			<span class="r9 r">view</span>.<span class="i method">RemoveFromSuperview</span>();
			<span class="r9 r">view</span>.<span class="i method">Dispose</span>();
		}
 
		<b>protected override void</b> <a id="f2226467b33a7223" href="../R/f2226467b33a7223.html" target="n" data-glyph="75,1" class="i method">Dispose</a>(<b>bool</b> <span id="r11 rd" class="r11 r">disposing</span>)
		{
			<b>if</b> (<a href="#4d415e9667d080f7" class="i field">_disposed</a>)
				<b>return</b>;
 
			<b>if</b> (<span class="r11 r">disposing</span>)
			{
				<b>if</b> (<a href="#bfc9ddd622655501" class="i field">_insetTracker</a> != <b>null</b>)
				{
					<a href="#bfc9ddd622655501" class="i field">_insetTracker</a>.<a href="KeyboardInsetTracker.cs.html#78ece48d7fe90d14" class="i method">Dispose</a>();
					<a href="#bfc9ddd622655501" class="i field">_insetTracker</a> = <b>null</b>;
				}
 
				<b>foreach</b> (<span class="t t">UIView</span> <span id="r12 rd" class="r12 r">subview</span> <b>in</b> <span class="i property">Subviews</span>)
					<a href="#0e48fd26e6e2b802" class="i method">DisposeSubviews</a>(<span class="r12 r">subview</span>);
 
				<b>if</b> (<a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a> != <b>null</b>)
				{
					<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r13 rd" class="r13 r">templatedItems</span> = <a href="#5a77fad844f2d068" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
					<span class="r13 r">templatedItems</span>.<a href="@0@System/A.html#26300c777385ef7c" class="i">CollectionChanged</a> -= <a href="#714148a9698bded6" class="i method">OnCollectionChanged</a>;
					<span class="r13 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#8b023baeda1bdf2a" class="i">GroupedCollectionChanged</a> -= <a href="#f2e51d0fc9e40cce" class="i method">OnGroupedCollectionChanged</a>;
				}
 
				<b>if</b> (<a href="#c12934e201626564" class="i field">_dataSource</a> != <b>null</b>)
				{
					<a href="#c12934e201626564" class="i field">_dataSource</a>.<span class="i method">Dispose</span>();
					<a href="#c12934e201626564" class="i field">_dataSource</a> = <b>null</b>;
				}
 
				<b>if</b> (<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a> != <b>null</b>)
				{
					<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>.<span class="i method">Dispose</span>();
					<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a> = <b>null</b>;
				}
 
				<b>if</b> (<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> != <b>null</b>)
				{
					<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r14 rd" class="r14 r">platform</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>?.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
					<span class="r14 r">platform</span>?.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
					<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> = <b>null</b>;
				}
				<b>if</b> (<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> != <b>null</b>)
				{
					<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r15 rd" class="r15 r">platform</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>?.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
					<span class="r15 r">platform</span>?.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
					<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> = <b>null</b>;
				}
 
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r16 rd" class="r16 r">headerView</span> = <a href="#96507d7e1046fa5b" class="i property">ListView</a>?.<a href="/Xamarin.Forms.Core/A.html#7ca6df286ce3f9a6" class="i property">HeaderElement</a> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>;
				<b>if</b> (<span class="r16 r">headerView</span> != <b>null</b>)
					<span class="r16 r">headerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8dbaa127e05deead" class="i method">OnHeaderMeasureInvalidated</a>;
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>?.<span class="i property">TableHeaderView</span>?.<span class="i method">Dispose</span>();
 
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r17 rd" class="r17 r">footerView</span> = <a href="#96507d7e1046fa5b" class="i property">ListView</a>?.<a href="/Xamarin.Forms.Core/A.html#e489121e054c62f7" class="i property">FooterElement</a> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>;
				<b>if</b> (<span class="r17 r">footerView</span> != <b>null</b>)
					<span class="r17 r">footerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8c860a854a94aa37" class="i method">OnFooterMeasureInvalidated</a>;
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>?.<span class="i property">TableFooterView</span>?.<span class="i method">Dispose</span>();
			}
 
			<a href="#4d415e9667d080f7" class="i field">_disposed</a> = <b>true</b>;
 
			<a href="../ViewRenderer.cs.html#a26bff279160b03e" class="k">base</a>.<a href="../ViewRenderer.cs.html#0263ff95aef8d32c" class="i method">Dispose</a>(<span class="r11 r">disposing</span>);
		}
 
		<b>protected override void</b> <a id="fc75ce4bca1f6f24" href="../R/fc75ce4bca1f6f24.html" target="n" data-glyph="75,1" class="i method">OnElementChanged</a>(<a href="../ElementChangedEventArgs.cs.html#8cd59c48d876c811" class="t t">ElementChangedEventArgs</a>&lt;<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>&gt; <span id="r18 rd" class="r18 r">e</span>)
		{
			<a href="#2e421c14a0fddfd9" class="i field">_requestedScroll</a> = <b>null</b>;
 
			<b>if</b> (<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#4f3197519f522690" class="i property">OldElement</a> != <b>null</b>)
			{
				<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="k">var</a> <span id="r19 rd" class="r19 r">listView</span> = <span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#4f3197519f522690" class="i property">OldElement</a>;
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r20 rd" class="r20 r">headerView</span> = (<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>)<span class="r19 r">listView</span>.<a href="/Xamarin.Forms.Core/A.html#7ca6df286ce3f9a6" class="i property">HeaderElement</a>;
				<b>if</b> (<span class="r20 r">headerView</span> != <b>null</b>)
					<span class="r20 r">headerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8dbaa127e05deead" class="i method">OnHeaderMeasureInvalidated</a>;
 
				<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r21 rd" class="r21 r">footerView</span> = (<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>)<span class="r19 r">listView</span>.<a href="/Xamarin.Forms.Core/A.html#e489121e054c62f7" class="i property">FooterElement</a>;
				<b>if</b> (<span class="r21 r">footerView</span> != <b>null</b>)
					<span class="r21 r">footerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8c860a854a94aa37" class="i method">OnFooterMeasureInvalidated</a>;
 
				<span class="r19 r">listView</span>.<a href="/Xamarin.Forms.Core/A.html#55534a7ecbfa5f31" class="i">ScrollToRequested</a> -= <a href="#05651047338f3d3d" class="i method">OnScrollToRequested</a>;
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r22 rd" class="r22 r">templatedItems</span> = ((<a href="/Xamarin.Forms.Core/A.html#7d7c0ddfee2f7ca3" class="t t">ITemplatedItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#4f3197519f522690" class="i property">OldElement</a>).<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
 
				<span class="r22 r">templatedItems</span>.<a href="@0@System/A.html#26300c777385ef7c" class="i">CollectionChanged</a> -= <a href="#714148a9698bded6" class="i method">OnCollectionChanged</a>;
				<span class="r22 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#8b023baeda1bdf2a" class="i">GroupedCollectionChanged</a> -= <a href="#f2e51d0fc9e40cce" class="i method">OnGroupedCollectionChanged</a>;
			}
 
			<b>if</b> (<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a> != <b>null</b>)
			{
				<b>if</b> (<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a> == <b>null</b>)
				{
					<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a> = <b>new</b> <a href="#82b794ebfee6f5ca" class="t constructor">FormsUITableViewController</a>(<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>);
					<a href="../ViewRenderer.cs.html#5a05fd07ede87b4f" class="i method">SetNativeControl</a>(<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>.<span class="i property">TableView</span>);
					<b>if</b> (<a href="../Forms.cs.html#eb8800bb7e650425" class="t t">Forms</a>.<a href="../Forms.cs.html#c03e7d280ce62a49" class="i property">IsiOS9OrNewer</a>)
						<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">CellLayoutMarginsFollowReadableWidth</span> = <b>false</b>;
 
					<a href="#bfc9ddd622655501" class="i field">_insetTracker</a> = <b>new</b> <a href="KeyboardInsetTracker.cs.html#839813244c67b1fa" class="t constructor">KeyboardInsetTracker</a>(<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>.<span class="i property">TableView</span>, () =&gt; <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">Window</span>, <span id="r23 rd" class="r23 r">insets</span> =&gt; <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">ContentInset</span> = <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">ScrollIndicatorInsets</span> = <span class="r23 r">insets</span>, <span id="r24 rd" class="r24 r">point</span> =&gt;
					{
						<b>var</b> <span id="r25 rd" class="r25 r">offset</span> = <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">ContentOffset</span>;
						<span class="r25 r">offset</span>.<span class="i property">Y</span> += <span class="r24 r">point</span>.<span class="i property">Y</span>;
						<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">SetContentOffset</span>(<span class="r25 r">offset</span>, <b>true</b>);
					});
				}
 
				<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="k">var</a> <span id="r26 rd" class="r26 r">listView</span> = <span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>;
 
				<span class="r26 r">listView</span>.<a href="/Xamarin.Forms.Core/A.html#55534a7ecbfa5f31" class="i">ScrollToRequested</a> += <a href="#05651047338f3d3d" class="i method">OnScrollToRequested</a>;
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r27 rd" class="r27 r">templatedItems</span> = ((<a href="/Xamarin.Forms.Core/A.html#7d7c0ddfee2f7ca3" class="t t">ITemplatedItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>).<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
 
				<span class="r27 r">templatedItems</span>.<a href="@0@System/A.html#26300c777385ef7c" class="i">CollectionChanged</a> += <a href="#714148a9698bded6" class="i method">OnCollectionChanged</a>;
				<span class="r27 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#8b023baeda1bdf2a" class="i">GroupedCollectionChanged</a> += <a href="#f2e51d0fc9e40cce" class="i method">OnGroupedCollectionChanged</a>;
 
				<a href="#5ad6ed7313a979dd" class="i method">UpdateRowHeight</a>();
 
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">Source</span> = <a href="#c12934e201626564" class="i field">_dataSource</a> = <span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>.<a href="/Xamarin.Forms.Core/A.html#7d4655a3bc00be9b" class="i property">HasUnevenRows</a> ? <b>new</b> <a href="#b3f316384177a979" class="t constructor">UnevenListViewDataSource</a>(<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>, <a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>) : <b>new</b> <a href="#30f0b9f7fa541d45" class="t constructor">ListViewDataSource</a>(<span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>, <a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>);
 
				<a href="#6a992685e20aca31" class="i method">UpdateEstimatedRowHeight</a>();
				<a href="#254f5284f8b805ee" class="i method">UpdateHeader</a>();
				<a href="#b8d869de0b86a56d" class="i method">UpdateFooter</a>();
				<a href="#d538d73ae69beb82" class="i method">UpdatePullToRefreshEnabled</a>();
				<a href="#d0b4f20f0a279af7" class="i method">UpdateIsRefreshing</a>();
				<a href="#442527a0260d3fd2" class="i method">UpdateSeparatorColor</a>();
				<a href="#8693f452e7422826" class="i method">UpdateSeparatorVisibility</a>();
 
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r28 rd" class="r28 r">selected</span> = <span class="r18 r">e</span>.<a href="../ElementChangedEventArgs.cs.html#d2a2951b1359cace" class="i property">NewElement</a>.<a href="/Xamarin.Forms.Core/A.html#dfce6372456ec083" class="i property">SelectedItem</a>;
				<b>if</b> (<span class="r28 r">selected</span> != <b>null</b>)
					<a href="#c12934e201626564" class="i field">_dataSource</a>.<a href="#38962bf3ed5596ec" class="i method">OnItemSelected</a>(<b>null</b>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#f75588b084f6aa45" class="t constructor">SelectedItemChangedEventArgs</a>(<span class="r28 r">selected</span>));
			}
 
			<a href="../ViewRenderer.cs.html#a26bff279160b03e" class="k">base</a>.<a href="../ViewRenderer.cs.html#8d6908150c52ef88" class="i method">OnElementChanged</a>(<span class="r18 r">e</span>);
		}
 
		<b>protected override void</b> <a id="fe64f15cd1d9d13f" href="../R/fe64f15cd1d9d13f.html" target="n" data-glyph="75,1" class="i method">OnElementPropertyChanged</a>(<b>object</b> <span id="r29 rd" class="r29 r">sender</span>, <a href="@0@System/A.html#f613cfcc9d2b2a4b" class="t t">PropertyChangedEventArgs</a> <span id="r30 rd" class="r30 r">e</span>)
		{
			<a href="../ViewRenderer.cs.html#a26bff279160b03e" class="k">base</a>.<a href="../ViewRenderer.cs.html#9d8f9c1b9a699acd" class="i method">OnElementPropertyChanged</a>(<span class="r29 r">sender</span>, <span class="r30 r">e</span>);
			<b>if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#96072a718638095e" class="i field">RowHeightProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#5ad6ed7313a979dd" class="i method">UpdateRowHeight</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#036cd02de28b0419" class="i field">IsGroupingEnabledProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#c12934e201626564" class="i field">_dataSource</a>.<a href="#8fb5995ba8811de7" class="i method">UpdateGrouping</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#ba5f9bb59f0aeffc" class="i field">HasUnevenRowsProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
			{
				<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>false</b>;
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">Source</span> = <a href="#c12934e201626564" class="i field">_dataSource</a> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#7d4655a3bc00be9b" class="i property">HasUnevenRows</a> ? <b>new</b> <a href="#2cd522825d305fe9" class="t constructor">UnevenListViewDataSource</a>(<a href="#c12934e201626564" class="i field">_dataSource</a>) : <b>new</b> <a href="#902c43930940507d" class="t constructor">ListViewDataSource</a>(<a href="#c12934e201626564" class="i field">_dataSource</a>);
			}
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#b54e2569acd8ac17" class="i field">IsPullToRefreshEnabledProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#d538d73ae69beb82" class="i method">UpdatePullToRefreshEnabled</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#537695c2dff1da16" class="i field">IsRefreshingProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#d0b4f20f0a279af7" class="i method">UpdateIsRefreshing</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#036a38ee3d0699e3" class="i field">SeparatorColorProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#442527a0260d3fd2" class="i method">UpdateSeparatorColor</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="i n">Xamarin</span>.<span class="i n">Forms</span>.<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#5e95022dbc52611a" class="i field">SeparatorVisibilityProperty</a>.<a href="/Xamarin.Forms.Core/A.html#3e8a9f30dd5c9578" class="i property">PropertyName</a>)
				<a href="#8693f452e7422826" class="i method">UpdateSeparatorVisibility</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="s">&quot;HeaderElement&quot;</span>)
				<a href="#254f5284f8b805ee" class="i method">UpdateHeader</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="s">&quot;FooterElement&quot;</span>)
				<a href="#b8d869de0b86a56d" class="i method">UpdateFooter</a>();
			<b>else if</b> (<span class="r30 r">e</span>.<a href="@0@System/A.html#edc039b147e83726" class="i property">PropertyName</a> == <span class="s">&quot;RefreshAllowed&quot;</span>)
				<a href="#d538d73ae69beb82" class="i method">UpdatePullToRefreshEnabled</a>();
		}
 
		<span class="t t">NSIndexPath</span>[] <a id="5d1c9342eca17fdd" href="../R/5d1c9342eca17fdd.html" target="n" data-glyph="76,1" class="i method">GetPaths</a>(<b>int</b> <span id="r31 rd" class="r31 r">section</span>, <b>int</b> <span id="r32 rd" class="r32 r">index</span>, <b>int</b> <span id="r33 rd" class="r33 r">count</span>)
		{
			<b>var</b> <span id="r34 rd" class="r34 r">paths</span> = <b>new</b> <span class="t t">NSIndexPath</span>[<span class="r33 r">count</span>];
			<b>for</b> (<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r35 rd" class="r35 r">i</span> = 0; <span class="r35 r">i</span> &lt; <span class="r34 r">paths</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>; <span class="r35 r">i</span>++)
				<span class="r34 r">paths</span>[<span class="r35 r">i</span>] = <span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r32 r">index</span> + <span class="r35 r">i</span>, <span class="r31 r">section</span>);
 
			<b>return</b> <span class="r34 r">paths</span>;
		}
 
		<span class="t t">UITableViewScrollPosition</span> <a id="4d5848886e88579f" href="../R/4d5848886e88579f.html" target="n" data-glyph="76,1" class="i method">GetScrollPosition</a>(<a href="/Xamarin.Forms.Core/A.html#5fb20af4e6e81b90" class="t t">ScrollToPosition</a> <span id="r36 rd" class="r36 r">position</span>)
		{
			<b>switch</b> (<span class="r36 r">position</span>)
			{
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#5fb20af4e6e81b90" class="t t">ScrollToPosition</a>.<a href="/Xamarin.Forms.Core/A.html#cf0e7d490192e01f" class="i field">Center</a>:
					<b>return</b> <span class="t t">UITableViewScrollPosition</span>.<span class="i field">Middle</span>;
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#5fb20af4e6e81b90" class="t t">ScrollToPosition</a>.<a href="/Xamarin.Forms.Core/A.html#c986f9da5b8e7350" class="i field">End</a>:
					<b>return</b> <span class="t t">UITableViewScrollPosition</span>.<span class="i field">Bottom</span>;
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#5fb20af4e6e81b90" class="t t">ScrollToPosition</a>.<a href="/Xamarin.Forms.Core/A.html#78b3634b9c5b120a" class="i field">Start</a>:
					<b>return</b> <span class="t t">UITableViewScrollPosition</span>.<span class="i field">Top</span>;
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#5fb20af4e6e81b90" class="t t">ScrollToPosition</a>.<a href="/Xamarin.Forms.Core/A.html#6027307adab57e1b" class="i field">MakeVisible</a>:
				<b>default</b>:
					<b>return</b> <span class="t t">UITableViewScrollPosition</span>.<span class="i field">None</span>;
			}
		}
 
		<b>void</b> <a id="714148a9698bded6" href="../R/714148a9698bded6.html" target="n" data-glyph="76,1" class="i method">OnCollectionChanged</a>(<b>object</b> <span id="r37 rd" class="r37 r">sender</span>, <a href="@0@System/A.html#f5d7031313cab4ab" class="t t">NotifyCollectionChangedEventArgs</a> <span id="r38 rd" class="r38 r">e</span>)
		{
			<a href="#5b70fab57abcab2b" class="i method">UpdateItems</a>(<span class="r38 r">e</span>, 0, <b>true</b>);
		}
 
		<b>void</b> <a id="8c860a854a94aa37" href="../R/8c860a854a94aa37.html" target="n" data-glyph="76,1" class="i method">OnFooterMeasureInvalidated</a>(<b>object</b> <span id="r39 rd" class="r39 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r40 rd" class="r40 r">eventArgs</span>)
		{
			<b>double</b> <span id="r41 rd" class="r41 r">width</span> = <span class="i property">Bounds</span>.<span class="i property">Width</span>;
			<b>if</b> (<span class="r41 r">width</span> == 0)
				<b>return</b>;
 
			<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r42 rd" class="r42 r">footerView</span> = (<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>)<span class="r39 r">sender</span>;
			<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r43 rd" class="r43 r">request</span> = <span class="r42 r">footerView</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r41 r">width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
			<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r42 r">footerView</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r41 r">width</span>, <span class="r43 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>));
 
			<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableFooterView</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
		}
 
		<b>void</b> <a id="f2e51d0fc9e40cce" href="../R/f2e51d0fc9e40cce.html" target="n" data-glyph="76,1" class="i method">OnGroupedCollectionChanged</a>(<b>object</b> <span id="r44 rd" class="r44 r">sender</span>, <a href="@0@System/A.html#f5d7031313cab4ab" class="t t">NotifyCollectionChangedEventArgs</a> <span id="r45 rd" class="r45 r">e</span>)
		{
			<a href="/Xamarin.Forms.Core/A.html#1bbf66e01c80bd54" class="k">var</a> <span id="r46 rd" class="r46 r">til</span> = (<a href="/Xamarin.Forms.Core/A.html#1bbf66e01c80bd54" class="t t">TemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#e6e9068bbee42f54" class="t t">ItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;, <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)<span class="r44 r">sender</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r47 rd" class="r47 r">templatedItems</span> = <a href="#5a77fad844f2d068" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
			<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r48 rd" class="r48 r">groupIndex</span> = <span class="r47 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#5abc6d236ff3dea9" class="i method">IndexOf</a>(<span class="r46 r">til</span>.<a href="/Xamarin.Forms.Core/A.html#2f539e9ba4cca042" class="i property">HeaderContent</a>);
			<a href="#5b70fab57abcab2b" class="i method">UpdateItems</a>(<span class="r45 r">e</span>, <span class="r48 r">groupIndex</span>, <b>false</b>);
		}
 
		<b>void</b> <a id="8dbaa127e05deead" href="../R/8dbaa127e05deead.html" target="n" data-glyph="76,1" class="i method">OnHeaderMeasureInvalidated</a>(<b>object</b> <span id="r49 rd" class="r49 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r50 rd" class="r50 r">eventArgs</span>)
		{
			<b>double</b> <span id="r51 rd" class="r51 r">width</span> = <span class="i property">Bounds</span>.<span class="i property">Width</span>;
			<b>if</b> (<span class="r51 r">width</span> == 0)
				<b>return</b>;
 
			<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="k">var</a> <span id="r52 rd" class="r52 r">headerView</span> = (<a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>)<span class="r49 r">sender</span>;
			<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r53 rd" class="r53 r">request</span> = <span class="r52 r">headerView</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r51 r">width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
			<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r52 r">headerView</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r51 r">width</span>, <span class="r53 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>));
 
			<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableHeaderView</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
		}
 
		<b>void</b> <a id="05651047338f3d3d" href="../R/05651047338f3d3d.html" target="n" data-glyph="76,1" class="i method">OnScrollToRequested</a>(<b>object</b> <span id="r54 rd" class="r54 r">sender</span>, <a href="/Xamarin.Forms.Core/A.html#f03c2a98424144b5" class="t t">ScrollToRequestedEventArgs</a> <span id="r55 rd" class="r55 r">e</span>)
		{
			<b>if</b> (<span class="i property">Superview</span> == <b>null</b>)
			{
				<a href="#2e421c14a0fddfd9" class="i field">_requestedScroll</a> = <span class="r55 r">e</span>;
				<b>return</b>;
			}
 
			<b>var</b> <span id="r56 rd" class="r56 r">position</span> = <a href="#4d5848886e88579f" class="i method">GetScrollPosition</a>(<span class="r55 r">e</span>.<a href="/Xamarin.Forms.Core/A.html#fc0ff6f15e752ead" class="i property">Position</a>);
			<a href="/Xamarin.Forms.Core/A.html#bbee832be42424be" class="k">var</a> <span id="r57 rd" class="r57 r">scrollArgs</span> = (<a href="/Xamarin.Forms.Core/A.html#bbee832be42424be" class="t t">ITemplatedItemsListScrollToRequestedEventArgs</a>)<span class="r55 r">e</span>;
 
			<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r58 rd" class="r58 r">templatedItems</span> = <a href="#5a77fad844f2d068" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
			<b>if</b> (<a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
			{
				<a href="@0@mscorlib/A.html#1806cf6634f5a371" class="k">var</a> <span id="r59 rd" class="r59 r">result</span> = <span class="r58 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#cd53b32b78cbab85" class="i method">GetGroupAndIndexOfItem</a>(<span class="r57 r">scrollArgs</span>.<a href="/Xamarin.Forms.Core/A.html#57f314f5cc333237" class="i property">Group</a>, <span class="r57 r">scrollArgs</span>.<a href="/Xamarin.Forms.Core/A.html#2b6b4e5119bda668" class="i property">Item</a>);
				<b>if</b> (<span class="r59 r">result</span>.<a href="@0@mscorlib/A.html#d1922db1cf9dcd03" class="i property">Item1</a> != -1 &amp;&amp; <span class="r59 r">result</span>.<a href="@0@mscorlib/A.html#85ddc983cace902c" class="i property">Item2</a> != -1)
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">ScrollToRow</span>(<span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r59 r">result</span>.<a href="@0@mscorlib/A.html#85ddc983cace902c" class="i property">Item2</a>, <span class="r59 r">result</span>.<a href="@0@mscorlib/A.html#d1922db1cf9dcd03" class="i property">Item1</a>), <span class="r56 r">position</span>, <span class="r55 r">e</span>.<a href="/Xamarin.Forms.Core/A.html#a431f3b81325da89" class="i property">ShouldAnimate</a>);
			}
			<b>else</b>
			{
				<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r60 rd" class="r60 r">index</span> = <span class="r58 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#c0817f9c0be9808b" class="i method">GetGlobalIndexOfItem</a>(<span class="r57 r">scrollArgs</span>.<a href="/Xamarin.Forms.Core/A.html#2b6b4e5119bda668" class="i property">Item</a>);
				<b>if</b> (<span class="r60 r">index</span> != -1)
				{
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">Layer</span>.<span class="i method">RemoveAllAnimations</span>();
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">ScrollToRow</span>(<span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r60 r">index</span>, 0), <span class="r56 r">position</span>, <span class="r55 r">e</span>.<a href="/Xamarin.Forms.Core/A.html#a431f3b81325da89" class="i property">ShouldAnimate</a>);
				}
			}
		}
 
		<b>void</b> <a id="6a992685e20aca31" href="../R/6a992685e20aca31.html" target="n" data-glyph="76,1" class="i method">UpdateEstimatedRowHeight</a>()
		{
			<b>if</b> (<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a>)
				<b>return</b>;
 
			<span class="c">// if even rows OR uneven rows but user specified a row height anyway...</span>
			<b>if</b> (!<a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#7d4655a3bc00be9b" class="i property">HasUnevenRows</a> || <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#873f0e107de1f075" class="i property">RowHeight</a> != -1)
			{
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">EstimatedRowHeight</span> = 0;
				<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>true</b>;
				<b>return</b>;
			}
 
			<a href="#3e861d61f8c1c248" class="k">var</a> <span id="r61 rd" class="r61 r">source</span> = <a href="#c12934e201626564" class="i field">_dataSource</a> <b>as</b> <a href="#3e861d61f8c1c248" class="t t">UnevenListViewDataSource</a>;
 
			<span class="c">// We want to make sure we reset the cached defined row heights whenever this is called.</span>
			<span class="c">// Failing to do this will regress Bugzilla 43313 </span>
			<span class="c">// (strange animation when adding rows with uneven heights)</span>
			<span class="c">//source?.CacheDefinedRowHeights();</span>
 
			<b>if</b> (<span class="r61 r">source</span> == <b>null</b>)
			{
				<span class="c">// We need to set a default estimated row height, </span>
				<span class="c">// because re-setting it later(when we have items on the TIL)</span>
				<span class="c">// will cause the UITableView to reload, and throw an Exception</span>
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">EstimatedRowHeight</span> = <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>;
				<b>return</b>;
			}
 
			<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">EstimatedRowHeight</span> = <span class="r61 r">source</span>.<a href="#9d16f92836ee464a" class="i method">GetEstimatedRowHeight</a>(<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>);
			<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>true</b>;
			<b>return</b>;
		}
 
		<b>void</b> <a id="b8d869de0b86a56d" href="../R/b8d869de0b86a56d.html" target="n" data-glyph="76,1" class="i method">UpdateFooter</a>()
		{
			<a href="/Xamarin.Forms.Core/A.html#76098df8350c0484" class="k">var</a> <span id="r62 rd" class="r62 r">footer</span> = <a href="#96507d7e1046fa5b" class="i property">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#e489121e054c62f7" class="i property">FooterElement</a>;
			<a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="k">var</a> <span id="r63 rd" class="r63 r">footerView</span> = (<a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="t t">View</a>)<span class="r62 r">footer</span>;
 
			<b>if</b> (<span class="r63 r">footerView</span> != <b>null</b>)
			{
				<b>if</b> (<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> != <b>null</b>)
				{
					<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8c860a854a94aa37" class="i method">OnFooterMeasureInvalidated</a>;
					<a href="@0@mscorlib/A.html#19b80e3318d9b184" class="k">var</a> <span id="r64 rd" class="r64 r">reflectableType</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a> <b>as</b> <span class="i n">System</span>.<span class="i n">Reflection</span>.<a href="@0@mscorlib/A.html#19b80e3318d9b184" class="t t">IReflectableType</a>;
					<a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="k">var</a> <span id="r65 rd" class="r65 r">rendererType</span> = <span class="r64 r">reflectableType</span> != <b>null</b> ? <span class="r64 r">reflectableType</span>.<a href="@0@mscorlib/A.html#dcb0d45415227ae9" class="i method">GetTypeInfo</a>().<a href="@0@mscorlib/A.html#22cef495c0fb163c" class="i method">AsType</a>() : <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>();
					<b>if</b> (<span class="r62 r">footer</span> != <b>null</b> &amp;&amp; <span class="r65 r">rendererType</span> == <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Core/A.html#44c60787abb7ad29" class="t t">Registrar</a>.<a href="/Xamarin.Forms.Core/A.html#5f29d2ac0e30bd81" class="i property">Registered</a>.<a href="/Xamarin.Forms.Core/A.html#720a9bb98de06e80" class="i method">GetHandlerTypeForObject</a>(<span class="r62 r">footer</span>))
					{
						<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#a0e76ca620152f94" class="i method">SetElement</a>(<span class="r63 r">footerView</span>);
						<b>return</b>;
					}
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableFooterView</span> = <b>null</b>;
					<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r66 rd" class="r66 r">platform</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
					<b>if</b> (<span class="r66 r">platform</span> != <b>null</b>)
						<span class="r66 r">platform</span>.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
					<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="@0@mscorlib/A.html#4e23fed29bd598fa" class="i method">Dispose</a>();
					<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> = <b>null</b>;
				}
 
				<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> = <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#eb80088297c94fc7" class="i method">CreateRenderer</a>(<span class="r63 r">footerView</span>);
				<a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#bfa92a35047b64ae" class="i method">SetRenderer</a>(<span class="r63 r">footerView</span>, <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>);
 
				<b>double</b> <span id="r67 rd" class="r67 r">width</span> = <span class="i property">Bounds</span>.<span class="i property">Width</span>;
				<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r68 rd" class="r68 r">request</span> = <span class="r63 r">footerView</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r67 r">width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
				<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r63 r">footerView</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r67 r">width</span>, <span class="r68 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>));
 
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableFooterView</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
				<span class="r63 r">footerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> += <a href="#8c860a854a94aa37" class="i method">OnFooterMeasureInvalidated</a>;
			}
			<b>else if</b> (<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> != <b>null</b>)
			{
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableFooterView</span> = <b>null</b>;
				<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8c860a854a94aa37" class="i method">OnFooterMeasureInvalidated</a>;
 
				<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r69 rd" class="r69 r">platform</span> = <a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
				<b>if</b> (<span class="r69 r">platform</span> != <b>null</b>)
					<span class="r69 r">platform</span>.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
				<a href="#6b96ee103264770a" class="i field">_footerRenderer</a>.<a href="@0@mscorlib/A.html#4e23fed29bd598fa" class="i method">Dispose</a>();
				<a href="#6b96ee103264770a" class="i field">_footerRenderer</a> = <b>null</b>;
			}
		}
 
		<b>void</b> <a id="254f5284f8b805ee" href="../R/254f5284f8b805ee.html" target="n" data-glyph="76,1" class="i method">UpdateHeader</a>()
		{
			<a href="/Xamarin.Forms.Core/A.html#76098df8350c0484" class="k">var</a> <span id="r70 rd" class="r70 r">header</span> = <a href="#96507d7e1046fa5b" class="i property">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#7ca6df286ce3f9a6" class="i property">HeaderElement</a>;
			<a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="k">var</a> <span id="r71 rd" class="r71 r">headerView</span> = (<a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="t t">View</a>)<span class="r70 r">header</span>;
 
			<b>if</b> (<span class="r71 r">headerView</span> != <b>null</b>)
			{
				<b>if</b> (<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> != <b>null</b>)
				{
					<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8dbaa127e05deead" class="i method">OnHeaderMeasureInvalidated</a>;
					<a href="@0@mscorlib/A.html#19b80e3318d9b184" class="k">var</a> <span id="r72 rd" class="r72 r">reflectableType</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> <b>as</b> <span class="i n">System</span>.<span class="i n">Reflection</span>.<a href="@0@mscorlib/A.html#19b80e3318d9b184" class="t t">IReflectableType</a>;
					<a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="k">var</a> <span id="r73 rd" class="r73 r">rendererType</span> = <span class="r72 r">reflectableType</span> != <b>null</b> ? <span class="r72 r">reflectableType</span>.<a href="@0@mscorlib/A.html#dcb0d45415227ae9" class="i method">GetTypeInfo</a>().<a href="@0@mscorlib/A.html#22cef495c0fb163c" class="i method">AsType</a>() : <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>();
					<b>if</b> (<span class="r70 r">header</span> != <b>null</b> &amp;&amp; <span class="r73 r">rendererType</span> == <span class="i n">Internals</span>.<a href="/Xamarin.Forms.Core/A.html#44c60787abb7ad29" class="t t">Registrar</a>.<a href="/Xamarin.Forms.Core/A.html#5f29d2ac0e30bd81" class="i property">Registered</a>.<a href="/Xamarin.Forms.Core/A.html#720a9bb98de06e80" class="i method">GetHandlerTypeForObject</a>(<span class="r70 r">header</span>))
					{
						<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#a0e76ca620152f94" class="i method">SetElement</a>(<span class="r71 r">headerView</span>);
						<b>return</b>;
					}
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableHeaderView</span> = <b>null</b>;
					<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r74 rd" class="r74 r">platform</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
					<b>if</b> (<span class="r74 r">platform</span> != <b>null</b>)
						<span class="r74 r">platform</span>.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
					<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> = <b>null</b>;
				}
 
				<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> = <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#eb80088297c94fc7" class="i method">CreateRenderer</a>(<span class="r71 r">headerView</span>);
				<span class="c">// This will force measure to invalidate, which we haven&#39;t hooked up to yet because we are smarter!</span>
				<a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#bfa92a35047b64ae" class="i method">SetRenderer</a>(<span class="r71 r">headerView</span>, <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>);
 
				<b>double</b> <span id="r75 rd" class="r75 r">width</span> = <span class="i property">Bounds</span>.<span class="i property">Width</span>;
				<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r76 rd" class="r76 r">request</span> = <span class="r71 r">headerView</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r75 r">width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
				<a href="/Xamarin.Forms.Core/A.html#63eb70469ecf4413" class="t t">Layout</a>.<a href="/Xamarin.Forms.Core/A.html#7ef8e1dd509efc78" class="i method">LayoutChildIntoBoundingRegion</a>(<span class="r71 r">headerView</span>, <b>new</b> <a href="/Xamarin.Forms.Core/A.html#884b8ad2719b18bf" class="t constructor">Rectangle</a>(0, 0, <span class="r75 r">width</span>, <span class="r76 r">request</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>));
 
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableHeaderView</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#ca22b619528a2096" class="i property">NativeView</a>;
				<span class="r71 r">headerView</span>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> += <a href="#8dbaa127e05deead" class="i method">OnHeaderMeasureInvalidated</a>;
			}
			<b>else if</b> (<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> != <b>null</b>)
			{
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">TableHeaderView</span> = <b>null</b>;
				<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1cfb90940f8ddfe2" class="i">MeasureInvalidated</a> -= <a href="#8dbaa127e05deead" class="i method">OnHeaderMeasureInvalidated</a>;
 
				<a href="../Platform.cs.html#348bf1c3abb233c7" class="k">var</a> <span id="r77 rd" class="r77 r">platform</span> = <a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#1b1e73276f1d0e92" class="i property">Platform</a> <b>as</b> <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>;
				<b>if</b> (<span class="r77 r">platform</span> != <b>null</b>)
					<span class="r77 r">platform</span>.<a href="../Platform.cs.html#c9bdcde3b1867aa0" class="i method">DisposeModelAndChildrenRenderers</a>(<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="../IVisualElementRenderer.cs.html#7bd415bdbb6a8c7d" class="i property">Element</a>);
				<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a>.<a href="@0@mscorlib/A.html#4e23fed29bd598fa" class="i method">Dispose</a>();
				<a href="#1f9b6d5101f0570f" class="i field">_headerRenderer</a> = <b>null</b>;
			}
		}
 
		<b>void</b> <a id="d0b4f20f0a279af7" href="../R/d0b4f20f0a279af7.html" target="n" data-glyph="76,1" class="i method">UpdateIsRefreshing</a>()
		{
			<a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r78 rd" class="r78 r">refreshing</span> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#d61e6639459dfdf7" class="i property">IsRefreshing</a>;
			<b>if</b> (<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a> != <b>null</b>)
				<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>.<a href="#6f4037976930e197" class="i method">UpdateIsRefreshing</a>(<span class="r78 r">refreshing</span>);
		}
 
		<b>void</b> <a id="5b70fab57abcab2b" href="../R/5b70fab57abcab2b.html" target="n" data-glyph="76,1" class="i method">UpdateItems</a>(<a href="@0@System/A.html#f5d7031313cab4ab" class="t t">NotifyCollectionChangedEventArgs</a> <span id="r79 rd" class="r79 r">e</span>, <b>int</b> <span id="r80 rd" class="r80 r">section</span>, <b>bool</b> <span id="r81 rd" class="r81 r">resetWhenGrouped</span>)
		{
			<a href="/Xamarin.Forms.Core/A.html#c54a9836638205b1" class="k">var</a> <span id="r82 rd" class="r82 r">exArgs</span> = <span class="r79 r">e</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#c54a9836638205b1" class="t t">NotifyCollectionChangedEventArgsEx</a>;
			<b>if</b> (<span class="r82 r">exArgs</span> != <b>null</b>)
				<a href="#c12934e201626564" class="i field">_dataSource</a>.<a href="#55d2be35ddf9ac61" class="i property">Counts</a><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r80 r">section</span>] = <span class="r82 r">exArgs</span>.<a href="/Xamarin.Forms.Core/A.html#8d7e56391014106a" class="i property">Count</a>;
 
			<a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r83 rd" class="r83 r">groupReset</span> = <span class="r81 r">resetWhenGrouped</span> &amp;&amp; <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>;
 
			<b>var</b> <span id="r84 rd" class="r84 r">lastIndex</span> = <a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">NumberOfRowsInSection</span>(<span class="r80 r">section</span>);
			<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a> &gt; <span class="r84 r">lastIndex</span> || <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> &gt; <span class="r84 r">lastIndex</span>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(
					<span class="s">$&quot;</span><span class="s">Index &#39;</span>{<a href="@0@mscorlib/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@0@mscorlib/A.html#80ff956e9ca8e414" class="i method">Max</a>(<span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a>, <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a>)}<span class="s">&#39; is greater than the number of rows &#39;</span>{<span class="r84 r">lastIndex</span>}<span class="s">&#39;.</span><span class="s">&quot;</span>);
 
			<b>switch</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#15d9dc6d0ce211ef" class="i property">Action</a>)
			{
				<b>case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#88ebb74b8f8efbc4" class="i field">Add</a>:
 
					<a href="#6a992685e20aca31" class="i method">UpdateEstimatedRowHeight</a>();
					<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a> == -1 || <span class="r83 r">groupReset</span>)
						<b>goto case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#9f765bcaf89c2cbe" class="i field">Reset</a>;
 
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">BeginUpdates</span>();
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">InsertRows</span>(<a href="#5d1c9342eca17fdd" class="i method">GetPaths</a>(<span class="r80 r">section</span>, <span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a>, <span class="r79 r">e</span>.<a href="@0@System/A.html#722a7e5cc5805066" class="i property">NewItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a>), <a href="#5f2ba7a706c3bb93" class="i property">InsertRowsAnimation</a>);
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">EndUpdates</span>();
 
					<b>break</b>;
 
				<b>case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#23d01c629bee7ad3" class="i field">Remove</a>:
					<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> == -1 || <span class="r83 r">groupReset</span>)
						<b>goto case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#9f765bcaf89c2cbe" class="i field">Reset</a>;
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">BeginUpdates</span>();
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">DeleteRows</span>(<a href="#5d1c9342eca17fdd" class="i method">GetPaths</a>(<span class="r80 r">section</span>, <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a>, <span class="r79 r">e</span>.<a href="@0@System/A.html#603468e507aeaa14" class="i property">OldItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a>), <a href="#1b7f69ba818fc400" class="i property">DeleteRowsAnimation</a>);
 
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">EndUpdates</span>();
 
					<b>if</b> (<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> &amp;&amp; <a href="#5a77fad844f2d068" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a> == 0)
						<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>false</b>;
 
					<b>break</b>;
 
				<b>case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#c394c49be4a151e9" class="i field">Move</a>:
					<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> == -1 || <span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a> == -1 || <span class="r83 r">groupReset</span>)
						<b>goto case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#9f765bcaf89c2cbe" class="i field">Reset</a>;
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">BeginUpdates</span>();
					<b>for</b> (<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r85 rd" class="r85 r">i</span> = 0; <span class="r85 r">i</span> &lt; <span class="r79 r">e</span>.<a href="@0@System/A.html#603468e507aeaa14" class="i property">OldItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a>; <span class="r85 r">i</span>++)
					{
						<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r86 rd" class="r86 r">oldi</span> = <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a>;
						<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r87 rd" class="r87 r">newi</span> = <span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a>;
 
						<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#d8f399a780e06cce" class="i property">NewStartingIndex</a> &lt; <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a>)
						{
							<span class="r86 r">oldi</span> += <span class="r85 r">i</span>;
							<span class="r87 r">newi</span> += <span class="r85 r">i</span>;
						}
 
						<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">MoveRow</span>(<span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r86 r">oldi</span>, <span class="r80 r">section</span>), <span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r87 r">newi</span>, <span class="r80 r">section</span>));
					}
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">EndUpdates</span>();
 
					<b>if</b> (<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> &amp;&amp; <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> == 0)
						<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>false</b>;
 
					<b>break</b>;
 
				<b>case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#cd5043261ecba982" class="i field">Replace</a>:
					<b>if</b> (<span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> == -1 || <span class="r83 r">groupReset</span>)
						<b>goto case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#9f765bcaf89c2cbe" class="i field">Reset</a>;
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">BeginUpdates</span>();
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">ReloadRows</span>(<a href="#5d1c9342eca17fdd" class="i method">GetPaths</a>(<span class="r80 r">section</span>, <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a>, <span class="r79 r">e</span>.<a href="@0@System/A.html#603468e507aeaa14" class="i property">OldItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a>), <a href="#cc2249ba73747482" class="i property">ReloadRowsAnimation</a>);
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">EndUpdates</span>();
 
					<b>if</b> (<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> &amp;&amp; <span class="r79 r">e</span>.<a href="@0@System/A.html#623c27e1c4bab0a9" class="i property">OldStartingIndex</a> == 0)
						<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>false</b>;
 
					<b>break</b>;
 
				<b>case</b> <a href="@0@System/A.html#5cce4343d1536ac7" class="t t">NotifyCollectionChangedAction</a>.<a href="@0@System/A.html#9f765bcaf89c2cbe" class="i field">Reset</a>:
					<a href="#46ce8b719c781f2d" class="i field">_estimatedRowHeight</a> = <b>false</b>;
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i method">ReloadData</span>();
					<b>return</b>;
			}
		}
 
		<b>void</b> <a id="d538d73ae69beb82" href="../R/d538d73ae69beb82.html" target="n" data-glyph="76,1" class="i method">UpdatePullToRefreshEnabled</a>()
		{
			<b>if</b> (<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a> != <b>null</b>)
			{
				<a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r88 rd" class="r88 r">isPullToRequestEnabled</span> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#2b34e6ba669638df" class="i property">IsPullToRefreshEnabled</a> &amp;&amp; <a href="#96507d7e1046fa5b" class="i property">ListView</a>.<a href="/Xamarin.Forms.Core/A.html#57334962c699c54b" class="i property">RefreshAllowed</a>;
				<a href="#f1bc8eab47cab74e" class="i field">_tableViewController</a>.<a href="#965cdb63fe8c087a" class="i method">UpdatePullToRefreshEnabled</a>(<span class="r88 r">isPullToRequestEnabled</span>);
			}
		}
 
		<b>void</b> <a id="5ad6ed7313a979dd" href="../R/5ad6ed7313a979dd.html" target="n" data-glyph="76,1" class="i method">UpdateRowHeight</a>()
		{
			<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r89 rd" class="r89 r">rowHeight</span> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#873f0e107de1f075" class="i property">RowHeight</a>;
 
			<b>if</b> (<a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#7d4655a3bc00be9b" class="i property">HasUnevenRows</a> &amp;&amp; <span class="r89 r">rowHeight</span> == -1)
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">RowHeight</span> = <span class="t t">UITableView</span>.<span class="i property">AutomaticDimension</span>;
			<b>else</b>
				<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">RowHeight</span> = <span class="r89 r">rowHeight</span> &lt;= 0 ? <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a> : <span class="r89 r">rowHeight</span>;
		}
 
		<b>void</b> <a id="442527a0260d3fd2" href="../R/442527a0260d3fd2.html" target="n" data-glyph="76,1" class="i method">UpdateSeparatorColor</a>()
		{
			<a href="/Xamarin.Forms.Core/A.html#8a6a061540451ec4" class="k">var</a> <span id="r90 rd" class="r90 r">color</span> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#180e6578be529d41" class="i property">SeparatorColor</a>;
			<span class="c">// ...and Steve said to the unbelievers the separator shall be gray, and gray it was. The unbelievers looked on, and saw that it was good, and </span>
			<span class="c">// they went forth and documented the default color. The holy scripture still reflects this default.</span>
			<span class="c">// Defined here: https://developer.apple.com/library/ios/documentation/UIKit/Reference/UITableView_Class/#//apple_ref/occ/instp/UITableView/separatorColor</span>
			<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">SeparatorColor</span> = <span class="r90 r">color</span>.<a href="../Extensions/ColorExtensions.cs.html#b9ee3f49dc917bc0" class="i method">ToUIColor</a>(<span class="t t">UIColor</span>.<span class="i property">Gray</span>);
		}
 
		<b>void</b> <a id="8693f452e7422826" href="../R/8693f452e7422826.html" target="n" data-glyph="76,1" class="i method">UpdateSeparatorVisibility</a>()
		{
			<a href="/Xamarin.Forms.Core/A.html#a9cb5fa58c2bf8a3" class="k">var</a> <span id="r91 rd" class="r91 r">visibility</span> = <a href="../VisualElementRenderer.cs.html#31c34a1126d7ec15" class="i property">Element</a>.<a href="/Xamarin.Forms.Core/A.html#13ecaa648f4c9b20" class="i property">SeparatorVisibility</a>;
			<b>switch</b> (<span class="r91 r">visibility</span>)
			{
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#a9cb5fa58c2bf8a3" class="t t">SeparatorVisibility</a>.<a href="/Xamarin.Forms.Core/A.html#dfd27206bef098f5" class="i field">Default</a>:
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">SeparatorStyle</span> = <span class="t t">UITableViewCellSeparatorStyle</span>.<span class="i field">SingleLine</span>;
					<b>break</b>;
				<b>case</b> <a href="/Xamarin.Forms.Core/A.html#a9cb5fa58c2bf8a3" class="t t">SeparatorVisibility</a>.<a href="/Xamarin.Forms.Core/A.html#d4c90898b212f883" class="i field">None</a>:
					<a href="../ViewRenderer.cs.html#ea5394d10e713fe0" class="i property">Control</a>.<span class="i property">SeparatorStyle</span> = <span class="t t">UITableViewCellSeparatorStyle</span>.<span class="i field">None</span>;
					<b>break</b>;
				<b>default</b>:
					<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#337b690f0704f510" class="t constructor">ArgumentOutOfRangeException</a>();
			}
		}
 
		<b>internal class</b> <a id="3e861d61f8c1c248" href="../R/3e861d61f8c1c248.html" target="n" data-glyph="2,1" class="t t">UnevenListViewDataSource</a> : <a href="#d75234352b46fdca" class="t t">ListViewDataSource</a>
		{
			<a href="../IVisualElementRenderer.cs.html#222fbc88c8a624f8" class="t t">IVisualElementRenderer</a> <a id="2017b871a5c7c49d" href="../R/2017b871a5c7c49d.html" target="n" data-glyph="46,2" class="i field">_prototype</a>;
			<b>bool</b> <a id="80db45953e2db5c5" href="../R/80db45953e2db5c5.html" target="n" data-glyph="46,2" class="i field">_disposed</a>;
			<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<b>object</b>, <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt; <a id="3a34fdf8d0a20022" href="../R/3a34fdf8d0a20022.html" target="n" data-glyph="46,2" class="i field">_prototypicalCellByTypeOrDataTemplate</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<b>object</b>, <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;();
 
			<b>public</b> <a id="b3f316384177a979" href="../R/b3f316384177a979.html" target="n" data-glyph="72,2" class="i constructor">UnevenListViewDataSource</a>(<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <span id="r92 rd" class="r92 r">list</span>, <a href="#eb7baaa7afc31c61" class="t t">FormsUITableViewController</a> <span id="r93 rd" class="r93 r">uiTableViewController</span>) : <a href="#30f0b9f7fa541d45" class="k">base</a>(<span class="r92 r">list</span>, <span class="r93 r">uiTableViewController</span>)
			{
			}
 
			<b>public</b> <a id="2cd522825d305fe9" href="../R/2cd522825d305fe9.html" target="n" data-glyph="72,2" class="i constructor">UnevenListViewDataSource</a>(<a href="#d75234352b46fdca" class="t t">ListViewDataSource</a> <span id="r94 rd" class="r94 r">source</span>) : <a href="#902c43930940507d" class="k">base</a>(<span class="r94 r">source</span>)
			{
			}
 
			<b>internal</b> <span class="t t">nfloat</span> <a id="9d16f92836ee464a" href="../R/9d16f92836ee464a.html" target="n" data-glyph="74,2" class="i method">GetEstimatedRowHeight</a>(<span class="t t">UITableView</span> <span id="r95 rd" class="r95 r">table</span>)
			{
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#873f0e107de1f075" class="i property">RowHeight</a> != -1)
				{
					<span class="c">// Not even sure we need this case; A list with HasUnevenRows and a RowHeight doesn&#39;t make a ton of sense</span>
					<span class="c">// Anyway, no need for an estimate, because the heights we&#39;ll use are known</span>
					<b>return</b> 0;
				}
 
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r96 rd" class="r96 r">templatedItems</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
 
				<b>if</b> (<span class="r96 r">templatedItems</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a> == 0)
				{
					<span class="c">// No cells to provide an estimate, use the default row height constant</span>
					<b>return</b> <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>;
				}
 
				<span class="c">// We&#39;re going to base our estimate off of the first cell</span>
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="k">var</a> <span id="r97 rd" class="r97 r">firstCell</span> = <span class="r96 r">templatedItems</span>.<a href="@0@System.Core/A.html#bc8ae402a61dd9d6" class="i method">First</a>();
 
				<span class="c">// Let&#39;s skip this optimization for grouped lists. It will likely cause more trouble than it&#39;s worth.</span>
				<b>if</b> (<span class="r97 r">firstCell</span>.<a href="/Xamarin.Forms.Core/A.html#0eedd908bf3c7b03" class="i property">Height</a> &gt; 0 &amp;&amp; !<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
				{
					<span class="c">// Seems like we&#39;ve got cells which already specify their height; since the heights are known,</span>
					<span class="c">// we don&#39;t need to use estimatedRowHeight at all; zero will disable it and use the known heights.</span>
					<span class="c">// However, not setting the EstimatedRowHeight will drastically degrade performance with large lists.</span>
					<span class="c">// In this case, we will cache the specified cell heights asynchronously, which will be returned one time on</span>
					<span class="c">// table load by EstimatedHeight. </span>
 
					<b>return</b> 0;
				}
 
				<b>return</b> <a href="#f9ef05528b2c5428" class="i method">CalculateHeightForCell</a>(<span class="r95 r">table</span>, <span class="r97 r">firstCell</span>);
			}
 
			<b>internal override void</b> <a id="2ba4f5272f98eead" href="../R/2ba4f5272f98eead.html" target="n" data-glyph="74,2" class="i method">InvalidatePrototypicalCellCache</a>()
			{
				<a href="#3a34fdf8d0a20022" class="i field">_prototypicalCellByTypeOrDataTemplate</a>.<a href="@0@mscorlib/A.html#36b30e4c0708a88c" class="i method">Clear</a>();
			}
 
			<b>internal</b> <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <a id="b1da6452ce1dc8ac" href="../R/b1da6452ce1dc8ac.html" target="n" data-glyph="74,2" class="i method">GetPrototypicalCell</a>(<span class="t t">NSIndexPath</span> <span id="r98 rd" class="r98 r">indexPath</span>)
			{
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r99 rd" class="r99 r">itemTypeOrDataTemplate</span> = <b>default</b>(<b>object</b>);
 
				<a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="k">var</a> <span id="r100 rd" class="r100 r">cachingStrategy</span> = <a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#853e43c3430ca1d5" class="i property">CachingStrategy</a>;
				<b>if</b> (<span class="r100 r">cachingStrategy</span> == <a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="t t">ListViewCachingStrategy</a>.<a href="/Xamarin.Forms.Core/A.html#791a8ea6a96061a0" class="i field">RecycleElement</a>)
					<span class="r99 r">itemTypeOrDataTemplate</span> = <a href="#a34b9add1a98680e" class="i method">GetDataTemplateForPath</a>(<span class="r98 r">indexPath</span>);
 
				<b>else if</b> (<span class="r100 r">cachingStrategy</span> == <a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="t t">ListViewCachingStrategy</a>.<a href="/Xamarin.Forms.Core/A.html#a3a9a12409a78171" class="i field">RecycleElementAndDataTemplate</a>)
					<span class="r99 r">itemTypeOrDataTemplate</span> = <a href="#4c15736be8df4588" class="i method">GetItemTypeForPath</a>(<span class="r98 r">indexPath</span>);
 
				<b>else</b> <span class="c">// ListViewCachingStrategy.RetainElement</span>
					<b>return</b> <a href="#e5a40c33bbc939e0" class="i method">GetCellForPath</a>(<span class="r98 r">indexPath</span>);
 
 
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <span id="r101 rd" class="r101 r">protoCell</span>;
				<b>if</b> (!<a href="#3a34fdf8d0a20022" class="i field">_prototypicalCellByTypeOrDataTemplate</a>.<a href="@0@mscorlib/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<span class="r99 r">itemTypeOrDataTemplate</span>, <b>out</b> <span class="r101 r">protoCell</span>))
				{
					<span class="c">// cache prototypical cell by item type; Items of the same Type share</span>
					<span class="c">// the same DataTemplate (this is enforced by RecycleElementAndDataTemplate)</span>
					<span class="r101 r">protoCell</span> = <a href="#e5a40c33bbc939e0" class="i method">GetCellForPath</a>(<span class="r98 r">indexPath</span>);
					<a href="#3a34fdf8d0a20022" class="i field">_prototypicalCellByTypeOrDataTemplate</a><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r99 r">itemTypeOrDataTemplate</span>] = <span class="r101 r">protoCell</span>;
				}
 
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r102 rd" class="r102 r">templatedItems</span> = <a href="#1e7db37939c69c9c" class="i method">GetTemplatedItemsListForPath</a>(<span class="r98 r">indexPath</span>);
				<b>return</b> <span class="r102 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#84aaab52bb3c68a9" class="i method">UpdateContent</a>(<span class="r101 r">protoCell</span>, <span class="r98 r">indexPath</span>.<span class="i property">Row</span>);
			}
 
			<b>public override</b> <span class="t t">nfloat</span> <a id="8906cf135e7e064e" href="../R/8906cf135e7e064e.html" target="n" data-glyph="72,2" class="i method">GetHeightForRow</a>(<span class="t t">UITableView</span> <span id="r103 rd" class="r103 r">tableView</span>, <span class="t t">NSIndexPath</span> <span id="r104 rd" class="r104 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="k">var</a> <span id="r105 rd" class="r105 r">cell</span> = <a href="#b1da6452ce1dc8ac" class="i method">GetPrototypicalCell</a>(<span class="r104 r">indexPath</span>);
 
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#873f0e107de1f075" class="i property">RowHeight</a> == -1 &amp;&amp; <span class="r105 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#0eedd908bf3c7b03" class="i property">Height</a> == -1 &amp;&amp; <span class="r105 r">cell</span> <b>is</b> <a href="/Xamarin.Forms.Core/A.html#080f860d2adf2a57" class="t t">ViewCell</a>)
					<b>return</b> <span class="t t">UITableView</span>.<span class="i property">AutomaticDimension</span>;
 
				<a href="@0@mscorlib/A.html#1a65cbdb09544ba1" class="k">var</a> <span id="r106 rd" class="r106 r">renderHeight</span> = <span class="r105 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#f9c815e81f5597b4" class="i property">RenderHeight</a>;
				<b>return</b> <span class="r106 r">renderHeight</span> &gt; 0 ? (<span class="t t">nfloat</span>)<span class="r106 r">renderHeight</span> : <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>;
			}
 
			<b>internal</b> <span class="t t">nfloat</span> <a id="f9ef05528b2c5428" href="../R/f9ef05528b2c5428.html" target="n" data-glyph="74,2" class="i method">CalculateHeightForCell</a>(<span class="t t">UITableView</span> <span id="r107 rd" class="r107 r">tableView</span>, <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <span id="r108 rd" class="r108 r">cell</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#080f860d2adf2a57" class="k">var</a> <span id="r109 rd" class="r109 r">viewCell</span> = <span class="r108 r">cell</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#080f860d2adf2a57" class="t t">ViewCell</a>;
				<b>if</b> (<span class="r109 r">viewCell</span> != <b>null</b> &amp;&amp; <span class="r109 r">viewCell</span>.<a href="/Xamarin.Forms.Core/A.html#7e0120b037b3522c" class="i property">View</a> != <b>null</b>)
				{
					<a href="/Xamarin.Forms.Core/A.html#60f54d5b73cefedd" class="k">var</a> <span id="r110 rd" class="r110 r">target</span> = <span class="r109 r">viewCell</span>.<a href="/Xamarin.Forms.Core/A.html#7e0120b037b3522c" class="i property">View</a>;
					<b>if</b> (<a href="#2017b871a5c7c49d" class="i field">_prototype</a> == <b>null</b>)
						<a href="#2017b871a5c7c49d" class="i field">_prototype</a> = <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#eb80088297c94fc7" class="i method">CreateRenderer</a>(<span class="r110 r">target</span>);
					<b>else</b>
						<a href="#2017b871a5c7c49d" class="i field">_prototype</a>.<a href="../IVisualElementRenderer.cs.html#a0e76ca620152f94" class="i method">SetElement</a>(<span class="r110 r">target</span>);
 
					<a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#bfa92a35047b64ae" class="i method">SetRenderer</a>(<span class="r110 r">target</span>, <a href="#2017b871a5c7c49d" class="i field">_prototype</a>);
 
					<a href="/Xamarin.Forms.Core/A.html#76c9ea4b373db5b2" class="k">var</a> <span id="r111 rd" class="r111 r">req</span> = <span class="r110 r">target</span>.<a href="/Xamarin.Forms.Core/A.html#f73a7c3c52ba9361" class="i method">Measure</a>(<span class="r107 r">tableView</span>.<span class="i property">Frame</span>.<span class="i property">Width</span>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <a href="/Xamarin.Forms.Core/A.html#19188af5047dacb2" class="t t">MeasureFlags</a>.<a href="/Xamarin.Forms.Core/A.html#1d00849f5d3cab40" class="i field">IncludeMargins</a>);
 
					<span class="r110 r">target</span>.<a href="/Xamarin.Forms.Core/A.html#4b4f85fcc1a48118" class="i method">ClearValue</a>(<a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#49ad4b1b968705a9" class="i field">RendererProperty</a>);
					<b>foreach</b> (<a href="/Xamarin.Forms.Core/A.html#76098df8350c0484" class="t t">Element</a> <span id="r112 rd" class="r112 r">descendant</span> <b>in</b> <span class="r110 r">target</span>.<a href="/Xamarin.Forms.Core/A.html#98df2bf4ead61efb" class="i method">Descendants</a>())
					{
						<a href="../IVisualElementRenderer.cs.html#222fbc88c8a624f8" class="t t">IVisualElementRenderer</a> <span id="r113 rd" class="r113 r">renderer</span> = <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#f9842318ec9d3985" class="i method">GetRenderer</a>(<span class="r112 r">descendant</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#daf307b67182d7d7" class="t t">VisualElement</a>);
 
						<span class="c">// Clear renderer from descendent; this will not happen in Dispose as normal because we need to</span>
						<span class="c">// unhook the Element from the renderer before disposing it.</span>
						<span class="r112 r">descendant</span>.<a href="/Xamarin.Forms.Core/A.html#4b4f85fcc1a48118" class="i method">ClearValue</a>(<a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#49ad4b1b968705a9" class="i field">RendererProperty</a>);
						<span class="r113 r">renderer</span>?.<a href="@0@mscorlib/A.html#4e23fed29bd598fa" class="i method">Dispose</a>();
						<span class="r113 r">renderer</span> = <b>null</b>;
					}
 
					<span class="c">// Let the EstimatedHeight method know to use this value.</span>
					<span class="c">// Much more efficient than checking the value each time.</span>
					<span class="c">//_useEstimatedRowHeight = true;</span>
					<b>return</b> (<span class="t t">nfloat</span>)<span class="r111 r">req</span>.<a href="/Xamarin.Forms.Core/A.html#18756f69c7ccde74" class="i property">Request</a>.<a href="/Xamarin.Forms.Core/A.html#d581c837a1ed6a2e" class="i property">Height</a>;
				}
 
				<a href="@0@mscorlib/A.html#1a65cbdb09544ba1" class="k">var</a> <span id="r114 rd" class="r114 r">renderHeight</span> = <span class="r108 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#f9c815e81f5597b4" class="i property">RenderHeight</a>;
				<b>return</b> <span class="r114 r">renderHeight</span> &gt; 0 ? (<span class="t t">nfloat</span>)<span class="r114 r">renderHeight</span> : <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>;
			}
 
			<b>protected override void</b> <a id="1b3dec93da63011e" href="../R/1b3dec93da63011e.html" target="n" data-glyph="75,2" class="i method">Dispose</a>(<b>bool</b> <span id="r115 rd" class="r115 r">disposing</span>)
			{
				<b>if</b> (<a href="#80db45953e2db5c5" class="i field">_disposed</a>)
					<b>return</b>;
 
				<a href="#80db45953e2db5c5" class="i field">_disposed</a> = <b>true</b>;
 
				<b>if</b> (<span class="r115 r">disposing</span>)
				{
					<b>if</b> (<a href="#2017b871a5c7c49d" class="i field">_prototype</a> != <b>null</b>)
					{
						<a href="#2017b871a5c7c49d" class="i field">_prototype</a>.<a href="@0@mscorlib/A.html#4e23fed29bd598fa" class="i method">Dispose</a>();
						<a href="#2017b871a5c7c49d" class="i field">_prototype</a> = <b>null</b>;
					}
				}
 
				<a href="#d75234352b46fdca" class="k">base</a>.<a href="#5af7f20155415d03" class="i method">Dispose</a>(<span class="r115 r">disposing</span>);
			}
		}
 
		<b>internal class</b> <a id="d75234352b46fdca" href="../R/d75234352b46fdca.html" target="n" data-glyph="2,1" class="t t">ListViewDataSource</a> : <span class="t t">UITableViewSource</span>
		{
			<b>const int</b> <a id="975eecd2caaacb7c" href="../R/975eecd2caaacb7c.html" target="n" data-glyph="10,2" class="i field">DefaultItemTemplateId</a> = 1;
			<b>static int</b> <a id="fcf228df3c6aba2a" href="../R/fcf228df3c6aba2a.html" target="n" data-glyph="46,2" class="i field">s_dataTemplateIncrementer</a> = 2; <span class="c">// lets start at not 0 because</span>
			<b>readonly</b> <span class="t t">nfloat</span> <a id="cee2a6d9841ef1d7" href="../R/cee2a6d9841ef1d7.html" target="n" data-glyph="46,2" class="i field">_defaultSectionHeight</a>;
			<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<a href="/Xamarin.Forms.Core/A.html#8bb08c0913bdfc63" class="t t">DataTemplate</a>, <b>int</b>&gt; <a id="2cdd7acea2adb52a" href="../R/2cdd7acea2adb52a.html" target="n" data-glyph="46,2" class="i field">_templateToId</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="/Xamarin.Forms.Core/A.html#8bb08c0913bdfc63" class="t t">DataTemplate</a>, <b>int</b>&gt;();
			<span class="t t">UITableView</span> <a id="59595c7459aaf7eb" href="../R/59595c7459aaf7eb.html" target="n" data-glyph="46,2" class="i field">_uiTableView</a>;
			<a href="#eb7baaa7afc31c61" class="t t">FormsUITableViewController</a> <a id="2688233855824df7" href="../R/2688233855824df7.html" target="n" data-glyph="46,2" class="i field">_uiTableViewController</a>;
			<b>protected</b> <a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <a id="465fede3557033fc" href="../R/465fede3557033fc.html" target="n" data-glyph="45,2" class="i field">List</a>;
			<b>protected</b> <a href="/Xamarin.Forms.Core/A.html#7d7c0ddfee2f7ca3" class="t t">ITemplatedItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt; <a id="b5d50be928aeb054" href="../R/b5d50be928aeb054.html" target="n" data-glyph="105,2" class="i property">TemplatedItemsView</a> =&gt; <a href="#465fede3557033fc" class="i field">List</a>;
			<b>bool</b> <a id="6e5202fbb829d829" href="../R/6e5202fbb829d829.html" target="n" data-glyph="46,2" class="i field">_isDragging</a>;
			<b>bool</b> <a id="f1604b0a40162735" href="../R/f1604b0a40162735.html" target="n" data-glyph="46,2" class="i field">_selectionFromNative</a>;
			<b>bool</b> <a id="a88694a8b5d996ce" href="../R/a88694a8b5d996ce.html" target="n" data-glyph="46,2" class="i field">_disposed</a>;
			<b>public</b> <span class="t t">UITableViewRowAnimation</span> <a id="552d1797cea2f244" href="../R/552d1797cea2f244.html" target="n" data-glyph="102,2" class="i property">ReloadSectionsAnimation</a> { <b>get</b>; <b>set</b>; } = <span class="t t">UITableViewRowAnimation</span>.<span class="i field">Automatic</span>;
 
			<b>public</b> <a id="902c43930940507d" href="../R/902c43930940507d.html" target="n" data-glyph="72,2" class="i constructor">ListViewDataSource</a>(<a href="#d75234352b46fdca" class="t t">ListViewDataSource</a> <span id="r116 rd" class="r116 r">source</span>)
			{
				<a href="#2688233855824df7" class="i field">_uiTableViewController</a> = <span class="r116 r">source</span>.<a href="#2688233855824df7" class="i field">_uiTableViewController</a>;
				<a href="#465fede3557033fc" class="i field">List</a> = <span class="r116 r">source</span>.<a href="#465fede3557033fc" class="i field">List</a>;
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a> = <span class="r116 r">source</span>.<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>;
				<a href="#cee2a6d9841ef1d7" class="i field">_defaultSectionHeight</a> = <span class="r116 r">source</span>.<a href="#cee2a6d9841ef1d7" class="i field">_defaultSectionHeight</a>;
				<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a> = <span class="r116 r">source</span>.<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a>;
 
				<a href="#55d2be35ddf9ac61" class="i property">Counts</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<b>int</b>, <b>int</b>&gt;();
			}
 
			<b>public</b> <a id="30f0b9f7fa541d45" href="../R/30f0b9f7fa541d45.html" target="n" data-glyph="72,2" class="i constructor">ListViewDataSource</a>(<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <span id="r117 rd" class="r117 r">list</span>, <a href="#eb7baaa7afc31c61" class="t t">FormsUITableViewController</a> <span id="r118 rd" class="r118 r">uiTableViewController</span>)
			{
				<a href="#2688233855824df7" class="i field">_uiTableViewController</a> = <span class="r118 r">uiTableViewController</span>;
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a> = <span class="r118 r">uiTableViewController</span>.<span class="i property">TableView</span>;
				<a href="#cee2a6d9841ef1d7" class="i field">_defaultSectionHeight</a> = <a href="#ba350f0742658c97" class="i field">DefaultRowHeight</a>;
				<a href="#465fede3557033fc" class="i field">List</a> = <span class="r117 r">list</span>;
				<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#b7f2960fb90d27ad" class="i">ItemSelected</a> += <a href="#38962bf3ed5596ec" class="i method">OnItemSelected</a>;
				<a href="#620027a2b9a6e6a0" class="i method">UpdateShortNameListener</a>();
 
				<a href="#55d2be35ddf9ac61" class="i property">Counts</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<b>int</b>, <b>int</b>&gt;();
			}
 
			<b>public</b> <a href="@0@mscorlib/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<b>int</b>, <b>int</b>&gt; <a id="55d2be35ddf9ac61" href="../R/55d2be35ddf9ac61.html" target="n" data-glyph="102,2" class="i property">Counts</a> { <b>get</b>; <b>set</b>; }
 
			<span class="t t">UIColor</span> <a id="b6443b4f89cfc77c" href="../R/b6443b4f89cfc77c.html" target="n" data-glyph="106,2" class="i property">DefaultBackgroundColor</a>
			{
				<b>get</b> { <b>return</b> <span class="t t">UIColor</span>.<span class="i property">Clear</span>; }
			}
 
			<b>internal virtual void</b> <a id="bede08ed98adc7e1" href="../R/bede08ed98adc7e1.html" target="n" data-glyph="74,2" class="i method">InvalidatePrototypicalCellCache</a>()
			{
			}
 
			<b>public override void</b> <a id="1cd3d58bacba6c05" href="../R/1cd3d58bacba6c05.html" target="n" data-glyph="72,2" class="i method">DraggingEnded</a>(<span class="t t">UIScrollView</span> <span id="r119 rd" class="r119 r">scrollView</span>, <b>bool</b> <span id="r120 rd" class="r120 r">willDecelerate</span>)
			{
				<a href="#6e5202fbb829d829" class="i field">_isDragging</a> = <b>false</b>;
				<a href="#2688233855824df7" class="i field">_uiTableViewController</a>.<a href="#de50db686492c1c1" class="i method">UpdateShowHideRefresh</a>(<b>false</b>);
			}
 
			<b>public override void</b> <a id="a2aa8eb550096c15" href="../R/a2aa8eb550096c15.html" target="n" data-glyph="72,2" class="i method">DraggingStarted</a>(<span class="t t">UIScrollView</span> <span id="r121 rd" class="r121 r">scrollView</span>)
			{
				<a href="#6e5202fbb829d829" class="i field">_isDragging</a> = <b>true</b>;
			}
 
			<b>public override</b> <span class="t t">UITableViewCell</span> <a id="13e18d650cef20cc" href="../R/13e18d650cef20cc.html" target="n" data-glyph="72,2" class="i method">GetCell</a>(<span class="t t">UITableView</span> <span id="r122 rd" class="r122 r">tableView</span>, <span class="t t">NSIndexPath</span> <span id="r123 rd" class="r123 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <span id="r124 rd" class="r124 r">cell</span>;
				<span class="t t">UITableViewCell</span> <span id="r125 rd" class="r125 r">nativeCell</span>;
 
				<a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="k">var</a> <span id="r126 rd" class="r126 r">cachingStrategy</span> = <a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#853e43c3430ca1d5" class="i property">CachingStrategy</a>;
				<b>if</b> (<span class="r126 r">cachingStrategy</span> == <a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="t t">ListViewCachingStrategy</a>.<a href="/Xamarin.Forms.Core/A.html#4e662ce81571ed35" class="i field">RetainElement</a>)
				{
					<span class="r124 r">cell</span> = <a href="#e5a40c33bbc939e0" class="i method">GetCellForPath</a>(<span class="r123 r">indexPath</span>);
					<span class="r125 r">nativeCell</span> = <a href="../Cells/CellTableViewCell.cs.html#a1c676b356c83490" class="t t">CellTableViewCell</a>.<a href="../Cells/CellTableViewCell.cs.html#95c7378ede818011" class="i method">GetNativeCell</a>(<span class="r122 r">tableView</span>, <span class="r124 r">cell</span>);
				}
				<b>else if</b> ((<span class="r126 r">cachingStrategy</span> &amp; <a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="t t">ListViewCachingStrategy</a>.<a href="/Xamarin.Forms.Core/A.html#791a8ea6a96061a0" class="i field">RecycleElement</a>) != 0)
				{
					<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r127 rd" class="r127 r">id</span> = <a href="#3e33ed45fa960570" class="i method">TemplateIdForPath</a>(<span class="r123 r">indexPath</span>);
					<span class="r125 r">nativeCell</span> = <span class="r122 r">tableView</span>.<span class="i method">DequeueReusableCell</span>(<a href="../ContextActionCell.cs.html#d2e23e4d18bf855d" class="t t">ContextActionsCell</a>.<a href="../ContextActionCell.cs.html#218267b154844685" class="i field">Key</a> + <span class="r127 r">id</span>);
					<b>if</b> (<span class="r125 r">nativeCell</span> == <b>null</b>)
					{
						<span class="r124 r">cell</span> = <a href="#e5a40c33bbc939e0" class="i method">GetCellForPath</a>(<span class="r123 r">indexPath</span>);
 
						<span class="r125 r">nativeCell</span> = <a href="../Cells/CellTableViewCell.cs.html#a1c676b356c83490" class="t t">CellTableViewCell</a>.<a href="../Cells/CellTableViewCell.cs.html#95c7378ede818011" class="i method">GetNativeCell</a>(<span class="r122 r">tableView</span>, <span class="r124 r">cell</span>, <b>true</b>, <span class="r127 r">id</span>.<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>());
					}
					<b>else</b>
					{
						<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r128 rd" class="r128 r">templatedList</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>.<a href="/Xamarin.Forms.Core/A.html#1f8bfb2d10c25677" class="i method">GetGroup</a>(<span class="r123 r">indexPath</span>.<span class="i property">Section</span>);
 
						<span class="r124 r">cell</span> = (<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>)((<a href="/Xamarin.Forms.Core/A.html#71fbb484073b15d1" class="t t">INativeElementView</a>)<span class="r125 r">nativeCell</span>).<a href="/Xamarin.Forms.Core/A.html#2bd1b4b350c894af" class="i property">Element</a>;
						<span class="r124 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#9a269aae86b7756c" class="i method">SendDisappearing</a>();
 
						<span class="r128 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#84aaab52bb3c68a9" class="i method">UpdateContent</a>(<span class="r124 r">cell</span>, <span class="r123 r">indexPath</span>.<span class="i property">Row</span>);
						<span class="r124 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#884674abe59f9ab2" class="i method">SendAppearing</a>();
					}
				}
				<b>else
					throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a>();
 
				<b>var</b> <span id="r129 rd" class="r129 r">bgColor</span> = <span class="r122 r">tableView</span>.<span class="i property">IndexPathForSelectedRow</span> != <b>null</b> &amp;&amp; <span class="r122 r">tableView</span>.<span class="i property">IndexPathForSelectedRow</span>.<span class="i method">Equals</span>(<span class="r123 r">indexPath</span>) ? <span class="t t">UIColor</span>.<span class="i property">Clear</span> : <a href="#b6443b4f89cfc77c" class="i property">DefaultBackgroundColor</a>;
 
				<a href="#9539572247988d4c" class="i method">SetCellBackgroundColor</a>(<span class="r125 r">nativeCell</span>, <span class="r129 r">bgColor</span>);
				<a href="#c1f62bc5fe9ec9dc" class="i method">PreserveActivityIndicatorState</a>(<span class="r124 r">cell</span>);
				<b>return</b> <span class="r125 r">nativeCell</span>;
			}
		
			<b>public override</b> <span class="t t">nfloat</span> <a id="49f1c96eb5f25012" href="../R/49f1c96eb5f25012.html" target="n" data-glyph="72,2" class="i method">GetHeightForHeader</a>(<span class="t t">UITableView</span> <span id="r130 rd" class="r130 r">tableView</span>, <span class="t t">nint</span> <span id="r131 rd" class="r131 r">section</span>)
			{
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
				{
					<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="k">var</a> <span id="r132 rd" class="r132 r">cell</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>[(<b>int</b>)<span class="r131 r">section</span>];
					<span class="t t">nfloat</span> <span id="r133 rd" class="r133 r">height</span> = (<b>float</b>)<span class="r132 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#f9c815e81f5597b4" class="i property">RenderHeight</a>;
					<b>if</b> (<span class="r133 r">height</span> == -1)
						<span class="r133 r">height</span> = <a href="#cee2a6d9841ef1d7" class="i field">_defaultSectionHeight</a>;
 
					<b>return</b> <span class="r133 r">height</span>;
				}
 
				<b>return</b> 0;
			}
 
			<b>public override</b> <span class="t t">UIView</span> <a id="d977889d899bd05c" href="../R/d977889d899bd05c.html" target="n" data-glyph="72,2" class="i method">GetViewForHeader</a>(<span class="t t">UITableView</span> <span id="r134 rd" class="r134 r">tableView</span>, <span class="t t">nint</span> <span id="r135 rd" class="r135 r">section</span>)
			{
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a> &amp;&amp; <a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#37d541414cc573e1" class="i property">GroupHeaderTemplate</a> != <b>null</b>)
				{
					<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="k">var</a> <span id="r136 rd" class="r136 r">cell</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>[(<b>int</b>)<span class="r135 r">section</span>];
					<b>if</b> (<span class="r136 r">cell</span>.<a href="/Xamarin.Forms.Core/A.html#c18f293b9c4fd7e6" class="i property">HasContextActions</a>)
						<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#3d3c2c03118be4f8" class="t constructor">NotSupportedException</a>(<span class="s">&quot;Header cells do not support context actions&quot;</span>);
 
					<a href="../Cells/CellRenderer.cs.html#5142cde8411c3b63" class="k">var</a> <span id="r137 rd" class="r137 r">renderer</span> = (<a href="../Cells/CellRenderer.cs.html#5142cde8411c3b63" class="t t">CellRenderer</a>)<span class="i n">Internals</span>.<a href="/Xamarin.Forms.Core/A.html#44c60787abb7ad29" class="t t">Registrar</a>.<a href="/Xamarin.Forms.Core/A.html#5f29d2ac0e30bd81" class="i property">Registered</a>.<a href="/Xamarin.Forms.Core/A.html#af776dc3bf4e03c2" class="i method">GetHandlerForObject</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7954845ad809eeba" class="t t">IRegisterable</a>&gt;(<span class="r136 r">cell</span>);
 
					<a href="#30271d298fbf39cd" class="k">var</a> <span id="r138 rd" class="r138 r">view</span> = <b>new</b> <a href="#30271d298fbf39cd" class="t constructor">HeaderWrapperView</a>();
					<span class="r138 r">view</span>.<span class="i method">AddSubview</span>(<span class="r137 r">renderer</span>.<a href="../Cells/CellRenderer.cs.html#a95a4a941513429f" class="i method">GetCell</a>(<span class="r136 r">cell</span>, <b>null</b>, <span class="r134 r">tableView</span>));
 
					<b>return</b> <span class="r138 r">view</span>;
				}
 
				<b>return null</b>;
			}
 
			<b>public override</b> <span class="t t">nint</span> <a id="844db6494e287660" href="../R/844db6494e287660.html" target="n" data-glyph="72,2" class="i method">NumberOfSections</a>(<span class="t t">UITableView</span> <span id="r139 rd" class="r139 r">tableView</span>)
			{
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
					<b>return</b> <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>;
 
				<b>return</b> 1;
			}
 
			<b>public void</b> <a id="38962bf3ed5596ec" href="../R/38962bf3ed5596ec.html" target="n" data-glyph="72,2" class="i method">OnItemSelected</a>(<b>object</b> <span id="r140 rd" class="r140 r">sender</span>, <a href="/Xamarin.Forms.Core/A.html#8b9f8c714f679914" class="t t">SelectedItemChangedEventArgs</a> <span id="r141 rd" class="r141 r">eventArg</span>)
			{
				<b>if</b> (<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a>)
				{
					<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a> = <b>false</b>;
					<b>return</b>;
				}
 
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a> == <b>null</b>)
					<b>return</b>;
 
				<a href="@0@mscorlib/A.html#1806cf6634f5a371" class="k">var</a> <span id="r142 rd" class="r142 r">location</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>.<a href="/Xamarin.Forms.Core/A.html#8a8a0c97391d2902" class="i method">GetGroupAndIndexOfItem</a>(<span class="r141 r">eventArg</span>.<a href="/Xamarin.Forms.Core/A.html#e555c9eb6c2cbc99" class="i property">SelectedItem</a>);
				<b>if</b> (<span class="r142 r">location</span>.<a href="@0@mscorlib/A.html#d1922db1cf9dcd03" class="i property">Item1</a> == -1 || <span class="r142 r">location</span>.<a href="@0@mscorlib/A.html#85ddc983cace902c" class="i property">Item2</a> == -1)
				{
					<b>var</b> <span id="r143 rd" class="r143 r">selectedIndexPath</span> = <a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i property">IndexPathForSelectedRow</span>;
 
					<a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r144 rd" class="r144 r">animate</span> = <b>true</b>;
 
					<b>if</b> (<span class="r143 r">selectedIndexPath</span> != <b>null</b>)
					{
						<a href="../ContextActionCell.cs.html#d2e23e4d18bf855d" class="k">var</a> <span id="r145 rd" class="r145 r">cell</span> = <a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">CellAt</span>(<span class="r143 r">selectedIndexPath</span>) <b>as</b> <a href="../ContextActionCell.cs.html#d2e23e4d18bf855d" class="t t">ContextActionsCell</a>;
						<b>if</b> (<span class="r145 r">cell</span> != <b>null</b>)
						{
							<span class="r145 r">cell</span>.<a href="../ContextActionCell.cs.html#b879654a9ced4009" class="i method">PrepareForDeselect</a>();
							<b>if</b> (<span class="r145 r">cell</span>.<a href="../ContextActionCell.cs.html#a6b6ebb0f29cd0bd" class="i property">IsOpen</a>)
								<span class="r144 r">animate</span> = <b>false</b>;
						}
					}
 
					<b>if</b> (<span class="r143 r">selectedIndexPath</span> != <b>null</b>)
						<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">DeselectRow</span>(<span class="r143 r">selectedIndexPath</span>, <span class="r144 r">animate</span>);
					<b>return</b>;
				}
 
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">SelectRow</span>(<span class="t t">NSIndexPath</span>.<span class="i method">FromRowSection</span>(<span class="r142 r">location</span>.<a href="@0@mscorlib/A.html#85ddc983cace902c" class="i property">Item2</a>, <span class="r142 r">location</span>.<a href="@0@mscorlib/A.html#d1922db1cf9dcd03" class="i property">Item1</a>), <b>true</b>, <span class="t t">UITableViewScrollPosition</span>.<span class="i field">Middle</span>);
			}
 
			<b>public override void</b> <a id="fcb40e7eecfcf50e" href="../R/fcb40e7eecfcf50e.html" target="n" data-glyph="72,2" class="i method">RowDeselected</a>(<span class="t t">UITableView</span> <span id="r146 rd" class="r146 r">tableView</span>, <span class="t t">NSIndexPath</span> <span id="r147 rd" class="r147 r">indexPath</span>)
			{
				<b>var</b> <span id="r148 rd" class="r148 r">cell</span> = <span class="r146 r">tableView</span>.<span class="i method">CellAt</span>(<span class="r147 r">indexPath</span>);
				<b>if</b> (<span class="r148 r">cell</span> == <b>null</b>)
					<b>return</b>;
 
				<a href="#9539572247988d4c" class="i method">SetCellBackgroundColor</a>(<span class="r148 r">cell</span>, <a href="#b6443b4f89cfc77c" class="i property">DefaultBackgroundColor</a>);
			}
 
			<b>public override void</b> <a id="1c3ab210ba6bbb42" href="../R/1c3ab210ba6bbb42.html" target="n" data-glyph="72,2" class="i method">RowSelected</a>(<span class="t t">UITableView</span> <span id="r149 rd" class="r149 r">tableView</span>, <span class="t t">NSIndexPath</span> <span id="r150 rd" class="r150 r">indexPath</span>)
			{
				<b>var</b> <span id="r151 rd" class="r151 r">cell</span> = <span class="r149 r">tableView</span>.<span class="i method">CellAt</span>(<span class="r150 r">indexPath</span>);
 
				<b>if</b> (<span class="r151 r">cell</span> == <b>null</b>)
					<b>return</b>;
 
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <span id="r152 rd" class="r152 r">formsCell</span> = <b>null</b>;
				<b>if</b> ((<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#853e43c3430ca1d5" class="i property">CachingStrategy</a> &amp; <a href="/Xamarin.Forms.Core/A.html#7325a6e87ebf132d" class="t t">ListViewCachingStrategy</a>.<a href="/Xamarin.Forms.Core/A.html#791a8ea6a96061a0" class="i field">RecycleElement</a>) != 0)
					<span class="r152 r">formsCell</span> = (<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>)((<a href="/Xamarin.Forms.Core/A.html#71fbb484073b15d1" class="t t">INativeElementView</a>)<span class="r151 r">cell</span>).<a href="/Xamarin.Forms.Core/A.html#2bd1b4b350c894af" class="i property">Element</a>;
 
				<a href="#9539572247988d4c" class="i method">SetCellBackgroundColor</a>(<span class="r151 r">cell</span>, <span class="t t">UIColor</span>.<span class="i property">Clear</span>);
 
				<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a> = <b>true</b>;
 
				<span class="r149 r">tableView</span>.<span class="i method">EndEditing</span>(<b>true</b>);
				<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#73709214c2ae0be8" class="i method">NotifyRowTapped</a>(<span class="r150 r">indexPath</span>.<span class="i property">Section</span>, <span class="r150 r">indexPath</span>.<span class="i property">Row</span>, <span class="r152 r">formsCell</span>);
			}
 
			<b>public override</b> <span class="t t">nint</span> <a id="66a49294569977c1" href="../R/66a49294569977c1.html" target="n" data-glyph="72,2" class="i method">RowsInSection</a>(<span class="t t">UITableView</span> <span id="r153 rd" class="r153 r">tableview</span>, <span class="t t">nint</span> <span id="r154 rd" class="r154 r">section</span>)
			{
				<b>int</b> <span id="r155 rd" class="r155 r">countOverride</span>;
				<b>if</b> (<a href="#55d2be35ddf9ac61" class="i property">Counts</a>.<a href="@0@mscorlib/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>((<b>int</b>)<span class="r154 r">section</span>, <b>out</b> <span class="r155 r">countOverride</span>))
				{
					<a href="#55d2be35ddf9ac61" class="i property">Counts</a>.<a href="@0@mscorlib/A.html#a6db5ffdec557169" class="i method">Remove</a>((<b>int</b>)<span class="r154 r">section</span>);
					<b>return</b> <span class="r155 r">countOverride</span>;
				}
 
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r156 rd" class="r156 r">templatedItems</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
				{
					<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="k">var</a> <span id="r157 rd" class="r157 r">group</span> = (<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="t t">IList</a>)((<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="t t">IList</a>)<span class="r156 r">templatedItems</span>)[(<b>int</b>)<span class="r154 r">section</span>];
					<b>return</b> <span class="r157 r">group</span>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a>;
				}
 
				<b>return</b> <span class="r156 r">templatedItems</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>;
			}
 
			<b>public override void</b> <a id="16056b18f21d9504" href="../R/16056b18f21d9504.html" target="n" data-glyph="72,2" class="i method">Scrolled</a>(<span class="t t">UIScrollView</span> <span id="r158 rd" class="r158 r">scrollView</span>)
			{
				<b>if</b> (<a href="#6e5202fbb829d829" class="i field">_isDragging</a> &amp;&amp; <span class="r158 r">scrollView</span>.<span class="i property">ContentOffset</span>.<span class="i property">Y</span> &lt; 0)
					<a href="#2688233855824df7" class="i field">_uiTableViewController</a>.<a href="#de50db686492c1c1" class="i method">UpdateShowHideRefresh</a>(<b>true</b>);
			}
 
			<b>public override string</b>[] <a id="93d41869cfc1165a" href="../R/93d41869cfc1165a.html" target="n" data-glyph="72,2" class="i method">SectionIndexTitles</a>(<span class="t t">UITableView</span> <span id="r159 rd" class="r159 r">tableView</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r160 rd" class="r160 r">templatedItems</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
				<b>if</b> (<span class="r160 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a> == <b>null</b>)
					<b>return null</b>;
 
				<b>return</b> <span class="r160 r">templatedItems</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a>.<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
			}
 
			<b>public override string</b> <a id="77118720b145ee3e" href="../R/77118720b145ee3e.html" target="n" data-glyph="72,2" class="i method">TitleForHeader</a>(<span class="t t">UITableView</span> <span id="r161 rd" class="r161 r">tableView</span>, <span class="t t">nint</span> <span id="r162 rd" class="r162 r">section</span>)
			{
				<b>if</b> (!<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
					<b>return null</b>;
 
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r163 rd" class="r163 r">sl</span> = <a href="#e658e3995846a4b2" class="i method">GetSectionList</a>((<b>int</b>)<span class="r162 r">section</span>);
				<span class="r163 r">sl</span>.<a href="/Xamarin.Forms.Core/A.html#8dcc10d134b7cc15" class="i">PropertyChanged</a> -= <a href="#0aaf79eaf215c8e4" class="i method">OnSectionPropertyChanged</a>;
				<span class="r163 r">sl</span>.<a href="/Xamarin.Forms.Core/A.html#8dcc10d134b7cc15" class="i">PropertyChanged</a> += <a href="#0aaf79eaf215c8e4" class="i method">OnSectionPropertyChanged</a>;
 
				<b>return</b> <span class="r163 r">sl</span>.<a href="/Xamarin.Forms.Core/A.html#0b91d67893219a3c" class="i property">Name</a>;
			}
 
			<b>public void</b> <a id="03579e3fd4fe3933" href="../R/03579e3fd4fe3933.html" target="n" data-glyph="72,2" class="i method">Cleanup</a>()
			{
				<a href="#f1604b0a40162735" class="i field">_selectionFromNative</a> = <b>false</b>;
				<a href="#6e5202fbb829d829" class="i field">_isDragging</a> = <b>false</b>;
			}
 
			<b>public void</b> <a id="8fb5995ba8811de7" href="../R/8fb5995ba8811de7.html" target="n" data-glyph="72,2" class="i method">UpdateGrouping</a>()
			{
				<a href="#620027a2b9a6e6a0" class="i method">UpdateShortNameListener</a>();
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">ReloadData</span>();
			}
 
			<b>protected</b> <a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="t t">ITemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt; <a id="1e7db37939c69c9c" href="../R/1e7db37939c69c9c.html" target="n" data-glyph="75,2" class="i method">GetTemplatedItemsListForPath</a>(<span class="t t">NSIndexPath</span> <span id="r164 rd" class="r164 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r165 rd" class="r165 r">templatedItems</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
					<span class="r165 r">templatedItems</span> = (<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="t t">ITemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)((<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="t t">IList</a>)<span class="r165 r">templatedItems</span>)[<span class="r164 r">indexPath</span>.<span class="i property">Section</span>];
 
				<b>return</b> <span class="r165 r">templatedItems</span>;
			}
 
			<b>protected</b> <a href="/Xamarin.Forms.Core/A.html#8bb08c0913bdfc63" class="t t">DataTemplate</a> <a id="a34b9add1a98680e" href="../R/a34b9add1a98680e.html" target="n" data-glyph="75,2" class="i method">GetDataTemplateForPath</a>(<span class="t t">NSIndexPath</span> <span id="r166 rd" class="r166 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r167 rd" class="r167 r">templatedList</span> = <a href="#1e7db37939c69c9c" class="i method">GetTemplatedItemsListForPath</a>(<span class="r166 r">indexPath</span>);
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r168 rd" class="r168 r">item</span> = <span class="r167 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#95cf81e423c7f190" class="i property">ListProxy</a><a href="@0@mscorlib/A.html#32c1ca862ea365e7">[</a><span class="r166 r">indexPath</span>.<span class="i property">Row</span>];
				<b>return</b> <span class="r167 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#ce517531ff024343" class="i method">SelectDataTemplate</a>(<span class="r168 r">item</span>);
			}
 
			<b>protected</b> <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <a id="4c15736be8df4588" href="../R/4c15736be8df4588.html" target="n" data-glyph="75,2" class="i method">GetItemTypeForPath</a>(<span class="t t">NSIndexPath</span> <span id="r169 rd" class="r169 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r170 rd" class="r170 r">templatedList</span> = <a href="#1e7db37939c69c9c" class="i method">GetTemplatedItemsListForPath</a>(<span class="r169 r">indexPath</span>);
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r171 rd" class="r171 r">item</span> = <span class="r170 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#95cf81e423c7f190" class="i property">ListProxy</a><a href="@0@mscorlib/A.html#32c1ca862ea365e7">[</a><span class="r169 r">indexPath</span>.<span class="i property">Row</span>];
				<b>return</b> <span class="r171 r">item</span>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>();
			}
 
			<b>protected</b> <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a> <a id="e5a40c33bbc939e0" href="../R/e5a40c33bbc939e0.html" target="n" data-glyph="75,2" class="i method">GetCellForPath</a>(<span class="t t">NSIndexPath</span> <span id="r172 rd" class="r172 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r173 rd" class="r173 r">templatedItems</span> = <a href="#1e7db37939c69c9c" class="i method">GetTemplatedItemsListForPath</a>(<span class="r172 r">indexPath</span>);
				<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="k">var</a> <span id="r174 rd" class="r174 r">cell</span> = <span class="r173 r">templatedItems</span><a href="@0@mscorlib/A.html#82c76a7ac911cb07">[</a><span class="r172 r">indexPath</span>.<span class="i property">Row</span>];
				<b>return</b> <span class="r174 r">cell</span>;
			}
 
			<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="t t">ITemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt; <a id="e658e3995846a4b2" href="../R/e658e3995846a4b2.html" target="n" data-glyph="76,2" class="i method">GetSectionList</a>(<b>int</b> <span id="r175 rd" class="r175 r">section</span>)
			{
				<b>return</b> (<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="t t">ITemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)((<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="t t">IList</a>)<a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>)[<span class="r175 r">section</span>];
			}
 
			<b>void</b> <a id="0aaf79eaf215c8e4" href="../R/0aaf79eaf215c8e4.html" target="n" data-glyph="76,2" class="i method">OnSectionPropertyChanged</a>(<b>object</b> <span id="r176 rd" class="r176 r">sender</span>, <a href="@0@System/A.html#f613cfcc9d2b2a4b" class="t t">PropertyChangedEventArgs</a> <span id="r177 rd" class="r177 r">e</span>)
			{
				<b>var</b> <span id="r178 rd" class="r178 r">currentSelected</span> = <a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i property">IndexPathForSelectedRow</span>;
 
				<a href="/Xamarin.Forms.Core/A.html#1bbf66e01c80bd54" class="k">var</a> <span id="r179 rd" class="r179 r">til</span> = (<a href="/Xamarin.Forms.Core/A.html#1bbf66e01c80bd54" class="t t">TemplatedItemsList</a>&lt;<a href="/Xamarin.Forms.Core/A.html#e6e9068bbee42f54" class="t t">ItemsView</a>&lt;<a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;, <a href="/Xamarin.Forms.Core/A.html#7706486019503b22" class="t t">Cell</a>&gt;)<span class="r176 r">sender</span>;
				<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r180 rd" class="r180 r">groupIndex</span> = ((<a href="@0@mscorlib/A.html#5d74f6adfeaf6c7d" class="t t">IList</a>)<a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>).<a href="@0@mscorlib/A.html#de5de69de55c396f" class="i method">IndexOf</a>(<span class="r179 r">til</span>);
				<b>if</b> (<span class="r180 r">groupIndex</span> == -1)
				{
					<span class="r179 r">til</span>.<a href="/Xamarin.Forms.Core/A.html#72c3e722cf6fa9ba" class="i">PropertyChanged</a> -= <a href="#0aaf79eaf215c8e4" class="i method">OnSectionPropertyChanged</a>;
					<b>return</b>;
				}
 
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">ReloadSections</span>(<span class="t t">NSIndexSet</span>.<span class="i method">FromIndex</span>(<span class="r180 r">groupIndex</span>), <a href="#552d1797cea2f244" class="i property">ReloadSectionsAnimation</a>);
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">SelectRow</span>(<span class="r178 r">currentSelected</span>, <b>false</b>, <span class="t t">UITableViewScrollPosition</span>.<span class="i field">None</span>);
			}
 
			<b>void</b> <a id="6247d17bcbfd6624" href="../R/6247d17bcbfd6624.html" target="n" data-glyph="76,2" class="i method">OnShortNamesCollectionChanged</a>(<b>object</b> <span id="r181 rd" class="r181 r">sender</span>, <a href="@0@System/A.html#f5d7031313cab4ab" class="t t">NotifyCollectionChangedEventArgs</a> <span id="r182 rd" class="r182 r">e</span>)
			{
				<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a>.<span class="i method">ReloadSectionIndexTitles</span>();
			}
 
			<b>static void</b> <a id="9539572247988d4c" href="../R/9539572247988d4c.html" target="n" data-glyph="76,2" class="i method">SetCellBackgroundColor</a>(<span class="t t">UITableViewCell</span> <span id="r183 rd" class="r183 r">cell</span>, <span class="t t">UIColor</span> <span id="r184 rd" class="r184 r">color</span>)
			{
				<a href="../ContextActionCell.cs.html#d2e23e4d18bf855d" class="k">var</a> <span id="r185 rd" class="r185 r">contextCell</span> = <span class="r183 r">cell</span> <b>as</b> <a href="../ContextActionCell.cs.html#d2e23e4d18bf855d" class="t t">ContextActionsCell</a>;
				<span class="r183 r">cell</span>.<span class="i property">BackgroundColor</span> = <span class="r184 r">color</span>;
				<b>if</b> (<span class="r185 r">contextCell</span> != <b>null</b>)
					<span class="r185 r">contextCell</span>.<a href="../ContextActionCell.cs.html#afa1754f4117b8cf" class="i property">ContentCell</a>.<span class="i property">BackgroundColor</span> = <span class="r184 r">color</span>;
			}
 
			<b>int</b> <a id="3e33ed45fa960570" href="../R/3e33ed45fa960570.html" target="n" data-glyph="76,2" class="i method">TemplateIdForPath</a>(<span class="t t">NSIndexPath</span> <span id="r186 rd" class="r186 r">indexPath</span>)
			{
				<a href="/Xamarin.Forms.Core/A.html#8bb08c0913bdfc63" class="k">var</a> <span id="r187 rd" class="r187 r">itemTemplate</span> = <a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#e714497888d14198" class="i property">ItemTemplate</a>;
				<a href="/Xamarin.Forms.Core/A.html#7935887479ca6f68" class="k">var</a> <span id="r188 rd" class="r188 r">selector</span> = <span class="r187 r">itemTemplate</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#7935887479ca6f68" class="t t">DataTemplateSelector</a>;
				<b>if</b> (<span class="r188 r">selector</span> == <b>null</b>)
					<b>return</b> <a href="#975eecd2caaacb7c" class="i field">DefaultItemTemplateId</a>;
 
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r189 rd" class="r189 r">templatedList</span> = <a href="#1e7db37939c69c9c" class="i method">GetTemplatedItemsListForPath</a>(<span class="r186 r">indexPath</span>);
				<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r190 rd" class="r190 r">item</span> = <span class="r189 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#95cf81e423c7f190" class="i property">ListProxy</a><a href="@0@mscorlib/A.html#32c1ca862ea365e7">[</a><span class="r186 r">indexPath</span>.<span class="i property">Row</span>];
 
				<span class="r187 r">itemTemplate</span> = <span class="r188 r">selector</span>.<a href="/Xamarin.Forms.Core/A.html#127faae5ce046dcd" class="i method">SelectTemplate</a>(<span class="r190 r">item</span>, <a href="#465fede3557033fc" class="i field">List</a>);
				<b>int</b> <span id="r191 rd" class="r191 r">key</span>;
				<b>if</b> (!<a href="#2cdd7acea2adb52a" class="i field">_templateToId</a>.<a href="@0@mscorlib/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<span class="r187 r">itemTemplate</span>, <b>out</b> <span class="r191 r">key</span>))
				{
					<a href="#fcf228df3c6aba2a" class="i field">s_dataTemplateIncrementer</a>++;
					<span class="r191 r">key</span> = <a href="#fcf228df3c6aba2a" class="i field">s_dataTemplateIncrementer</a>;
					<a href="#2cdd7acea2adb52a" class="i field">_templateToId</a><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r187 r">itemTemplate</span>] = <span class="r191 r">key</span>;
				}
				<b>return</b> <span class="r191 r">key</span>;
			}
 
			<b>void</b> <a id="620027a2b9a6e6a0" href="../R/620027a2b9a6e6a0.html" target="n" data-glyph="76,2" class="i method">UpdateShortNameListener</a>()
			{
				<a href="/Xamarin.Forms.Core/A.html#5fafd275375b1472" class="k">var</a> <span id="r192 rd" class="r192 r">templatedList</span> = <a href="#b5d50be928aeb054" class="i property">TemplatedItemsView</a>.<a href="/Xamarin.Forms.Core/A.html#5c03fae343562417" class="i property">TemplatedItems</a>;
				<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#0b780b61bce76534" class="i property">IsGroupingEnabled</a>)
				{
					<b>if</b> (<span class="r192 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a> != <b>null</b>)
						((<a href="@0@System/A.html#c0af625dba98c968" class="t t">INotifyCollectionChanged</a>)<span class="r192 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a>).<a href="@0@System/A.html#26300c777385ef7c" class="i">CollectionChanged</a> += <a href="#6247d17bcbfd6624" class="i method">OnShortNamesCollectionChanged</a>;
				}
				<b>else</b>
				{
					<b>if</b> (<span class="r192 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a> != <b>null</b>)
						((<a href="@0@System/A.html#c0af625dba98c968" class="t t">INotifyCollectionChanged</a>)<span class="r192 r">templatedList</span>.<a href="/Xamarin.Forms.Core/A.html#698b3d0a651f405a" class="i property">ShortNames</a>).<a href="@0@System/A.html#26300c777385ef7c" class="i">CollectionChanged</a> -= <a href="#6247d17bcbfd6624" class="i method">OnShortNamesCollectionChanged</a>;
				}
			}
 
			<b>protected override void</b> <a id="5af7f20155415d03" href="../R/5af7f20155415d03.html" target="n" data-glyph="75,2" class="i method">Dispose</a>(<b>bool</b> <span id="r193 rd" class="r193 r">disposing</span>)
			{
				<b>if</b> (<a href="#a88694a8b5d996ce" class="i field">_disposed</a>)
					<b>return</b>;
 
				<b>if</b> (<span class="r193 r">disposing</span>)
				{
					<b>if</b> (<a href="#465fede3557033fc" class="i field">List</a> != <b>null</b>)
					{
						<a href="#465fede3557033fc" class="i field">List</a>.<a href="/Xamarin.Forms.Core/A.html#b7f2960fb90d27ad" class="i">ItemSelected</a> -= <a href="#38962bf3ed5596ec" class="i method">OnItemSelected</a>;
						<a href="#465fede3557033fc" class="i field">List</a> = <b>null</b>;
					}
 
					<a href="#2cdd7acea2adb52a" class="i field">_templateToId</a> = <b>null</b>;
					<a href="#59595c7459aaf7eb" class="i field">_uiTableView</a> = <b>null</b>;
					<a href="#2688233855824df7" class="i field">_uiTableViewController</a> = <b>null</b>;
				}
 
				<a href="#a88694a8b5d996ce" class="i field">_disposed</a> = <b>true</b>;
 
				<b>base</b>.<span class="i method">Dispose</span>(<span class="r193 r">disposing</span>);
			}
 
			<b>void</b> <a id="c1f62bc5fe9ec9dc" href="../R/c1f62bc5fe9ec9dc.html" target="n" data-glyph="76,2" class="i method">PreserveActivityIndicatorState</a>(<a href="/Xamarin.Forms.Core/A.html#76098df8350c0484" class="t t">Element</a> <span id="r194 rd" class="r194 r">element</span>)
			{
				<b>if</b> (<span class="r194 r">element</span> == <b>null</b>)
					<b>return</b>;
 
				<a href="/Xamarin.Forms.Core/A.html#7bf0ec975c61fa24" class="k">var</a> <span id="r195 rd" class="r195 r">activityIndicator</span> = <span class="r194 r">element</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#7bf0ec975c61fa24" class="t t">ActivityIndicator</a>;
				<b>if</b> (<span class="r195 r">activityIndicator</span> != <b>null</b>)
				{
					<a href="ActivityIndicatorRenderer.cs.html#dbd0005526ca7ab9" class="k">var</a> <span id="r196 rd" class="r196 r">renderer</span> = <a href="../Platform.cs.html#348bf1c3abb233c7" class="t t">Platform</a>.<a href="../Platform.cs.html#f9842318ec9d3985" class="i method">GetRenderer</a>(<span class="r195 r">activityIndicator</span>) <b>as</b> <a href="ActivityIndicatorRenderer.cs.html#dbd0005526ca7ab9" class="t t">ActivityIndicatorRenderer</a>;
					<span class="r196 r">renderer</span>?.<a href="ActivityIndicatorRenderer.cs.html#524e2fdc94d9a382" class="i method">PreserveState</a>();
				}
				<b>else</b>
				{
					<b>foreach</b> (<a href="/Xamarin.Forms.Core/A.html#76098df8350c0484" class="t t">Element</a> <span id="r197 rd" class="r197 r">childElement</span> <b>in</b> (<span class="r194 r">element</span> <b>as</b> <a href="/Xamarin.Forms.Core/A.html#abc33db1a216ce31" class="t t">IElementController</a>).<a href="/Xamarin.Forms.Core/A.html#cbe8ebab3c282a32" class="i property">LogicalChildren</a>)
						<a href="#c1f62bc5fe9ec9dc" class="i method">PreserveActivityIndicatorState</a>(<span class="r197 r">childElement</span>);
				}
			}
		}
	}
 
	<b>internal class</b> <a id="30271d298fbf39cd" href="../R/30271d298fbf39cd.html" target="n" data-glyph="2,0" class="t t"><span id="465412ad5b6963f5">HeaderWrapperView</span></a> : <span class="t t">UIView</span>
	{
		<b>public override void</b> <a id="d7f8c3620d26a686" href="../R/d7f8c3620d26a686.html" target="n" data-glyph="72,1" class="i method">LayoutSubviews</a>()
		{
			<b>base</b>.<span class="i method">LayoutSubviews</span>();
			<b>foreach</b> (<b>var</b> <span id="r198 rd" class="r198 r">item</span> <b>in</b> <span class="i property">Subviews</span>)
				<span class="r198 r">item</span>.<span class="i property">Frame</span> = <span class="i property">Bounds</span>;
		}
	}
 
	<b>internal class</b> <a id="eb7baaa7afc31c61" href="../R/eb7baaa7afc31c61.html" target="n" data-glyph="2,0" class="t t">FormsUITableViewController</a> : <span class="t t">UITableViewController</span>
	{
		<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <a id="c045cd06e1feb767" href="../R/c045cd06e1feb767.html" target="n" data-glyph="46,1" class="i field">_list</a>;
		<span class="t t">UIRefreshControl</span> <a id="55b44446eeb26279" href="../R/55b44446eeb26279.html" target="n" data-glyph="46,1" class="i field">_refresh</a>;
 
		<b>bool</b> <a id="8afbe15a0896bfd9" href="../R/8afbe15a0896bfd9.html" target="n" data-glyph="46,1" class="i field">_refreshAdded</a>;
		<b>bool</b> <a id="4869bbb93b45341b" href="../R/4869bbb93b45341b.html" target="n" data-glyph="46,1" class="i field">_disposed</a>;
 
		<b>public</b> <a id="82b794ebfee6f5ca" href="../R/82b794ebfee6f5ca.html" target="n" data-glyph="72,1" class="i constructor">FormsUITableViewController</a>(<a href="/Xamarin.Forms.Core/A.html#bde8d740ed7039c7" class="t t">ListView</a> <span id="r199 rd" class="r199 r">element</span>)
		{
			<b>if</b> (<a href="../Forms.cs.html#eb8800bb7e650425" class="t t">Forms</a>.<a href="../Forms.cs.html#c03e7d280ce62a49" class="i property">IsiOS9OrNewer</a>)
				<span class="i property">TableView</span>.<span class="i property">CellLayoutMarginsFollowReadableWidth</span> = <b>false</b>;
			<a href="#55b44446eeb26279" class="i field">_refresh</a> = <b>new</b> <span class="t constructor">UIRefreshControl</span>();
			<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i">ValueChanged</span> += <a href="#e754213cd3480934" class="i method">OnRefreshingChanged</a>;
			<a href="#c045cd06e1feb767" class="i field">_list</a> = <span class="r199 r">element</span>;
		}
 
		<b>public void</b> <a id="6f4037976930e197" href="../R/6f4037976930e197.html" target="n" data-glyph="72,1" class="i method">UpdateIsRefreshing</a>(<b>bool</b> <span id="r200 rd" class="r200 r">refreshing</span>)
		{
			<b>if</b> (<span class="r200 r">refreshing</span>)
			{
				<b>if</b> (!<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a>)
				{
					<span class="i property">RefreshControl</span> = <a href="#55b44446eeb26279" class="i field">_refresh</a>;
					<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a> = <b>true</b>;
				}
 
				<b>if</b> (!<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Refreshing</span>)
				{
					<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i method">BeginRefreshing</span>();
 
					<span class="c">//hack: when we don&#39;t have cells in our UITableView the spinner fails to appear</span>
					<a href="#886696a9f7084c7c" class="i method">CheckContentSize</a>();
 
					<span class="i property">TableView</span>.<span class="i method">ScrollRectToVisible</span>(<b>new</b> <span class="t constructor">RectangleF</span>(0, 0, <a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Bounds</span>.<span class="i property">Width</span>, <a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Bounds</span>.<span class="i property">Height</span>), <b>true</b>);
				}
			}
			<b>else</b>
			{
				<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i method">EndRefreshing</span>();
 
				<b>if</b> (!<a href="#c045cd06e1feb767" class="i field">_list</a>.<a href="/Xamarin.Forms.Core/A.html#2b34e6ba669638df" class="i property">IsPullToRefreshEnabled</a>)
					<a href="#6f20c27bc4513af3" class="i method">RemoveRefresh</a>();
			}
		}
 
		<b>public void</b> <a id="965cdb63fe8c087a" href="../R/965cdb63fe8c087a.html" target="n" data-glyph="72,1" class="i method">UpdatePullToRefreshEnabled</a>(<b>bool</b> <span id="r201 rd" class="r201 r">pullToRefreshEnabled</span>)
		{
			<b>if</b> (<span class="r201 r">pullToRefreshEnabled</span>)
			{
				<b>if</b> (!<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a>)
				{
					<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a> = <b>true</b>;
					<span class="i property">RefreshControl</span> = <a href="#55b44446eeb26279" class="i field">_refresh</a>;
				}
			}
			<span class="c">// https://bugzilla.xamarin.com/show_bug.cgi?id=52962</span>
			<span class="c">// just because pullToRefresh is being disabled does not mean we should kill an in progress refresh. </span>
			<span class="c">// Consider the case where:</span>
			<span class="c">//   1. User pulls to refresh</span>
			<span class="c">//   2. App RefreshCommand fires (at this point _refresh.Refreshing is true)</span>
			<span class="c">//   3. RefreshCommand disables itself via a call to ChangeCanExecute which returns false</span>
			<span class="c">//			(maybe the command it&#39;s attached to a button the app wants disabled)</span>
			<span class="c">//   4. OnCommandCanExecuteChanged handler sets RefreshAllowed to false because the RefreshCommand is disabled</span>
			<span class="c">//   5. We end up here; A refresh is in progress while being asked to disable pullToRefresh</span>
		}
 
		<b>public void</b> <a id="de50db686492c1c1" href="../R/de50db686492c1c1.html" target="n" data-glyph="72,1" class="i method">UpdateShowHideRefresh</a>(<b>bool</b> <span id="r202 rd" class="r202 r">shouldHide</span>)
		{
			<b>if</b> (<a href="#c045cd06e1feb767" class="i field">_list</a>.<a href="/Xamarin.Forms.Core/A.html#2b34e6ba669638df" class="i property">IsPullToRefreshEnabled</a>)
				<b>return</b>;
 
			<b>if</b> (<span class="r202 r">shouldHide</span>)
				<a href="#6f20c27bc4513af3" class="i method">RemoveRefresh</a>();
			<b>else</b>
				<a href="#6f4037976930e197" class="i method">UpdateIsRefreshing</a>(<a href="#c045cd06e1feb767" class="i field">_list</a>.<a href="/Xamarin.Forms.Core/A.html#d61e6639459dfdf7" class="i property">IsRefreshing</a>);
		}
 
		<b>public override void</b> <a id="4080c2c24ccc9993" href="../R/4080c2c24ccc9993.html" target="n" data-glyph="72,1" class="i method">ViewWillAppear</a>(<b>bool</b> <span id="r203 rd" class="r203 r">animated</span>)
		{
			(<span class="i property">TableView</span>?.<span class="i property">Source</span> <b>as</b> <a href="#32fec0055ca88fab" class="t t">ListViewRenderer</a>.<a href="#d75234352b46fdca" class="t t">ListViewDataSource</a>)?.<a href="#03579e3fd4fe3933" class="i method">Cleanup</a>();
			<b>if</b> (!<a href="#c045cd06e1feb767" class="i field">_list</a>.<a href="/Xamarin.Forms.Core/A.html#d61e6639459dfdf7" class="i property">IsRefreshing</a> || !<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Refreshing</span>) <b>return</b>;
 
			<span class="c">// Restart the refreshing to get the animation to trigger</span>
			<a href="#6f4037976930e197" class="i method">UpdateIsRefreshing</a>(<b>false</b>);
			<a href="#6f4037976930e197" class="i method">UpdateIsRefreshing</a>(<b>true</b>);
		}
 
		<b>protected override void</b> <a id="30595be51b6137c1" href="../R/30595be51b6137c1.html" target="n" data-glyph="75,1" class="i method">Dispose</a>(<b>bool</b> <span id="r204 rd" class="r204 r">disposing</span>)
		{
			<b>if</b> (<a href="#4869bbb93b45341b" class="i field">_disposed</a>)
				<b>return</b>;
 
			<b>if</b> (<span class="r204 r">disposing</span>)
			{
				<b>if</b> (<a href="#55b44446eeb26279" class="i field">_refresh</a> != <b>null</b>)
				{
					<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i">ValueChanged</span> -= <a href="#e754213cd3480934" class="i method">OnRefreshingChanged</a>;
					<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i method">EndRefreshing</span>();
					<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i method">Dispose</span>();
					<a href="#55b44446eeb26279" class="i field">_refresh</a> = <b>null</b>;
				}
 
				<a href="#c045cd06e1feb767" class="i field">_list</a> = <b>null</b>;
			}
 
			<a href="#4869bbb93b45341b" class="i field">_disposed</a> = <b>true</b>;
 
			<b>base</b>.<span class="i method">Dispose</span>(<span class="r204 r">disposing</span>);
		}
 
		<b>void</b> <a id="886696a9f7084c7c" href="../R/886696a9f7084c7c.html" target="n" data-glyph="76,1" class="i method">CheckContentSize</a>()
		{
			<span class="c">//adding a default height of at least 1 pixel tricks iOS to show the spinner</span>
			<b>var</b> <span id="r205 rd" class="r205 r">contentSize</span> = <span class="i property">TableView</span>.<span class="i property">ContentSize</span>;
			<b>if</b> (<span class="r205 r">contentSize</span>.<span class="i property">Height</span> == 0)
				<span class="i property">TableView</span>.<span class="i property">ContentSize</span> = <b>new</b> <span class="t constructor">SizeF</span>(<span class="r205 r">contentSize</span>.<span class="i property">Width</span>, 1);
		}
 
		<b>void</b> <a id="e754213cd3480934" href="../R/e754213cd3480934.html" target="n" data-glyph="76,1" class="i method">OnRefreshingChanged</a>(<b>object</b> <span id="r206 rd" class="r206 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r207 rd" class="r207 r">eventArgs</span>)
		{
			<b>if</b> (<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Refreshing</span>)
				<a href="#c045cd06e1feb767" class="i field">_list</a>.<a href="/Xamarin.Forms.Core/A.html#e556e5ae10e777cf" class="i method">SendRefreshing</a>();
		}
 
		<b>void</b> <a id="6f20c27bc4513af3" href="../R/6f20c27bc4513af3.html" target="n" data-glyph="76,1" class="i method">RemoveRefresh</a>()
		{
			<b>if</b> (!<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a>)
				<b>return</b>;
 
			<b>if</b> (<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i property">Refreshing</span>)
				<a href="#55b44446eeb26279" class="i field">_refresh</a>.<span class="i method">EndRefreshing</span>();
 
			<span class="i property">RefreshControl</span> = <b>null</b>;
			<a href="#8afbe15a0896bfd9" class="i field">_refreshAdded</a> = <b>false</b>;
		}
	}
}
</pre></td></tr></table></div></body></html>
